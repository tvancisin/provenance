var Ji=Object.defineProperty;var Zi=(e,t,n)=>t in e?Ji(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var xt=(e,t,n)=>(Zi(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Pe(){}function Wr(e){return e()}function Rn(){return Object.create(null)}function Ue(e){e.forEach(Wr)}function Qr(e){return typeof e=="function"}function ji(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function ea(e){return Object.keys(e).length===0}function A(e,t){e.appendChild(t)}function R(e,t,n){e.insertBefore(t,n||null)}function T(e){e.parentNode&&e.parentNode.removeChild(e)}function he(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function we(e){return document.createElement(e)}function M(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Fe(e){return document.createTextNode(e)}function it(){return Fe(" ")}function z(){return Fe("")}function fe(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function f(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ta(e){return Array.from(e.childNodes)}function je(e,t){t=""+t,e.data!==t&&(e.data=t)}function Be(e,t,n,r){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}let Nt;function na(){if(Nt===void 0){Nt=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{Nt=!0}}return Nt}function ra(e,t){getComputedStyle(e).position==="static"&&(e.style.position="relative");const r=we("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const i=na();let a;return i?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",a=fe(window,"message",o=>{o.source===r.contentWindow&&t()})):(r.src="about:blank",r.onload=()=>{a=fe(r.contentWindow,"resize",t),t()}),A(e,r),()=>{(i||a&&r.contentWindow)&&a(),T(r)}}let cn;function _t(e){cn=e}const rt=[],On=[];let at=[];const Dn=[],ia=Promise.resolve();let nn=!1;function aa(){nn||(nn=!0,ia.then(Gr))}function It(e){at.push(e)}const Kt=new Set;let nt=0;function Gr(){if(nt!==0)return;const e=cn;do{try{for(;nt<rt.length;){const t=rt[nt];nt++,_t(t),oa(t.$$)}}catch(t){throw rt.length=0,nt=0,t}for(_t(null),rt.length=0,nt=0;On.length;)On.pop()();for(let t=0;t<at.length;t+=1){const n=at[t];Kt.has(n)||(Kt.add(n),n())}at.length=0}while(rt.length);for(;Dn.length;)Dn.pop()();nn=!1,Kt.clear(),_t(e)}function oa(e){if(e.fragment!==null){e.update(),Ue(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(It)}}function la(e){const t=[],n=[];at.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),at=t}const sa=new Set;function fa(e,t){e&&e.i&&(sa.delete(e),e.i(t))}function D(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function ua(e,t,n){const{fragment:r,after_update:i}=e.$$;r&&r.m(t,n),It(()=>{const a=e.$$.on_mount.map(Wr).filter(Qr);e.$$.on_destroy?e.$$.on_destroy.push(...a):Ue(a),e.$$.on_mount=[]}),i.forEach(It)}function ca(e,t){const n=e.$$;n.fragment!==null&&(la(n.after_update),Ue(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ha(e,t){e.$$.dirty[0]===-1&&(rt.push(e),aa(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function pa(e,t,n,r,i,a,o=null,l=[-1]){const u=cn;_t(e);const h=e.$$={fragment:null,ctx:[],props:a,update:Pe,not_equal:i,bound:Rn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:Rn(),dirty:l,skip_bound:!1,root:t.target||u.$$.root};o&&o(h.root);let p=!1;if(h.ctx=n?n(e,t.props||{},(_,m,...w)=>{const b=w.length?w[0]:m;return h.ctx&&i(h.ctx[_],h.ctx[_]=b)&&(!h.skip_bound&&h.bound[_]&&h.bound[_](b),p&&ha(e,_)),m}):[],h.update(),p=!0,Ue(h.before_update),h.fragment=r?r(h.ctx):!1,t.target){if(t.hydrate){const _=ta(t.target);h.fragment&&h.fragment.l(_),_.forEach(T)}else h.fragment&&h.fragment.c();t.intro&&fa(e.$$.fragment),ua(e,t.target,t.anchor),Gr()}_t(u)}class da{constructor(){xt(this,"$$");xt(this,"$$set")}$destroy(){ca(this,1),this.$destroy=Pe}$on(t,n){if(!Qr(n))return Pe;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!ea(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const _a="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(_a);class ma extends Map{constructor(t,n=wa){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(qn(this,t))}has(t){return super.has(qn(this,t))}set(t,n){return super.set(ga(this,t),n)}delete(t){return super.delete(ya(this,t))}}function qn({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function ga({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function ya({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function wa(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Fn(e){return e}function xr(e,...t){return ba(e,Fn,Fn,t)}function ba(e,t,n,r){return function i(a,o){if(o>=r.length)return n(a);const l=new ma,u=r[o++];let h=-1;for(const p of a){const _=u(p,++h,a),m=l.get(_);m?m.push(p):l.set(_,[p])}for(const[p,_]of l)l.set(p,i(_,o));return t(l)}(e,0)}function va(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}const ka=$a(Math.random);function $a(e){return function(n,r=0,i=n.length){let a=i-(r=+r);for(;a;){const o=e()*a--|0,l=n[a+r];n[a+r]=n[o+r],n[o+r]=l}return n}}function Aa(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}var Ca={value:()=>{}};function Kr(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Mt(n)}function Mt(e){this._=e}function Pa(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Mt.prototype=Kr.prototype={constructor:Mt,on:function(e,t){var n=this._,r=Pa(e+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(e=r[a]).type)&&(i=Na(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(i=(e=r[a]).type)n[i]=zn(n[i],e.name,t);else if(t==null)for(i in n)n[i]=zn(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Mt(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function Na(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function zn(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Ca,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var rn="http://www.w3.org/1999/xhtml";const Hn={svg:"http://www.w3.org/2000/svg",xhtml:rn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Vt(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Hn.hasOwnProperty(t)?{space:Hn[t],local:e}:e}function Ea(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===rn&&t.documentElement.namespaceURI===rn?t.createElement(e):t.createElementNS(n,e)}}function Xa(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Jr(e){var t=Vt(e);return(t.local?Xa:Ea)(t)}function Sa(){}function hn(e){return e==null?Sa:function(){return this.querySelector(e)}}function Ma(e){typeof e!="function"&&(e=hn(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,l=r[i]=new Array(o),u,h,p=0;p<o;++p)(u=a[p])&&(h=e.call(u,u.__data__,p,a))&&("__data__"in u&&(h.__data__=u.__data__),l[p]=h);return new ce(r,this._parents)}function Zr(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function La(){return[]}function jr(e){return e==null?La:function(){return this.querySelectorAll(e)}}function Ta(e){return function(){return Zr(e.apply(this,arguments))}}function Ia(e){typeof e=="function"?e=Ta(e):e=jr(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o=t[a],l=o.length,u,h=0;h<l;++h)(u=o[h])&&(r.push(e.call(u,u.__data__,h,o)),i.push(u));return new ce(r,i)}function ei(e){return function(){return this.matches(e)}}function ti(e){return function(t){return t.matches(e)}}var Ra=Array.prototype.find;function Oa(e){return function(){return Ra.call(this.children,e)}}function Da(){return this.firstElementChild}function qa(e){return this.select(e==null?Da:Oa(typeof e=="function"?e:ti(e)))}var Fa=Array.prototype.filter;function za(){return Array.from(this.children)}function Ha(e){return function(){return Fa.call(this.children,e)}}function Ba(e){return this.selectAll(e==null?za:Ha(typeof e=="function"?e:ti(e)))}function Va(e){typeof e!="function"&&(e=ei(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,l=r[i]=[],u,h=0;h<o;++h)(u=a[h])&&e.call(u,u.__data__,h,a)&&l.push(u);return new ce(r,this._parents)}function ni(e){return new Array(e.length)}function Ua(){return new ce(this._enter||this._groups.map(ni),this._parents)}function Rt(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Rt.prototype={constructor:Rt,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Ya(e){return function(){return e}}function Wa(e,t,n,r,i,a){for(var o=0,l,u=t.length,h=a.length;o<h;++o)(l=t[o])?(l.__data__=a[o],r[o]=l):n[o]=new Rt(e,a[o]);for(;o<u;++o)(l=t[o])&&(i[o]=l)}function Qa(e,t,n,r,i,a,o){var l,u,h=new Map,p=t.length,_=a.length,m=new Array(p),w;for(l=0;l<p;++l)(u=t[l])&&(m[l]=w=o.call(u,u.__data__,l,t)+"",h.has(w)?i[l]=u:h.set(w,u));for(l=0;l<_;++l)w=o.call(e,a[l],l,a)+"",(u=h.get(w))?(r[l]=u,u.__data__=a[l],h.delete(w)):n[l]=new Rt(e,a[l]);for(l=0;l<p;++l)(u=t[l])&&h.get(m[l])===u&&(i[l]=u)}function Ga(e){return e.__data__}function xa(e,t){if(!arguments.length)return Array.from(this,Ga);var n=t?Qa:Wa,r=this._parents,i=this._groups;typeof e!="function"&&(e=Ya(e));for(var a=i.length,o=new Array(a),l=new Array(a),u=new Array(a),h=0;h<a;++h){var p=r[h],_=i[h],m=_.length,w=Ka(e.call(p,p&&p.__data__,h,r)),b=w.length,$=l[h]=new Array(b),k=o[h]=new Array(b),C=u[h]=new Array(m);n(p,_,$,k,C,w,t);for(var E=0,P=0,v,O;E<b;++E)if(v=$[E]){for(E>=P&&(P=E+1);!(O=k[P])&&++P<b;);v._next=O||null}}return o=new ce(o,r),o._enter=l,o._exit=u,o}function Ka(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ja(){return new ce(this._exit||this._groups.map(ni),this._parents)}function Za(e,t,n){var r=this.enter(),i=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function ja(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,o=Math.min(i,a),l=new Array(i),u=0;u<o;++u)for(var h=n[u],p=r[u],_=h.length,m=l[u]=new Array(_),w,b=0;b<_;++b)(w=h[b]||p[b])&&(m[b]=w);for(;u<i;++u)l[u]=n[u];return new ce(l,this._parents)}function eo(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function to(e){e||(e=no);function t(_,m){return _&&m?e(_.__data__,m.__data__):!_-!m}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],l=o.length,u=i[a]=new Array(l),h,p=0;p<l;++p)(h=o[p])&&(u[p]=h);u.sort(t)}return new ce(i,this._parents).order()}function no(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ro(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function io(){return Array.from(this)}function ao(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function oo(){let e=0;for(const t of this)++e;return e}function lo(){return!this.node()}function so(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,o=i.length,l;a<o;++a)(l=i[a])&&e.call(l,l.__data__,a,i);return this}function fo(e){return function(){this.removeAttribute(e)}}function uo(e){return function(){this.removeAttributeNS(e.space,e.local)}}function co(e,t){return function(){this.setAttribute(e,t)}}function ho(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function po(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function _o(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function mo(e,t){var n=Vt(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?uo:fo:typeof t=="function"?n.local?_o:po:n.local?ho:co)(n,t))}function ri(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function go(e){return function(){this.style.removeProperty(e)}}function yo(e,t,n){return function(){this.style.setProperty(e,t,n)}}function wo(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function bo(e,t,n){return arguments.length>1?this.each((t==null?go:typeof t=="function"?wo:yo)(e,t,n??"")):lt(this.node(),e)}function lt(e,t){return e.style.getPropertyValue(t)||ri(e).getComputedStyle(e,null).getPropertyValue(t)}function vo(e){return function(){delete this[e]}}function ko(e,t){return function(){this[e]=t}}function $o(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Ao(e,t){return arguments.length>1?this.each((t==null?vo:typeof t=="function"?$o:ko)(e,t)):this.node()[e]}function ii(e){return e.trim().split(/^|\s+/)}function pn(e){return e.classList||new ai(e)}function ai(e){this._node=e,this._names=ii(e.getAttribute("class")||"")}ai.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function oi(e,t){for(var n=pn(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function li(e,t){for(var n=pn(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Co(e){return function(){oi(this,e)}}function Po(e){return function(){li(this,e)}}function No(e,t){return function(){(t.apply(this,arguments)?oi:li)(this,e)}}function Eo(e,t){var n=ii(e+"");if(arguments.length<2){for(var r=pn(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?No:t?Co:Po)(n,t))}function Xo(){this.textContent=""}function So(e){return function(){this.textContent=e}}function Mo(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Lo(e){return arguments.length?this.each(e==null?Xo:(typeof e=="function"?Mo:So)(e)):this.node().textContent}function To(){this.innerHTML=""}function Io(e){return function(){this.innerHTML=e}}function Ro(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Oo(e){return arguments.length?this.each(e==null?To:(typeof e=="function"?Ro:Io)(e)):this.node().innerHTML}function Do(){this.nextSibling&&this.parentNode.appendChild(this)}function qo(){return this.each(Do)}function Fo(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function zo(){return this.each(Fo)}function Ho(e){var t=typeof e=="function"?e:Jr(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Bo(){return null}function Vo(e,t){var n=typeof e=="function"?e:Jr(e),r=t==null?Bo:typeof t=="function"?t:hn(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Uo(){var e=this.parentNode;e&&e.removeChild(this)}function Yo(){return this.each(Uo)}function Wo(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Qo(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Go(e){return this.select(e?Qo:Wo)}function xo(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Ko(e){return function(t){e.call(this,t,this.__data__)}}function Jo(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Zo(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,a;n<i;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function jo(e,t,n){return function(){var r=this.__on,i,a=Ko(t);if(r){for(var o=0,l=r.length;o<l;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=t;return}}this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(i):this.__on=[i]}}function el(e,t,n){var r=Jo(e+""),i,a=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,h=l.length,p;u<h;++u)for(i=0,p=l[u];i<a;++i)if((o=r[i]).type===p.type&&o.name===p.name)return p.value}return}for(l=t?jo:Zo,i=0;i<a;++i)this.each(l(r[i],t,n));return this}function si(e,t,n){var r=ri(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function tl(e,t){return function(){return si(this,e,t)}}function nl(e,t){return function(){return si(this,e,t.apply(this,arguments))}}function rl(e,t){return this.each((typeof t=="function"?nl:tl)(e,t))}function*il(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var dn=[null];function ce(e,t){this._groups=e,this._parents=t}function vt(){return new ce([[document.documentElement]],dn)}function al(){return this}ce.prototype=vt.prototype={constructor:ce,select:Ma,selectAll:Ia,selectChild:qa,selectChildren:Ba,filter:Va,data:xa,enter:Ua,exit:Ja,join:Za,merge:ja,selection:al,order:eo,sort:to,call:ro,nodes:io,node:ao,size:oo,empty:lo,each:so,attr:mo,style:bo,property:Ao,classed:Eo,text:Lo,html:Oo,raise:qo,lower:zo,append:Ho,insert:Vo,remove:Yo,clone:Go,datum:xo,on:el,dispatch:rl,[Symbol.iterator]:il};function q(e){return typeof e=="string"?new ce([[document.querySelector(e)]],[document.documentElement]):new ce([[e]],dn)}function Jt(e){return typeof e=="string"?new ce([document.querySelectorAll(e)],[document.documentElement]):new ce([Zr(e)],dn)}function _n(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function fi(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function kt(){}var gt=.7,Ot=1/gt,ot="\\s*([+-]?\\d+)\\s*",yt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ne="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ol=/^#([0-9a-f]{3,8})$/,ll=new RegExp(`^rgb\\(${ot},${ot},${ot}\\)$`),sl=new RegExp(`^rgb\\(${Ne},${Ne},${Ne}\\)$`),fl=new RegExp(`^rgba\\(${ot},${ot},${ot},${yt}\\)$`),ul=new RegExp(`^rgba\\(${Ne},${Ne},${Ne},${yt}\\)$`),cl=new RegExp(`^hsl\\(${yt},${Ne},${Ne}\\)$`),hl=new RegExp(`^hsla\\(${yt},${Ne},${Ne},${yt}\\)$`),Bn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_n(kt,wt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Vn,formatHex:Vn,formatHex8:pl,formatHsl:dl,formatRgb:Un,toString:Un});function Vn(){return this.rgb().formatHex()}function pl(){return this.rgb().formatHex8()}function dl(){return ui(this).formatHsl()}function Un(){return this.rgb().formatRgb()}function wt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ol.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Yn(t):n===3?new pe(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Et(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Et(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ll.exec(e))?new pe(t[1],t[2],t[3],1):(t=sl.exec(e))?new pe(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=fl.exec(e))?Et(t[1],t[2],t[3],t[4]):(t=ul.exec(e))?Et(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=cl.exec(e))?Gn(t[1],t[2]/100,t[3]/100,1):(t=hl.exec(e))?Gn(t[1],t[2]/100,t[3]/100,t[4]):Bn.hasOwnProperty(e)?Yn(Bn[e]):e==="transparent"?new pe(NaN,NaN,NaN,0):null}function Yn(e){return new pe(e>>16&255,e>>8&255,e&255,1)}function Et(e,t,n,r){return r<=0&&(e=t=n=NaN),new pe(e,t,n,r)}function _l(e){return e instanceof kt||(e=wt(e)),e?(e=e.rgb(),new pe(e.r,e.g,e.b,e.opacity)):new pe}function an(e,t,n,r){return arguments.length===1?_l(e):new pe(e,t,n,r??1)}function pe(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}_n(pe,an,fi(kt,{brighter(e){return e=e==null?Ot:Math.pow(Ot,e),new pe(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?gt:Math.pow(gt,e),new pe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new pe(Je(this.r),Je(this.g),Je(this.b),Dt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Wn,formatHex:Wn,formatHex8:ml,formatRgb:Qn,toString:Qn}));function Wn(){return`#${Ke(this.r)}${Ke(this.g)}${Ke(this.b)}`}function ml(){return`#${Ke(this.r)}${Ke(this.g)}${Ke(this.b)}${Ke((isNaN(this.opacity)?1:this.opacity)*255)}`}function Qn(){const e=Dt(this.opacity);return`${e===1?"rgb(":"rgba("}${Je(this.r)}, ${Je(this.g)}, ${Je(this.b)}${e===1?")":`, ${e})`}`}function Dt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Je(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ke(e){return e=Je(e),(e<16?"0":"")+e.toString(16)}function Gn(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new be(e,t,n,r)}function ui(e){if(e instanceof be)return new be(e.h,e.s,e.l,e.opacity);if(e instanceof kt||(e=wt(e)),!e)return new be;if(e instanceof be)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,l=a-i,u=(a+i)/2;return l?(t===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-t)/l+2:o=(t-n)/l+4,l/=u<.5?a+i:2-a-i,o*=60):l=u>0&&u<1?0:o,new be(o,l,u,e.opacity)}function gl(e,t,n,r){return arguments.length===1?ui(e):new be(e,t,n,r??1)}function be(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}_n(be,gl,fi(kt,{brighter(e){return e=e==null?Ot:Math.pow(Ot,e),new be(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?gt:Math.pow(gt,e),new be(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new pe(Zt(e>=240?e-240:e+120,i,r),Zt(e,i,r),Zt(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new be(xn(this.h),Xt(this.s),Xt(this.l),Dt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Dt(this.opacity);return`${e===1?"hsl(":"hsla("}${xn(this.h)}, ${Xt(this.s)*100}%, ${Xt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function xn(e){return e=(e||0)%360,e<0?e+360:e}function Xt(e){return Math.max(0,Math.min(1,e||0))}function Zt(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const ci=e=>()=>e;function yl(e,t){return function(n){return e+n*t}}function wl(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function bl(e){return(e=+e)==1?hi:function(t,n){return n-t?wl(t,n,e):ci(isNaN(t)?n:t)}}function hi(e,t){var n=t-e;return n?yl(e,n):ci(isNaN(e)?t:e)}const Kn=function e(t){var n=bl(t);function r(i,a){var o=n((i=an(i)).r,(a=an(a)).r),l=n(i.g,a.g),u=n(i.b,a.b),h=hi(i.opacity,a.opacity);return function(p){return i.r=o(p),i.g=l(p),i.b=u(p),i.opacity=h(p),i+""}}return r.gamma=e,r}(1);function Ve(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var on=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jt=new RegExp(on.source,"g");function vl(e){return function(){return e}}function kl(e){return function(t){return e(t)+""}}function $l(e,t){var n=on.lastIndex=jt.lastIndex=0,r,i,a,o=-1,l=[],u=[];for(e=e+"",t=t+"";(r=on.exec(e))&&(i=jt.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,u.push({i:o,x:Ve(r,i)})),n=jt.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?u[0]?kl(u[0].x):vl(t):(t=u.length,function(h){for(var p=0,_;p<t;++p)l[(_=u[p]).i]=_.x(h);return l.join("")})}var Jn=180/Math.PI,ln={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function pi(e,t,n,r,i,a){var o,l,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,u/=l),e*r<t*n&&(e=-e,t=-t,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*Jn,skewX:Math.atan(u)*Jn,scaleX:o,scaleY:l}}var St;function Al(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?ln:pi(t.a,t.b,t.c,t.d,t.e,t.f)}function Cl(e){return e==null||(St||(St=document.createElementNS("http://www.w3.org/2000/svg","g")),St.setAttribute("transform",e),!(e=St.transform.baseVal.consolidate()))?ln:(e=e.matrix,pi(e.a,e.b,e.c,e.d,e.e,e.f))}function di(e,t,n,r){function i(h){return h.length?h.pop()+" ":""}function a(h,p,_,m,w,b){if(h!==_||p!==m){var $=w.push("translate(",null,t,null,n);b.push({i:$-4,x:Ve(h,_)},{i:$-2,x:Ve(p,m)})}else(_||m)&&w.push("translate("+_+t+m+n)}function o(h,p,_,m){h!==p?(h-p>180?p+=360:p-h>180&&(h+=360),m.push({i:_.push(i(_)+"rotate(",null,r)-2,x:Ve(h,p)})):p&&_.push(i(_)+"rotate("+p+r)}function l(h,p,_,m){h!==p?m.push({i:_.push(i(_)+"skewX(",null,r)-2,x:Ve(h,p)}):p&&_.push(i(_)+"skewX("+p+r)}function u(h,p,_,m,w,b){if(h!==_||p!==m){var $=w.push(i(w)+"scale(",null,",",null,")");b.push({i:$-4,x:Ve(h,_)},{i:$-2,x:Ve(p,m)})}else(_!==1||m!==1)&&w.push(i(w)+"scale("+_+","+m+")")}return function(h,p){var _=[],m=[];return h=e(h),p=e(p),a(h.translateX,h.translateY,p.translateX,p.translateY,_,m),o(h.rotate,p.rotate,_,m),l(h.skewX,p.skewX,_,m),u(h.scaleX,h.scaleY,p.scaleX,p.scaleY,_,m),h=p=null,function(w){for(var b=-1,$=m.length,k;++b<$;)_[(k=m[b]).i]=k.x(w);return _.join("")}}}var Pl=di(Al,"px, ","px)","deg)"),Nl=di(Cl,", ",")",")"),st=0,ht=0,ct=0,_i=1e3,qt,pt,Ft=0,Ze=0,Ut=0,bt=typeof performance=="object"&&performance.now?performance:Date,mi=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function mn(){return Ze||(mi(El),Ze=bt.now()+Ut)}function El(){Ze=0}function zt(){this._call=this._time=this._next=null}zt.prototype=gi.prototype={constructor:zt,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?mn():+n)+(t==null?0:+t),!this._next&&pt!==this&&(pt?pt._next=this:qt=this,pt=this),this._call=e,this._time=n,sn()},stop:function(){this._call&&(this._call=null,this._time=1/0,sn())}};function gi(e,t,n){var r=new zt;return r.restart(e,t,n),r}function Xl(){mn(),++st;for(var e=qt,t;e;)(t=Ze-e._time)>=0&&e._call.call(void 0,t),e=e._next;--st}function Zn(){Ze=(Ft=bt.now())+Ut,st=ht=0;try{Xl()}finally{st=0,Ml(),Ze=0}}function Sl(){var e=bt.now(),t=e-Ft;t>_i&&(Ut-=t,Ft=e)}function Ml(){for(var e,t=qt,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:qt=n);pt=e,sn(r)}function sn(e){if(!st){ht&&(ht=clearTimeout(ht));var t=e-Ze;t>24?(e<1/0&&(ht=setTimeout(Zn,e-bt.now()-Ut)),ct&&(ct=clearInterval(ct))):(ct||(Ft=bt.now(),ct=setInterval(Sl,_i)),st=1,mi(Zn))}}function jn(e,t,n){var r=new zt;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Ll=Kr("start","end","cancel","interrupt"),Tl=[],yi=0,er=1,fn=2,Lt=3,tr=4,un=5,Tt=6;function Yt(e,t,n,r,i,a){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;Il(e,n,{name:t,index:r,group:i,on:Ll,tween:Tl,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:yi})}function gn(e,t){var n=ve(e,t);if(n.state>yi)throw new Error("too late; already scheduled");return n}function Ee(e,t){var n=ve(e,t);if(n.state>Lt)throw new Error("too late; already running");return n}function ve(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Il(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=gi(a,0,n.time);function a(h){n.state=er,n.timer.restart(o,n.delay,n.time),n.delay<=h&&o(h-n.delay)}function o(h){var p,_,m,w;if(n.state!==er)return u();for(p in r)if(w=r[p],w.name===n.name){if(w.state===Lt)return jn(o);w.state===tr?(w.state=Tt,w.timer.stop(),w.on.call("interrupt",e,e.__data__,w.index,w.group),delete r[p]):+p<t&&(w.state=Tt,w.timer.stop(),w.on.call("cancel",e,e.__data__,w.index,w.group),delete r[p])}if(jn(function(){n.state===Lt&&(n.state=tr,n.timer.restart(l,n.delay,n.time),l(h))}),n.state=fn,n.on.call("start",e,e.__data__,n.index,n.group),n.state===fn){for(n.state=Lt,i=new Array(m=n.tween.length),p=0,_=-1;p<m;++p)(w=n.tween[p].value.call(e,e.__data__,n.index,n.group))&&(i[++_]=w);i.length=_+1}}function l(h){for(var p=h<n.duration?n.ease.call(null,h/n.duration):(n.timer.restart(u),n.state=un,1),_=-1,m=i.length;++_<m;)i[_].call(e,p);n.state===un&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=Tt,n.timer.stop(),delete r[t];for(var h in r)return;delete e.__transition}}function Rl(e,t){var n=e.__transition,r,i,a=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){a=!1;continue}i=r.state>fn&&r.state<un,r.state=Tt,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}a&&delete e.__transition}}function Ol(e){return this.each(function(){Rl(this,e)})}function Dl(e,t){var n,r;return function(){var i=Ee(this,e),a=i.tween;if(a!==n){r=n=a;for(var o=0,l=r.length;o<l;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function ql(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=Ee(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var l={name:t,value:n},u=0,h=i.length;u<h;++u)if(i[u].name===t){i[u]=l;break}u===h&&i.push(l)}a.tween=i}}function Fl(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=ve(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?Dl:ql)(n,e,t))}function yn(e,t,n){var r=e._id;return e.each(function(){var i=Ee(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return ve(i,r).value[t]}}function wi(e,t){var n;return(typeof t=="number"?Ve:t instanceof wt?Kn:(n=wt(t))?(t=n,Kn):$l)(e,t)}function zl(e){return function(){this.removeAttribute(e)}}function Hl(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Bl(e,t,n){var r,i=n+"",a;return function(){var o=this.getAttribute(e);return o===i?null:o===r?a:a=t(r=o,n)}}function Vl(e,t,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?a:a=t(r=o,n)}}function Ul(e,t,n){var r,i,a;return function(){var o,l=n(this),u;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=l+"",o===u?null:o===r&&u===i?a:(i=u,a=t(r=o,l)))}}function Yl(e,t,n){var r,i,a;return function(){var o,l=n(this),u;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=l+"",o===u?null:o===r&&u===i?a:(i=u,a=t(r=o,l)))}}function Wl(e,t){var n=Vt(e),r=n==="transform"?Nl:wi;return this.attrTween(e,typeof t=="function"?(n.local?Yl:Ul)(n,r,yn(this,"attr."+e,t)):t==null?(n.local?Hl:zl)(n):(n.local?Vl:Bl)(n,r,t))}function Ql(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Gl(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function xl(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&Gl(e,a)),n}return i._value=t,i}function Kl(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&Ql(e,a)),n}return i._value=t,i}function Jl(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Vt(e);return this.tween(n,(r.local?xl:Kl)(r,t))}function Zl(e,t){return function(){gn(this,e).delay=+t.apply(this,arguments)}}function jl(e,t){return t=+t,function(){gn(this,e).delay=t}}function es(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Zl:jl)(t,e)):ve(this.node(),t).delay}function ts(e,t){return function(){Ee(this,e).duration=+t.apply(this,arguments)}}function ns(e,t){return t=+t,function(){Ee(this,e).duration=t}}function rs(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ts:ns)(t,e)):ve(this.node(),t).duration}function is(e,t){if(typeof t!="function")throw new Error;return function(){Ee(this,e).ease=t}}function as(e){var t=this._id;return arguments.length?this.each(is(t,e)):ve(this.node(),t).ease}function os(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ee(this,e).ease=n}}function ls(e){if(typeof e!="function")throw new Error;return this.each(os(this._id,e))}function ss(e){typeof e!="function"&&(e=ei(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,l=r[i]=[],u,h=0;h<o;++h)(u=a[h])&&e.call(u,u.__data__,h,a)&&l.push(u);return new qe(r,this._parents,this._name,this._id)}function fs(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),l=0;l<a;++l)for(var u=t[l],h=n[l],p=u.length,_=o[l]=new Array(p),m,w=0;w<p;++w)(m=u[w]||h[w])&&(_[w]=m);for(;l<r;++l)o[l]=t[l];return new qe(o,this._parents,this._name,this._id)}function us(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function cs(e,t,n){var r,i,a=us(t)?gn:Ee;return function(){var o=a(this,e),l=o.on;l!==r&&(i=(r=l).copy()).on(t,n),o.on=i}}function hs(e,t){var n=this._id;return arguments.length<2?ve(this.node(),n).on.on(e):this.each(cs(n,e,t))}function ps(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function ds(){return this.on("end.remove",ps(this._id))}function _s(e){var t=this._name,n=this._id;typeof e!="function"&&(e=hn(e));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var l=r[o],u=l.length,h=a[o]=new Array(u),p,_,m=0;m<u;++m)(p=l[m])&&(_=e.call(p,p.__data__,m,l))&&("__data__"in p&&(_.__data__=p.__data__),h[m]=_,Yt(h[m],t,n,m,h,ve(p,n)));return new qe(a,this._parents,t,n)}function ms(e){var t=this._name,n=this._id;typeof e!="function"&&(e=jr(e));for(var r=this._groups,i=r.length,a=[],o=[],l=0;l<i;++l)for(var u=r[l],h=u.length,p,_=0;_<h;++_)if(p=u[_]){for(var m=e.call(p,p.__data__,_,u),w,b=ve(p,n),$=0,k=m.length;$<k;++$)(w=m[$])&&Yt(w,t,n,$,m,b);a.push(m),o.push(p)}return new qe(a,o,t,n)}var gs=vt.prototype.constructor;function ys(){return new gs(this._groups,this._parents)}function ws(e,t){var n,r,i;return function(){var a=lt(this,e),o=(this.style.removeProperty(e),lt(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}function bi(e){return function(){this.style.removeProperty(e)}}function bs(e,t,n){var r,i=n+"",a;return function(){var o=lt(this,e);return o===i?null:o===r?a:a=t(r=o,n)}}function vs(e,t,n){var r,i,a;return function(){var o=lt(this,e),l=n(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(e),lt(this,e))),o===u?null:o===r&&u===i?a:(i=u,a=t(r=o,l))}}function ks(e,t){var n,r,i,a="style."+t,o="end."+a,l;return function(){var u=Ee(this,e),h=u.on,p=u.value[a]==null?l||(l=bi(t)):void 0;(h!==n||i!==p)&&(r=(n=h).copy()).on(o,i=p),u.on=r}}function $s(e,t,n){var r=(e+="")=="transform"?Pl:wi;return t==null?this.styleTween(e,ws(e,r)).on("end.style."+e,bi(e)):typeof t=="function"?this.styleTween(e,vs(e,r,yn(this,"style."+e,t))).each(ks(this._id,e)):this.styleTween(e,bs(e,r,t),n).on("end.style."+e,null)}function As(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Cs(e,t,n){var r,i;function a(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&As(e,o,n)),r}return a._value=t,a}function Ps(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Cs(e,t,n??""))}function Ns(e){return function(){this.textContent=e}}function Es(e){return function(){var t=e(this);this.textContent=t??""}}function Xs(e){return this.tween("text",typeof e=="function"?Es(yn(this,"text",e)):Ns(e==null?"":e+""))}function Ss(e){return function(t){this.textContent=e.call(this,t)}}function Ms(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Ss(i)),t}return r._value=e,r}function Ls(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Ms(e))}function Ts(){for(var e=this._name,t=this._id,n=vi(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],l=o.length,u,h=0;h<l;++h)if(u=o[h]){var p=ve(u,t);Yt(u,e,n,h,o,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new qe(r,this._parents,e,n)}function Is(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var l={value:o},u={value:function(){--i===0&&a()}};n.each(function(){var h=Ee(this,r),p=h.on;p!==e&&(t=(e=p).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(u)),h.on=t}),i===0&&a()})}var Rs=0;function qe(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function vi(){return++Rs}var Oe=vt.prototype;qe.prototype={constructor:qe,select:_s,selectAll:ms,selectChild:Oe.selectChild,selectChildren:Oe.selectChildren,filter:ss,merge:fs,selection:ys,transition:Ts,call:Oe.call,nodes:Oe.nodes,node:Oe.node,size:Oe.size,empty:Oe.empty,each:Oe.each,on:hs,attr:Wl,attrTween:Jl,style:$s,styleTween:Ps,text:Xs,textTween:Ls,remove:ds,tween:Fl,delay:es,duration:rs,ease:as,easeVarying:ls,end:Is,[Symbol.iterator]:Oe[Symbol.iterator]};function Os(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Ds={time:null,delay:0,duration:250,ease:Os};function qs(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Fs(e){var t,n;e instanceof qe?(t=e._id,e=e._name):(t=vi(),(n=Ds).time=mn(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],l=o.length,u,h=0;h<l;++h)(u=o[h])&&Yt(u,e,t,h,o,n||qs(u,t));return new qe(r,this._parents,e,t)}vt.prototype.interrupt=Ol;vt.prototype.transition=Fs;function zs(e,t){return e.parent===t.parent?1:2}function Hs(e){return e.reduce(Bs,0)/e.length}function Bs(e,t){return e+t.x}function Vs(e){return 1+e.reduce(Us,0)}function Us(e,t){return Math.max(e,t.y)}function Ys(e){for(var t;t=e.children;)e=t[0];return e}function Ws(e){for(var t;t=e.children;)e=t[t.length-1];return e}function nr(){var e=zs,t=1,n=1,r=!1;function i(a){var o,l=0;a.eachAfter(function(m){var w=m.children;w?(m.x=Hs(w),m.y=Vs(w)):(m.x=o?l+=e(m,o):0,m.y=0,o=m)});var u=Ys(a),h=Ws(a),p=u.x-e(u,h)/2,_=h.x+e(h,u)/2;return a.eachAfter(r?function(m){m.x=(m.x-a.x)*t,m.y=(a.y-m.y)*n}:function(m){m.x=(m.x-p)/(_-p)*t,m.y=(1-(a.y?m.y/a.y:1))*n})}return i.separation=function(a){return arguments.length?(e=a,i):e},i.size=function(a){return arguments.length?(r=!1,t=+a[0],n=+a[1],i):r?null:[t,n]},i.nodeSize=function(a){return arguments.length?(r=!0,t=+a[0],n=+a[1],i):r?[t,n]:null},i}function Qs(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function Gs(){return this.eachAfter(Qs)}function xs(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function Ks(e,t){for(var n=this,r=[n],i,a,o=-1;n=r.pop();)if(e.call(t,n,++o,this),i=n.children)for(a=i.length-1;a>=0;--a)r.push(i[a]);return this}function Js(e,t){for(var n=this,r=[n],i=[],a,o,l,u=-1;n=r.pop();)if(i.push(n),a=n.children)for(o=0,l=a.length;o<l;++o)r.push(a[o]);for(;n=i.pop();)e.call(t,n,++u,this);return this}function Zs(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function js(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function ef(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function tf(e){for(var t=this,n=nf(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function nf(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function rf(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function af(){return Array.from(this)}function of(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function lf(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*sf(){var e=this,t,n=[e],r,i,a;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,a=r.length;i<a;++i)n.push(r[i]);while(n.length)}function mt(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=cf)):t===void 0&&(t=uf);for(var n=new Ht(e),r,i=[n],a,o,l,u;r=i.pop();)if((o=t(r.data))&&(u=(o=Array.from(o)).length))for(r.children=o,l=u-1;l>=0;--l)i.push(a=o[l]=new Ht(o[l])),a.parent=r,a.depth=r.depth+1;return n.eachBefore(pf)}function ff(){return mt(this).eachBefore(hf)}function uf(e){return e.children}function cf(e){return Array.isArray(e)?e[1]:null}function hf(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function pf(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Ht(e){this.data=e,this.depth=this.height=0,this.parent=null}Ht.prototype=mt.prototype={constructor:Ht,count:Gs,each:xs,eachAfter:Js,eachBefore:Ks,find:Zs,sum:js,sort:ef,path:tf,ancestors:rf,descendants:af,leaves:of,links:lf,copy:ff,[Symbol.iterator]:sf};function dt(e,t,n){this.k=e,this.x=t,this.y=n}dt.prototype={constructor:dt,scale:function(e){return e===1?this:new dt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new dt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};dt.prototype;let df={name:"Collect",step:0,branch_type:"trunk",ppl:1,time:"20",children:[{name:"Translate",step:1,branch_type:"trunk",ppl:25,time:"10",url:"img/trans.png",children:[{name:"Transcribe",step:2,branch_type:"trunk",ppl:1,time:"40",children:[{name:"PA-X Code",step:3,branch_type:"trunk",ppl:40,time:"100",url:"img/pax_code.png",type:"code",link:"https://pax.peaceagreements.org/media/documents/PA_X_codebook_v8.pdf",children:[{name:"PA-X QC",step:4,branch_type:"trunk",ppl:7,time:"20",type:"quality_control",children:[{name:"PA-X",step:5,branch_type:"trunk",type:"db",ppl:3,time:"100",url:"img/pax_db.png",link:"https://pax.peaceagreements.org/agreements/search/",children:[{name:"Research",step:9,branch_type:"uppest_trunk",ppl:10,children:[{name:"paper",step:10,type:"paper",ppl:1,time:"2"},{name:"paper",step:10,type:"paper",ppl:1,time:"2"},{name:"paper",step:10,type:"paper",ppl:1,time:"2"},{name:"paper",step:10,type:"paper",ppl:1,time:"2"},{name:"paper",step:10,type:"paper",ppl:1,time:"2"},{name:"paper",step:10,label:"paper",type:"paper",ppl:1,time:"2"}]},{name:"Code",step:6,branch_type:"upper_trunk",ppl:13,time:"50",type:"code",url:"img/gender_code.png",link:"https://pax.peaceagreements.org/media/documents/PA_X_codebook_wgg_v8.pdf",children:[{name:"QC",step:7,branch_type:"upper_trunk",type:"quality_control",ppl:7,children:[{name:"PA-X Gender",step:8,branch_type:"upper_trunk",type:"db",ppl:3,time:"10",url:"img/gender_db.png",link:"https://pax.peaceagreements.org/agreements/wggsearch/",children:[{name:"PeaceFem",step:12,type:"app"},{name:"d3",step:11,branch_type:"uppest_trunk",type:"prog",ppl:1,time:"3",url:"img/d3_bgd.png",link:"https://github.com/tvancisin/pax_gender",children:[{name:"Scrollytelling",step:12,type:"vis",ppl:4,time:"2",url:"img/scroll.png",link:"https://tvancisin.github.io/pax_gender/"}]}]}]}]},{name:"Code",step:6,branch_type:"upper_trunk",ppl:2,type:"code",children:[{name:"QC",step:7,branch_type:"upper_trunk",ppl:7,type:"quality_control",children:[{name:"Children & Youth",step:8,branch_type:"upper_trunk",ppl:3,type:"db",children:[{name:"PBi Youth",step:12,ppl:1,type:"vis"}]}]}]},{name:"Code",step:6,branch_type:"upper_trunk",type:"code",ppl:10,children:[{name:"QC",step:7,branch_type:"upper_trunk",ppl:7,type:"quality_control",children:[{name:"PA-X Local",step:8,branch_type:"upper_trunk",ppl:3,type:"db",children:[{name:"d3 local",step:11,branch_type:"uppest_trunk",type:"prog",children:[{name:"Map",step:12,type:"vis",ppl:4}]}]}]}]},{name:"Code",step:6,label:"Coding",branch_type:"upper_trunk",type:"code",ppl:1,children:[{name:"QC",step:7,label:"Quality Control",branch_type:"upper_trunk",ppl:7,type:"quality_control",children:[{name:"PAA-X",step:8,branch_type:"upper_trunk",type:"db",ppl:3,children:[{name:"VUE",step:11,branch_type:"uppest_trunk",type:"prog",ppl:1,children:[{name:"Actors-Network",step:12,type:"vis"}]},{name:"d3",step:11,branch_type:"uppest_trunk",ppl:1,type:"prog",children:[{name:"3rd Party Scroll",step:12,ppl:3,type:"vis"}]},{name:"Python",step:11,branch_type:"uppest_trunk",ppl:1,choose:"last",type:"prog",children:[{name:"Network",step:12,ppl:1,type:"vis"}]}]}]}]},{name:"d3",step:13,branch_type:"uppest_trunk",ppl:3,type:"prog",children:[{name:"Messy Timeline",step:14,ppl:3,type:"vis"}]},{name:"d3",step:13,branch_type:"uppest_trunk",ppl:5,type:"prog",children:[{name:"Time & Space",step:14,ppl:5,type:"vis"}]},{name:"d3",step:13,branch_type:"uppest_trunk",ppl:1,type:"prog",children:[{name:"Sequence Comparison",step:14,ppl:1,type:"vis"}]},{name:"d3",step:13,label:"Programming",branch_type:"uppest_trunk",ppl:2,type:"prog",children:[{name:"Data Overview",step:14,ppl:2,type:"vis"}]},{name:"Tracker",step:15,ppl:3,type:"vis"},{name:"Infographics",step:15,label:"Infographics",type:"pdf",ppl:3}]}]}]}]}]}],downward:[...Array.from({length:20},()=>({name:"agreement",number:721,continent:"Africa",children:[{name:"negotiation",children:[{name:"conflict"}]}]})),...Array.from({length:12},()=>({name:"agreement",number:435,continent:"Europe_Eurasia",children:[{name:"negotiation",children:[{name:"conflict"}]}]})),...Array.from({length:12},()=>({name:"agreement",number:425,continent:"Asia",children:[{name:"negotiation",children:[{name:"conflict"}]}]})),...Array.from({length:8},()=>({name:"agreement",number:295,continent:"Middle_East",children:[{name:"negotiation",children:[{name:"conflict"}]}]})),...Array.from({length:7},()=>({name:"agreement",number:263,continent:"Americas",children:[{name:"negotiation",children:[{name:"conflict"}]}]})),{name:"agreement",number:38,continent:"Cross",children:[{name:"negotiation",children:[{name:"conflict"}]}]}],ucdp:[...Array.from({length:20},()=>({name:"conflict",number:721,continent:"Africa"})),...Array.from({length:12},()=>({name:"conflict",number:435,continent:"Europe_Eurasia"})),...Array.from({length:12},()=>({name:"conflict",number:425,continent:"Asia"})),...Array.from({length:8},()=>({name:"conflict",number:295,continent:"Middle_East"})),...Array.from({length:7},()=>({name:"conflict",number:263,continent:"Americas"})),{name:"conflict",number:38,continent:"Cross"}]},_e={workflow:[{step_id:"1",type:"conflicts",description:`First real life events captured in some way by the PA-X Database are 
        armed conflicts around the world. As you can see, different number of conflicts 
        and the subsequent peace processes take place in different parts of the world.`},{step_id:"2",type:"negotiations",description:`Peace negotiations are formal attempts to bring political and/or military 
        protagonists of conflict, to some sort of mutual agreement as to how to 
        end the conflict. However, not all conflicts lead to negotiations, and not all 
        negotiations lead to agreements.`},{step_id:"3",type:"peace_agreements",description:`If peace negotiations reach a formal agreement, it results in a signed peace agreement. 
        This is where PA-X steps in. PA-X collects formal, signed, written, and publicly 
        available peace agreements that address conflicts with more than 25 conflict 
        related deaths in a year.`},{step_id:"4",type:"translation",description:`Peace agreements are often written in local languages and in these cases, 
        the documents are translated into English by domain and language experts.`},{step_id:"5",type:"transcription",description:`The agreements come in various formats (PDF, Word, Images, Tweets) and 
        the text therefore often needs to be transcribed into plain text.`},{step_id:"6",type:"pax_coding",description:`The plain text of the agreement then gets tagged into topics covered within. 
        These include categories like Socio-economic Development, Political or Military 
        Powersharing, Gender etc.`},{step_id:"7",type:"pax_quality_control",description:`The tagged text goes through quality control to ensure 
        the coding is consistent with defintions of the topics across versions.`},{step_id:"8",type:"pax_database",description:`Once the data is approved and quality checks are resolved, the data is published 
        in the database as a new version of PA-X. On average, 50 new agreements are added 
        per version which is updated annually.`},{step_id:"9",type:"research/further_coding/d3_programming/tracker_visualization/infographics",description:`Agreements that include references to gender, local conflict, children & youth, 
        or third parties, are further coded in to more depth. For example, in main PA-X Gender is coded at a high level. 
        In PA-X Gender, topics are much more detailed in relation to gender for example if the 
        mention is regarding violence against women, womens involvement in implementation or 
        rights-institutions.`},{step_id:"10",type:"sub-database quality control",description:`To ensure coding consistency and 
      reliability, the sub-theme tagging undergoes further quality control.`},{step_id:"11",type:"sub_databases",description:`As in the case of the main PA-X database, once the data is approved, it is 
        published in PA-X Gender, PA-X Local, PA-X Children & Youth, 
        and PAA-X Third Parties databases.`},{step_id:"12",type:"d3_programming/peacefem_app/visualization",description:"Research"},{step_id:"13",type:"visualization",description:"Publications"}]},Bt=JSON.parse(JSON.stringify(df)),_f=0;function wn(e){e.id=`node-${_f++}`,e.children&&e.children.forEach(wn)}wn(Bt);Bt.downward&&Bt.downward.forEach(wn);const en=Bt;function De(e,t,n=[],r=20){if(!t.length)return"";const i=[...t].sort((l,u)=>l.x-u.x);let a=`M${i[0].x},${e-i[0].y}`;for(let l=0;l<i.length-1;l++){const u=i[l],h=i[l+1],p=1;if(n.filter(m=>m.x>u.x&&m.x<h.x&&Math.abs(m.y-u.y)<=p).length){const m=(u.x+h.x)/2,w=1,b=m-u.x,$=r*w;a+=` L${u.x+b},${e-(u.y+$)}`,a+=` L${h.x-b},${e-(h.y+$)}`}a+=` L${h.x},${e-h.y}`}const o=i[i.length-1];return a+=` L${o.x},${e-o.y}`,a}function rr(e,t,{nodeSpacing:n=10,continentGap:r=80}={}){if(!e.children||e.children.length===0)return;const i=Array.from(xr(e.children,u=>u.data.continent??"Unknown"),([u,h])=>({continent:u,nodes:h,width:h.length>1?(h.length-1)*n:0})),a=Aa(i,u=>u.width)+r*(i.length-1),o=a>0?t/a:1;let l=0;i.forEach(u=>{const h=(l+u.width/2)*o;u.nodes.forEach((p,_)=>{const m=(_*n-u.width/2)*o,b=h+m-p.x;p.each($=>{$.x+=b})}),l+=u.width+r})}function mf(e,t,n,r=null){const i=e.descendants(),a=i.find(_=>_.data.name===t),o=i.find(_=>_.data.name===n);if(!a||!o)return;const l=o.x-a.x,u=o.x-l/2;let h=a,p=!1;for(;h&&(h.data.name==="PA-X"&&(p=!0),h.x=p?u-l/1.5:u,!(r&&h.data.name===r));)h=h.parent}function ki(e,t){e.children&&e.children.forEach(n=>{n.y=e.y+t,ki(n,t)})}function ir(e,t,n){const r=e.slice();return r[104]=t[n],r}function ar(e,t,n){const r=e.slice();return r[107]=t[n],r[109]=n,r}function or(e,t,n){const r=e.slice();return r[104]=t[n],r}function lr(e,t,n){const r=e.slice();return r[107]=t[n],r[113]=n,r}function sr(e,t,n){const r=e.slice();return r[104]=t[n],r}function fr(e,t,n){const r=e.slice();return r[104]=t[n],r[113]=n,r}function ur(e,t,n){const r=e.slice();return r[104]=t[n],r}function cr(e,t,n){const r=e.slice();return r[119]=t[n],r}function hr(e,t,n){const r=e.slice();return r[104]=t[n],r[113]=n,r}function pr(e,t,n){const r=e.slice();return r[104]=t[n],r}function dr(e,t,n){const r=e.slice();return r[104]=t[n],r}function _r(e,t,n){const r=e.slice();return r[104]=t[n],r}function mr(e,t,n){const r=e.slice();return r[104]=t[n],r}function gr(e,t,n){const r=e.slice();return r[104]=t[n],r}function yr(e){let t,n,r,i,a,o,l,u,h,p,_,m,w,b,$,k,C,E,P,v,O,F,Xe,Se,Ye,Me=D(e[14]),H=[];for(let s=0;s<Me.length;s+=1)H[s]=wr(gr(e,Me,s));let ke=D(e[7]),x=[];for(let s=0;s<ke.length;s+=1)x[s]=vr(mr(e,ke,s));let me=D(e[3]),W=[];for(let s=0;s<me.length;s+=1)W[s]=kr(_r(e,me,s));let Le=D(e[5]),B=[];for(let s=0;s<Le.length;s+=1)B[s]=$r(dr(e,Le,s));let $e=D(e[2]),K=[];for(let s=0;s<$e.length;s+=1)K[s]=Ar(pr(e,$e,s));let ge=D(e[4]),Q=[];for(let s=0;s<ge.length;s+=1)Q[s]=Cr(hr(e,ge,s));let Te=D(e[36]),V=[];for(let s=0;s<Te.length;s+=1)V[s]=Pr(cr(e,Te,s));let Ae=D(e[13]),J=[];for(let s=0;s<Ae.length;s+=1)J[s]=Nr(ur(e,Ae,s));let ye=D(e[6]),Z=[];for(let s=0;s<ye.length;s+=1)Z[s]=Xr(fr(e,ye,s));let te=e[9]>=6&&Sr(e),ne=e[9]>=7&&Mr(e),re=e[9]>=8&&Lr(e),ie=e[9]>=10&&Tr(e),ae=e[9]>=11&&e[9]<13&&Ir(e),oe=e[9]>=12&&e[9]<14&&Rr(e),le=e[9]>=13&&Or(e),U=e[9]>=14&&e[9]<15&&Dr(e),Y=e[9]>=15&&qr(e),ze=D(e[34]),se=[];for(let s=0;s<ze.length;s+=1)se[s]=Fr(sr(e,ze,s));let Ce=D(e[35]),j=[];for(let s=0;s<Ce.length;s+=1)j[s]=Br(or(e,Ce,s));return{c(){t=M("svg"),n=M("g"),r=M("path"),a=M("path");for(let s=0;s<H.length;s+=1)H[s].c();l=z();for(let s=0;s<x.length;s+=1)x[s].c();u=z();for(let s=0;s<W.length;s+=1)W[s].c();h=z();for(let s=0;s<B.length;s+=1)B[s].c();p=z();for(let s=0;s<K.length;s+=1)K[s].c();_=z();for(let s=0;s<Q.length;s+=1)Q[s].c();m=z();for(let s=0;s<V.length;s+=1)V[s].c();w=z();for(let s=0;s<J.length;s+=1)J[s].c();b=z();for(let s=0;s<Z.length;s+=1)Z[s].c();$=z(),te&&te.c(),k=z(),ne&&ne.c(),C=z(),re&&re.c(),E=z(),ie&&ie.c(),P=z(),ae&&ae.c(),v=z(),oe&&oe.c(),O=z(),le&&le.c(),F=z(),U&&U.c(),Xe=z(),Y&&Y.c(),Se=z();for(let s=0;s<se.length;s+=1)se[s].c();Ye=z();for(let s=0;s<j.length;s+=1)j[s].c();f(r,"d",i=`
    M ${e[24]},${e[23]}
    L ${e[24]},${e[23]+(e[21]-e[23])/1.5-(e[21]-e[23])*.1}
    C ${e[24]},${e[23]+(e[21]-e[23])/1.5} 
      ${e[24]},${e[23]+(e[21]-e[23])/1.5} 
      ${e[24]+(e[22]-e[24])*.1},${e[23]+(e[21]-e[23])/1.5}
    L ${e[22]-(e[22]-e[24])*.1},${e[23]+(e[21]-e[23])/1.5}
    C ${e[22]},${e[23]+(e[21]-e[23])/1.5} 
      ${e[22]},${e[23]+(e[21]-e[23])/1.5} 
      ${e[22]},${e[23]+(e[21]-e[23])/1.5+(e[21]-e[23])*.1}
    L ${e[22]},${e[21]}
  `),f(r,"fill","none"),f(r,"stroke","#404040"),f(r,"stroke-width","4"),f(r,"stroke-opacity","0.7"),f(a,"d",o=`
    M ${e[20]},${e[19]}
    L ${e[20]},${e[19]+(e[17]-e[19])/1.5-(e[17]-e[19])*.1}
    C ${e[20]},${e[19]+(e[17]-e[19])/1.5} 
      ${e[20]},${e[19]+(e[17]-e[19])/1.5} 
      ${e[20]+(e[18]-e[20])*.1},${e[19]+(e[17]-e[19])/1.5}
    L ${e[18]-(e[18]-e[20])*.1},${e[19]+(e[17]-e[19])/1.5}
    C ${e[18]},${e[19]+(e[17]-e[19])/1.5} 
      ${e[18]},${e[19]+(e[17]-e[19])/1.5} 
      ${e[18]},${e[19]+(e[17]-e[19])/1.5+(e[17]-e[19])*.1}
    L ${e[18]},${e[17]}
  `),f(a,"fill","none"),f(a,"stroke","#404040"),f(a,"stroke-width","4"),f(a,"stroke-opacity","0.7"),f(n,"transform",`translate(${e[39].right}, ${e[39].top})`),f(t,"width",e[0]),f(t,"height",e[1])},m(s,X){R(s,t,X),A(t,n),A(n,r),A(n,a);for(let c=0;c<H.length;c+=1)H[c]&&H[c].m(n,null);A(n,l);for(let c=0;c<x.length;c+=1)x[c]&&x[c].m(n,null);A(n,u);for(let c=0;c<W.length;c+=1)W[c]&&W[c].m(n,null);A(n,h);for(let c=0;c<B.length;c+=1)B[c]&&B[c].m(n,null);A(n,p);for(let c=0;c<K.length;c+=1)K[c]&&K[c].m(n,null);A(n,_);for(let c=0;c<Q.length;c+=1)Q[c]&&Q[c].m(n,null);A(n,m);for(let c=0;c<V.length;c+=1)V[c]&&V[c].m(n,null);A(n,w);for(let c=0;c<J.length;c+=1)J[c]&&J[c].m(n,null);A(n,b);for(let c=0;c<Z.length;c+=1)Z[c]&&Z[c].m(n,null);A(n,$),te&&te.m(n,null),A(n,k),ne&&ne.m(n,null),A(n,C),re&&re.m(n,null),A(n,E),ie&&ie.m(n,null),A(n,P),ae&&ae.m(n,null),A(n,v),oe&&oe.m(n,null),A(n,O),le&&le.m(n,null),A(n,F),U&&U.m(n,null),A(n,Xe),Y&&Y.m(n,null),A(n,Se);for(let c=0;c<se.length;c+=1)se[c]&&se[c].m(n,null);A(n,Ye);for(let c=0;c<j.length;c+=1)j[c]&&j[c].m(n,null)},p(s,X){if(X[0]&31457280&&i!==(i=`
    M ${s[24]},${s[23]}
    L ${s[24]},${s[23]+(s[21]-s[23])/1.5-(s[21]-s[23])*.1}
    C ${s[24]},${s[23]+(s[21]-s[23])/1.5} 
      ${s[24]},${s[23]+(s[21]-s[23])/1.5} 
      ${s[24]+(s[22]-s[24])*.1},${s[23]+(s[21]-s[23])/1.5}
    L ${s[22]-(s[22]-s[24])*.1},${s[23]+(s[21]-s[23])/1.5}
    C ${s[22]},${s[23]+(s[21]-s[23])/1.5} 
      ${s[22]},${s[23]+(s[21]-s[23])/1.5} 
      ${s[22]},${s[23]+(s[21]-s[23])/1.5+(s[21]-s[23])*.1}
    L ${s[22]},${s[21]}
  `)&&f(r,"d",i),X[0]&1966080&&o!==(o=`
    M ${s[20]},${s[19]}
    L ${s[20]},${s[19]+(s[17]-s[19])/1.5-(s[17]-s[19])*.1}
    C ${s[20]},${s[19]+(s[17]-s[19])/1.5} 
      ${s[20]},${s[19]+(s[17]-s[19])/1.5} 
      ${s[20]+(s[18]-s[20])*.1},${s[19]+(s[17]-s[19])/1.5}
    L ${s[18]-(s[18]-s[20])*.1},${s[19]+(s[17]-s[19])/1.5}
    C ${s[18]},${s[19]+(s[17]-s[19])/1.5} 
      ${s[18]},${s[19]+(s[17]-s[19])/1.5} 
      ${s[18]},${s[19]+(s[17]-s[19])/1.5+(s[17]-s[19])*.1}
    L ${s[18]},${s[17]}
  `)&&f(a,"d",o),X[0]&17408){Me=D(s[14]);let c;for(c=0;c<Me.length;c+=1){const L=gr(s,Me,c);H[c]?H[c].p(L,X):(H[c]=wr(L),H[c].c(),H[c].m(n,l))}for(;c<H.length;c+=1)H[c].d(1);H.length=Me.length}if(X[0]&1152){ke=D(s[7]);let c;for(c=0;c<ke.length;c+=1){const L=mr(s,ke,c);x[c]?x[c].p(L,X):(x[c]=vr(L),x[c].c(),x[c].m(n,u))}for(;c<x.length;c+=1)x[c].d(1);x.length=ke.length}if(X[0]&1032){me=D(s[3]);let c;for(c=0;c<me.length;c+=1){const L=_r(s,me,c);W[c]?W[c].p(L,X):(W[c]=kr(L),W[c].c(),W[c].m(n,h))}for(;c<W.length;c+=1)W[c].d(1);W.length=me.length}if(X[0]&1056){Le=D(s[5]);let c;for(c=0;c<Le.length;c+=1){const L=dr(s,Le,c);B[c]?B[c].p(L,X):(B[c]=$r(L),B[c].c(),B[c].m(n,p))}for(;c<B.length;c+=1)B[c].d(1);B.length=Le.length}if(X[0]&1028){$e=D(s[2]);let c;for(c=0;c<$e.length;c+=1){const L=pr(s,$e,c);K[c]?K[c].p(L,X):(K[c]=Ar(L),K[c].c(),K[c].m(n,_))}for(;c<K.length;c+=1)K[c].d(1);K.length=$e.length}if(X[0]&1040){ge=D(s[4]);let c;for(c=0;c<ge.length;c+=1){const L=hr(s,ge,c);Q[c]?Q[c].p(L,X):(Q[c]=Cr(L),Q[c].c(),Q[c].m(n,m))}for(;c<Q.length;c+=1)Q[c].d(1);Q.length=ge.length}if(X[1]&32){Te=D(s[36]);let c;for(c=0;c<Te.length;c+=1){const L=cr(s,Te,c);V[c]?V[c].p(L,X):(V[c]=Pr(L),V[c].c(),V[c].m(n,w))}for(;c<V.length;c+=1)V[c].d(1);V.length=Te.length}if(X[0]&41984){Ae=D(s[13]);let c;for(c=0;c<Ae.length;c+=1){const L=ur(s,Ae,c);J[c]?J[c].p(L,X):(J[c]=Nr(L),J[c].c(),J[c].m(n,b))}for(;c<J.length;c+=1)J[c].d(1);J.length=Ae.length}if(X[0]&3136|X[1]&3072){ye=D(s[6]);let c;for(c=0;c<ye.length;c+=1){const L=fr(s,ye,c);Z[c]?Z[c].p(L,X):(Z[c]=Xr(L),Z[c].c(),Z[c].m(n,$))}for(;c<Z.length;c+=1)Z[c].d(1);Z.length=ye.length}if(s[9]>=6?te?te.p(s,X):(te=Sr(s),te.c(),te.m(n,k)):te&&(te.d(1),te=null),s[9]>=7?ne?ne.p(s,X):(ne=Mr(s),ne.c(),ne.m(n,C)):ne&&(ne.d(1),ne=null),s[9]>=8?re?re.p(s,X):(re=Lr(s),re.c(),re.m(n,E)):re&&(re.d(1),re=null),s[9]>=10?ie?ie.p(s,X):(ie=Tr(s),ie.c(),ie.m(n,P)):ie&&(ie.d(1),ie=null),s[9]>=11&&s[9]<13?ae?ae.p(s,X):(ae=Ir(s),ae.c(),ae.m(n,v)):ae&&(ae.d(1),ae=null),s[9]>=12&&s[9]<14?oe?oe.p(s,X):(oe=Rr(s),oe.c(),oe.m(n,O)):oe&&(oe.d(1),oe=null),s[9]>=13?le?le.p(s,X):(le=Or(s),le.c(),le.m(n,F)):le&&(le.d(1),le=null),s[9]>=14&&s[9]<15?U?U.p(s,X):(U=Dr(s),U.c(),U.m(n,Xe)):U&&(U.d(1),U=null),s[9]>=15?Y?Y.p(s,X):(Y=qr(s),Y.c(),Y.m(n,Se)):Y&&(Y.d(1),Y=null),X[0]&33792|X[1]&8){ze=D(s[34]);let c;for(c=0;c<ze.length;c+=1){const L=sr(s,ze,c);se[c]?se[c].p(L,X):(se[c]=Fr(L),se[c].c(),se[c].m(n,Ye))}for(;c<se.length;c+=1)se[c].d(1);se.length=ze.length}if(X[0]&1536|X[1]&60624){Ce=D(s[35]);let c;for(c=0;c<Ce.length;c+=1){const L=or(s,Ce,c);j[c]?j[c].p(L,X):(j[c]=Br(L),j[c].c(),j[c].m(n,null))}for(;c<j.length;c+=1)j[c].d(1);j.length=Ce.length}X[0]&1&&f(t,"width",s[0]),X[0]&2&&f(t,"height",s[1])},d(s){s&&T(t),he(H,s),he(x,s),he(W,s),he(B,s),he(K,s),he(Q,s),he(V,s),he(J,s),he(Z,s),te&&te.d(),ne&&ne.d(),re&&re.d(),ie&&ie.d(),ae&&ae.d(),oe&&oe.d(),le&&le.d(),U&&U.d(),Y&&Y.d(),he(se,s),he(j,s)}}}function wr(e){let t,n;return{c(){t=M("path"),f(t,"d",n=`M${e[104].x},${e[10]+e[104].y} 
       C${e[104].x},${e[10]+e[104].parent.y+60} 
        ${e[104].parent.x},${e[10]+e[104].parent.y+70} 
        ${e[104].parent.x},${e[10]+e[104].parent.y}`),f(t,"fill","none"),f(t,"stroke","#404040"),f(t,"stroke-opacity","0.4"),f(t,"stroke-width","1")},m(r,i){R(r,t,i)},p(r,i){i[0]&17408&&n!==(n=`M${r[104].x},${r[10]+r[104].y} 
       C${r[104].x},${r[10]+r[104].parent.y+60} 
        ${r[104].parent.x},${r[10]+r[104].parent.y+70} 
        ${r[104].parent.x},${r[10]+r[104].parent.y}`)&&f(t,"d",n)},d(r){r&&T(t)}}}function br(e){return{c:Pe,m:Pe,d:Pe}}function vr(e){let t,n,r,i,a,o=e[104].data.name=="__ucdp_root__"&&br();return{c(){t=M("g"),n=M("circle"),o&&o.c(),f(n,"cx","0"),f(n,"cy","0"),f(n,"r",r=e[104].data.name=="__ucdp_root__"?5:0),f(n,"fill",i=e[104].data.name=="__ucdp_root__"?"gray":"none"),f(t,"transform",a=`translate(${e[104].x}, ${e[10]+e[104].y})`)},m(l,u){R(l,t,u),A(t,n),o&&o.m(t,null)},p(l,u){u[0]&128&&r!==(r=l[104].data.name=="__ucdp_root__"?5:0)&&f(n,"r",r),u[0]&128&&i!==(i=l[104].data.name=="__ucdp_root__"?"gray":"none")&&f(n,"fill",i),l[104].data.name=="__ucdp_root__"?o||(o=br(),o.c(),o.m(t,null)):o&&(o.d(1),o=null),u[0]&1152&&a!==(a=`translate(${l[104].x}, ${l[10]+l[104].y})`)&&f(t,"transform",a)},d(l){l&&T(t),o&&o.d()}}}function kr(e){let t,n,r;function i(){return e[81](e[104])}function a(){return e[82](e[104])}return{c(){t=M("path"),f(t,"d",n=e[104].data.name==="Research"?i():e[104].data.name==="d3"&&e[104].parent.data.name==="PA-X"||e[104].data.name==="Tracker"||e[104].data.name==="Infographics"?a():`M${e[104].x},${e[10]-e[104].y}
                   C${e[104].x},${e[10]-e[104].parent.y-20}
                    ${e[104].parent.x},${e[10]-e[104].parent.y-50}
                    ${e[104].parent.x},${e[10]-e[104].parent.y}`),f(t,"fill","none"),f(t,"stroke","#005266"),f(t,"stroke-width",r=e[104].data.branch_type==="trunk"?15:e[104].data.branch_type==="upper_trunk"?10:e[104].data.branch_type==="uppest_trunk"?5:2)},m(o,l){R(o,t,l)},p(o,l){e=o,l[0]&1032&&n!==(n=e[104].data.name==="Research"?i():e[104].data.name==="d3"&&e[104].parent.data.name==="PA-X"||e[104].data.name==="Tracker"||e[104].data.name==="Infographics"?a():`M${e[104].x},${e[10]-e[104].y}
                   C${e[104].x},${e[10]-e[104].parent.y-20}
                    ${e[104].parent.x},${e[10]-e[104].parent.y-50}
                    ${e[104].parent.x},${e[10]-e[104].parent.y}`)&&f(t,"d",n),l[0]&8&&r!==(r=e[104].data.branch_type==="trunk"?15:e[104].data.branch_type==="upper_trunk"?10:e[104].data.branch_type==="uppest_trunk"?5:2)&&f(t,"stroke-width",r)},d(o){o&&T(t)}}}function $r(e){let t,n;return{c(){t=M("path"),f(t,"d",n=`M${e[104].x},${e[10]+e[104].y} 
       C${e[104].x},${e[10]+e[104].parent.y+20} 
        ${e[104].parent.x},${e[10]+e[104].parent.y+20} 
        ${e[104].parent.x},${e[10]+e[104].parent.y}`),f(t,"fill","none"),f(t,"stroke","#005266"),f(t,"stroke-width","1")},m(r,i){R(r,t,i)},p(r,i){i[0]&1056&&n!==(n=`M${r[104].x},${r[10]+r[104].y} 
       C${r[104].x},${r[10]+r[104].parent.y+20} 
        ${r[104].parent.x},${r[10]+r[104].parent.y+20} 
        ${r[104].parent.x},${r[10]+r[104].parent.y}`)&&f(t,"d",n)},d(r){r&&T(t)}}}function gf(e){let t;return{c(){t=M("circle"),f(t,"cx","0"),f(t,"cy","0"),f(t,"r","8"),f(t,"fill","gray")},m(n,r){R(n,t,r)},d(n){n&&T(t)}}}function yf(e){let t;return{c(){t=M("rect"),f(t,"x","-8"),f(t,"y","-8"),f(t,"rx","2"),f(t,"width","16"),f(t,"height","16"),f(t,"fill","#cccccc"),f(t,"transform","rotate(45, 0, 0)")},m(n,r){R(n,t,r)},d(n){n&&T(t)}}}function Ar(e){let t,n;function r(o,l){return o[104].data.type=="vis"||o[104].data.type=="db"||o[104].data.type=="paper"||o[104].data.type=="app"||o[104].data.type=="pdf"?yf:gf}let i=r(e),a=i(e);return{c(){t=M("g"),a.c(),f(t,"transform",n=`translate(${e[104].x}, ${e[10]-e[104].y})`)},m(o,l){R(o,t,l),a.m(t,null)},p(o,l){i!==(i=r(o))&&(a.d(1),a=i(o),a&&(a.c(),a.m(t,null))),l[0]&1028&&n!==(n=`translate(${o[104].x}, ${o[10]-o[104].y})`)&&f(t,"transform",n)},d(o){o&&T(t),a.d()}}}function Cr(e){let t,n,r;return{c(){t=M("g"),n=M("circle"),f(n,"cx","0"),f(n,"cy","0"),f(n,"r","3"),f(n,"fill","gray"),f(t,"transform",r=`translate(${e[104].x}, ${e[10]+e[104].y})`)},m(i,a){R(i,t,a),A(t,n)},p(i,a){a[0]&1040&&r!==(r=`translate(${i[104].x}, ${i[10]+i[104].y})`)&&f(t,"transform",r)},d(i){i&&T(t)}}}function Pr(e){let t,n=e[119].continent.replace("_"," ")+` (${e[119].count})`,r,i,a;return{c(){t=M("text"),r=Fe(n),f(t,"x",i=e[119].x),f(t,"y",a=e[119].y),f(t,"text-anchor","middle"),f(t,"font-size","12"),f(t,"fill","white"),f(t,"letter-spacing","0.5")},m(o,l){R(o,t,l),A(t,r)},p(o,l){l[1]&32&&n!==(n=o[119].continent.replace("_"," ")+` (${o[119].count})`)&&je(r,n),l[1]&32&&i!==(i=o[119].x)&&f(t,"x",i),l[1]&32&&a!==(a=o[119].y)&&f(t,"y",a)},d(o){o&&T(t)}}}function Nr(e){let t,n,r;return{c(){t=M("path"),f(t,"d",n=`M${e[104].x},${e[10]+e[104].y} 
       C${e[104].x},${e[10]+e[104].parent.y+20} 
        ${e[104].parent.x},${e[10]+e[104].parent.y+20} 
        ${e[104].parent.x},${e[10]+e[104].parent.y}`),f(t,"fill","none"),f(t,"stroke",r=e[15].has(`${e[104].parent.data.id}${e[104].data.id}`)?"#cc8500":"#008fb3"),f(t,"stroke-width","1")},m(i,a){R(i,t,a)},p(i,a){a[0]&9216&&n!==(n=`M${i[104].x},${i[10]+i[104].y} 
       C${i[104].x},${i[10]+i[104].parent.y+20} 
        ${i[104].parent.x},${i[10]+i[104].parent.y+20} 
        ${i[104].parent.x},${i[10]+i[104].parent.y}`)&&f(t,"d",n),a[0]&40960&&r!==(r=i[15].has(`${i[104].parent.data.id}${i[104].data.id}`)?"#cc8500":"#008fb3")&&f(t,"stroke",r)},d(i){i&&T(t)}}}function Er(e){let t,n=e[104].data.name.charAt(0).toUpperCase()+e[104].data.name.slice(1)+"",r;return{c(){t=M("text"),r=Fe(n),f(t,"x",-10),f(t,"y",3),f(t,"font-size","12"),f(t,"fill","white"),f(t,"text-anchor","end")},m(i,a){R(i,t,a),A(t,r)},p(i,a){a[0]&64&&n!==(n=i[104].data.name.charAt(0).toUpperCase()+i[104].data.name.slice(1)+"")&&je(r,n)},d(i){i&&T(t)}}}function Xr(e){let t,n=e[11].get(e[104].revealLevel)===e[104],r,i,a,o,l=n&&Er(e);function u(){return e[83](e[104])}function h(){return e[85](e[104])}function p(..._){return e[86](e[104],..._)}return{c(){t=M("g"),l&&l.c(),r=M("circle"),f(r,"cx","0"),f(r,"cy","0"),f(r,"r","3"),f(r,"fill","white"),f(r,"tabindex","0"),f(r,"role","button"),f(r,"aria-label","Node details"),f(t,"transform",i=`translate(${e[104].x}, ${e[10]+e[104].y})`)},m(_,m){R(_,t,m),l&&l.m(t,null),A(t,r),a||(o=[fe(r,"mouseenter",u),fe(r,"mouseleave",e[84]),fe(r,"click",h),fe(r,"keydown",p)],a=!0)},p(_,m){e=_,m[0]&2112&&(n=e[11].get(e[104].revealLevel)===e[104]),n?l?l.p(e,m):(l=Er(e),l.c(),l.m(t,r)):l&&(l.d(1),l=null),m[0]&1088&&i!==(i=`translate(${e[104].x}, ${e[10]+e[104].y})`)&&f(t,"transform",i)},d(_){_&&T(t),l&&l.d(),a=!1,Ue(o)}}}function Sr(e){let t;return{c(){t=M("path"),f(t,"d",e[26]),f(t,"fill","none"),f(t,"stroke","white"),f(t,"stroke-width","30"),f(t,"stroke-opacity","0.2"),f(t,"stroke-linecap","round")},m(n,r){R(n,t,r)},p(n,r){r[0]&67108864&&f(t,"d",n[26])},d(n){n&&T(t)}}}function Mr(e){let t;return{c(){t=M("path"),f(t,"d",e[27]),f(t,"fill","none"),f(t,"stroke","white"),f(t,"stroke-width","30"),f(t,"stroke-opacity","0.2"),f(t,"stroke-linecap","round")},m(n,r){R(n,t,r)},p(n,r){r[0]&134217728&&f(t,"d",n[27])},d(n){n&&T(t)}}}function Lr(e){let t;return{c(){t=M("path"),f(t,"d",e[28]),f(t,"fill","none"),f(t,"stroke","white"),f(t,"stroke-width","30"),f(t,"stroke-opacity","0.2"),f(t,"stroke-linecap","round")},m(n,r){R(n,t,r)},p(n,r){r[0]&268435456&&f(t,"d",n[28])},d(n){n&&T(t)}}}function Tr(e){let t;return{c(){t=M("path"),f(t,"d",e[25]),f(t,"fill","none"),f(t,"stroke","white"),f(t,"stroke-width","30"),f(t,"stroke-opacity","0.2"),f(t,"stroke-linecap","round")},m(n,r){R(n,t,r)},p(n,r){r[0]&33554432&&f(t,"d",n[25])},d(n){n&&T(t)}}}function Ir(e){let t;return{c(){t=M("path"),f(t,"d",e[33]),f(t,"fill","none"),f(t,"stroke","white"),f(t,"stroke-width","30"),f(t,"stroke-opacity","0.2"),f(t,"stroke-linecap","round")},m(n,r){R(n,t,r)},p(n,r){r[1]&4&&f(t,"d",n[33])},d(n){n&&T(t)}}}function Rr(e){let t;return{c(){t=M("path"),f(t,"d",e[31]),f(t,"fill","none"),f(t,"stroke","white"),f(t,"stroke-width","30"),f(t,"stroke-opacity","0.2"),f(t,"stroke-linecap","round")},m(n,r){R(n,t,r)},p(n,r){r[1]&1&&f(t,"d",n[31])},d(n){n&&T(t)}}}function Or(e){let t;return{c(){t=M("path"),f(t,"d",e[32]),f(t,"fill","none"),f(t,"stroke","white"),f(t,"stroke-width","30"),f(t,"stroke-opacity","0.2"),f(t,"stroke-linecap","round")},m(n,r){R(n,t,r)},p(n,r){r[1]&2&&f(t,"d",n[32])},d(n){n&&T(t)}}}function Dr(e){let t;return{c(){t=M("path"),f(t,"d",e[30]),f(t,"fill","none"),f(t,"stroke","white"),f(t,"stroke-width","30"),f(t,"stroke-opacity","0.2"),f(t,"stroke-linecap","round")},m(n,r){R(n,t,r)},p(n,r){r[0]&1073741824&&f(t,"d",n[30])},d(n){n&&T(t)}}}function qr(e){let t;return{c(){t=M("path"),f(t,"d",e[29]),f(t,"fill","none"),f(t,"stroke","white"),f(t,"stroke-width","30"),f(t,"stroke-opacity","0.2"),f(t,"stroke-linecap","round")},m(n,r){R(n,t,r)},p(n,r){r[0]&536870912&&f(t,"d",n[29])},d(n){n&&T(t)}}}function Fr(e){let t,n,r,i;function a(){return e[87](e[104])}function o(){return e[88](e[104])}return{c(){t=M("path"),f(t,"d",n=e[104].data.name==="Research"?a():e[104].data.name==="d3"&&e[104].parent.data.name==="PA-X"||e[104].data.name==="Tracker"||e[104].data.name==="Infographics"?o():`M${e[104].x},${e[10]-e[104].y}
                   C${e[104].x},${e[10]-e[104].parent.y-20}
                    ${e[104].parent.x},${e[10]-e[104].parent.y-50}
                    ${e[104].parent.x},${e[10]-e[104].parent.y}`),f(t,"fill","none"),f(t,"stroke",r=e[15].has(`${e[104].parent.data.id}${e[104].data.id}`)?"#cc8500":"#008fb3"),f(t,"stroke-width",i=e[104].data.branch_type==="trunk"?15:e[104].data.branch_type==="upper_trunk"?10:e[104].data.branch_type==="uppest_trunk"?5:2)},m(l,u){R(l,t,u)},p(l,u){e=l,u[0]&1024|u[1]&8&&n!==(n=e[104].data.name==="Research"?a():e[104].data.name==="d3"&&e[104].parent.data.name==="PA-X"||e[104].data.name==="Tracker"||e[104].data.name==="Infographics"?o():`M${e[104].x},${e[10]-e[104].y}
                   C${e[104].x},${e[10]-e[104].parent.y-20}
                    ${e[104].parent.x},${e[10]-e[104].parent.y-50}
                    ${e[104].parent.x},${e[10]-e[104].parent.y}`)&&f(t,"d",n),u[0]&32768|u[1]&8&&r!==(r=e[15].has(`${e[104].parent.data.id}${e[104].data.id}`)?"#cc8500":"#008fb3")&&f(t,"stroke",r),u[1]&8&&i!==(i=e[104].data.branch_type==="trunk"?15:e[104].data.branch_type==="upper_trunk"?10:e[104].data.branch_type==="uppest_trunk"?5:2)&&f(t,"stroke-width",i)},d(l){l&&T(t)}}}function wf(e){let t,n=e[104].data.name+"",r;return{c(){t=M("text"),r=Fe(n),f(t,"x",-5),f(t,"y",-20),f(t,"font-size","10"),f(t,"fill","gray"),f(t,"opacity","0.7"),f(t,"transform","rotate(-45)"),f(t,"text-anchor","start")},m(i,a){R(i,t,a),A(t,r)},p(i,a){a[1]&16&&n!==(n=i[104].data.name+"")&&je(r,n)},d(i){i&&T(t)}}}function bf(e){let t,n=e[104].data.name+"",r,i;return{c(){t=M("text"),r=Fe(n),f(t,"x",i=e[44].get(e[104].data.name).x+10),f(t,"y",0),f(t,"font-size","12"),f(t,"fill","white")},m(a,o){R(a,t,o),A(t,r)},p(a,o){o[1]&16&&n!==(n=a[104].data.name+"")&&je(r,n),o[1]&16&&i!==(i=a[44].get(a[104].data.name).x+10)&&f(t,"x",i)},d(a){a&&T(t)}}}function vf(e){let t,n=e[46].get(e[104].data.label).text+"",r,i;return{c(){t=M("text"),r=Fe(n),f(t,"x",20),f(t,"y",5),f(t,"font-size","12"),f(t,"fill","white"),f(t,"transform",i=e[46].get(e[104].data.label).rotate?`rotate(${e[46].get(e[104].data.label).rotate})`:void 0)},m(a,o){R(a,t,o),A(t,r)},p(a,o){o[1]&16&&n!==(n=a[46].get(a[104].data.label).text+"")&&je(r,n),o[1]&16&&i!==(i=a[46].get(a[104].data.label).rotate?`rotate(${a[46].get(a[104].data.label).rotate})`:void 0)&&f(t,"transform",i)},d(a){a&&T(t)}}}function kf(e){let t=!e[45].get(e[104].data.name).maxLevel||e[9]<e[45].get(e[104].data.name).maxLevel,n,r=t&&zr(e);return{c(){r&&r.c(),n=z()},m(i,a){r&&r.m(i,a),R(i,n,a)},p(i,a){a[0]&512|a[1]&16&&(t=!i[45].get(i[104].data.name).maxLevel||i[9]<i[45].get(i[104].data.name).maxLevel),t?r?r.p(i,a):(r=zr(i),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(i){i&&T(n),r&&r.d(i)}}}function zr(e){let t,n=e[45].get(e[104].data.name).text+"",r,i;return{c(){t=M("text"),r=Fe(n),f(t,"x",20),f(t,"y",5),f(t,"font-size","12"),f(t,"fill","white"),f(t,"transform",i=e[45].get(e[104].data.name).rotate?`rotate(${e[45].get(e[104].data.name).rotate})`:void 0)},m(a,o){R(a,t,o),A(t,r)},p(a,o){o[1]&16&&n!==(n=a[45].get(a[104].data.name).text+"")&&je(r,n),o[1]&16&&i!==(i=a[45].get(a[104].data.name).rotate?`rotate(${a[45].get(a[104].data.name).rotate})`:void 0)&&f(t,"transform",i)},d(a){a&&T(t)}}}function $f(e){let t,n,r;function i(){return e[93](e[104])}function a(){return e[95](e[104])}function o(...l){return e[96](e[104],...l)}return{c(){t=M("circle"),f(t,"cx","0"),f(t,"cy","0"),f(t,"r","8"),f(t,"fill","white"),f(t,"tabindex","0"),f(t,"role","button"),f(t,"aria-label","Node details")},m(l,u){R(l,t,u),n||(r=[fe(t,"mouseenter",i),fe(t,"mouseleave",e[94]),fe(t,"click",a),fe(t,"keydown",o)],n=!0)},p(l,u){e=l},d(l){l&&T(t),n=!1,Ue(r)}}}function Af(e){let t,n,r;function i(){return e[89](e[104])}function a(){return e[91](e[104])}function o(...l){return e[92](e[104],...l)}return{c(){t=M("rect"),f(t,"x","-8"),f(t,"y","-8"),f(t,"rx","2"),f(t,"width","16"),f(t,"height","16"),f(t,"fill","white"),f(t,"transform","rotate(45, 0, 0)"),f(t,"tabindex","0"),f(t,"role","button"),f(t,"aria-label","Node details")},m(l,u){R(l,t,u),n||(r=[fe(t,"mouseenter",i),fe(t,"mouseleave",e[90]),fe(t,"click",a),fe(t,"keydown",o)],n=!0)},p(l,u){e=l},d(l){l&&T(t),n=!1,Ue(r)}}}function Hr(e){let t;return{c(){t=M("circle"),f(t,"cx",(e[37]+e[38]*Math.floor(e[113]/12))*Math.cos((-90+(e[113]%12+1)*30)*Math.PI/180)),f(t,"cy",(e[37]+e[38]*Math.floor(e[113]/12))*Math.sin((-90+(e[113]%12+1)*30)*Math.PI/180)),f(t,"r","2"),f(t,"fill","#ffff66")},m(n,r){R(n,t,r)},p:Pe,d(n){n&&T(t)}}}function Br(e){let t,n,r,i,a,o,l,u;function h(v,O){if(O[1]&16&&(n=null),n==null&&(n=!!v[44].has(v[104].data.name)),n)return bf;if(v[9]>=6&&v[104].data.name!=="Infographics")return wf}let p=h(e,[-1,-1,-1,-1,-1]),_=p&&p(e);function m(v,O){if(O[1]&16&&(i=null),O[1]&16&&(a=null),i==null&&(i=!!(v[104].data.name&&v[45].has(v[104].data.name))),i)return kf;if(a==null&&(a=!!(v[104].data.label&&v[46].has(v[104].data.label))),a)return vf}let w=m(e,[-1,-1,-1,-1,-1]),b=w&&w(e);function $(v,O){return v[104].data.type=="vis"||v[104].data.type=="db"||v[104].data.type=="paper"||v[104].data.type=="app"||v[104].data.type=="pdf"?Af:$f}let k=$(e),C=k(e),E=D(Array(e[104].data.ppl)),P=[];for(let v=0;v<E.length;v+=1)P[v]=Hr(lr(e,E,v));return{c(){t=M("g"),_&&_.c(),r=z(),b&&b.c(),o=z(),C.c(),l=z();for(let v=0;v<P.length;v+=1)P[v].c();f(t,"transform",u=`translate(${e[104].x}, ${e[10]-e[104].y})`)},m(v,O){R(v,t,O),_&&_.m(t,null),A(t,r),b&&b.m(t,null),A(t,o),C.m(t,null),A(t,l);for(let F=0;F<P.length;F+=1)P[F]&&P[F].m(t,null)},p(v,O){if(p===(p=h(v,O))&&_?_.p(v,O):(_&&_.d(1),_=p&&p(v),_&&(_.c(),_.m(t,r))),w===(w=m(v,O))&&b?b.p(v,O):(b&&b.d(1),b=w&&w(v),b&&(b.c(),b.m(t,o))),k===(k=$(v))&&C?C.p(v,O):(C.d(1),C=k(v),C&&(C.c(),C.m(t,l))),O[1]&208){E=D(Array(v[104].data.ppl));let F;for(F=0;F<E.length;F+=1){const Xe=lr(v,E,F);P[F]?P[F].p(Xe,O):(P[F]=Hr(Xe),P[F].c(),P[F].m(t,null))}for(;F<P.length;F+=1)P[F].d(1);P.length=E.length}O[0]&1024|O[1]&16&&u!==(u=`translate(${v[104].x}, ${v[10]-v[104].y})`)&&f(t,"transform",u)},d(v){v&&T(t),_&&_.d(),b&&b.d(),C.d(),he(P,v)}}}function Vr(e){let t,n;return{c(){t=M("foreignObject"),n=we("div"),f(n,"class","icon svelte-16bnb1n"),f(n,"style","background-image: url('img/person.png');"),f(t,"x",20+e[109]*12),f(t,"y",-8+Math.random()),f(t,"width","12"),f(t,"height","12"),f(t,"role","button"),f(t,"tabindex","0"),f(t,"aria-label","Icon")},m(r,i){R(r,t,i),A(t,n)},p:Pe,d(r){r&&T(t)}}}function Ur(e){let t,n,r,i,a,o,l=e[104].data.name+"",u,h,p,_,m,w,b=D(Array(e[104].data.ppl)),$=[];for(let k=0;k<b.length;k+=1)$[k]=Vr(ar(e,b,k));return{c(){t=we("a"),n=we("div"),r=we("div"),i=M("svg"),a=M("g"),o=M("text"),u=Fe(l);for(let k=0;k<$.length;k+=1)$[k].c();h=it(),p=we("div"),m=it(),f(o,"x","10"),f(o,"y","15"),f(o,"font-size","12"),f(o,"fill","white"),f(a,"transform","translate(5, 5)"),f(i,"width","100%"),f(i,"height","100%"),f(i,"preserveAspectRatio","none"),f(r,"class","segment-left svelte-16bnb1n"),Be(r,"flex","1"),Be(r,"border-right","1px solid rgba(128, 128, 128, 0.333)"),f(p,"class","segment-right svelte-16bnb1n"),f(p,"style",_="flex: 1; background-image: url('"+e[104].data.url+"'); background-size: contain; <!-- background-repeat: no-repeat; --> background-position: center;"),f(n,"class","detail-segment svelte-16bnb1n"),Be(n,"height",e[16]+"px"),Be(n,"width",e[12]+"px"),Be(n,"display","flex"),f(t,"href",w=e[104].data.link),f(t,"target","_blank")},m(k,C){R(k,t,C),A(t,n),A(n,r),A(r,i),A(i,a),A(a,o),A(o,u);for(let E=0;E<$.length;E+=1)$[E]&&$[E].m(a,null);A(n,h),A(n,p),A(t,m)},p(k,C){if(C[0]&256&&l!==(l=k[104].data.name+"")&&je(u,l),C[0]&256){b=D(Array(k[104].data.ppl));let E;for(E=0;E<b.length;E+=1){const P=ar(k,b,E);$[E]?$[E].p(P,C):($[E]=Vr(P),$[E].c(),$[E].m(a,null))}for(;E<$.length;E+=1)$[E].d(1);$.length=b.length}C[0]&256&&_!==(_="flex: 1; background-image: url('"+k[104].data.url+"'); background-size: contain; <!-- background-repeat: no-repeat; --> background-position: center;")&&f(p,"style",_),C[0]&65536&&Be(n,"height",k[16]+"px"),C[0]&4096&&Be(n,"width",k[12]+"px"),C[0]&256&&w!==(w=k[104].data.link)&&f(t,"href",w)},d(k){k&&T(t),he($,k)}}}function Cf(e){let t,n,r,i,a,o,l,u,h,p,_,m,w,b=(e[0]!==void 0||e[1]!==void 0)&&yr(e),$=D(e[8]),k=[];for(let C=0;C<$.length;C+=1)k[C]=Ur(ir(e,$,C));return{c(){t=we("div"),n=we("div"),n.textContent=`This is a visualization of all the steps taken to create the PA-X dataset,\r
    including the data collection, transformation of the data, research this\r
    dataset enables as well as visualization interfaces aimed to provide new\r
    insights into peace and conflict resolution. Click "next" to gradually\r
    reveal the workflow, and click on any node to see more details about that\r
    step.`,r=it(),i=we("div"),a=we("button"),a.textContent="reset",o=it(),l=we("button"),l.textContent="next",u=it(),b&&b.c(),h=it(),p=we("div");for(let C=0;C<k.length;C+=1)k[C].c();f(n,"id","step_description"),f(n,"class","svelte-16bnb1n"),f(a,"id","reset"),f(a,"class","svelte-16bnb1n"),f(l,"id","next"),f(l,"class","svelte-16bnb1n"),f(i,"class","tree svelte-16bnb1n"),f(p,"id","details"),Be(p,"margin-top","0px"),f(p,"class","svelte-16bnb1n"),f(t,"id","wrapper"),f(t,"class","svelte-16bnb1n"),It(()=>e[97].call(t))},m(C,E){R(C,t,E),A(t,n),A(t,r),A(t,i),A(i,a),A(i,o),A(i,l),A(i,u),b&&b.m(i,null),A(t,h),A(t,p);for(let P=0;P<k.length;P+=1)k[P]&&k[P].m(p,null);_=ra(t,e[97].bind(t)),m||(w=[fe(a,"click",e[40]),fe(l,"click",e[43])],m=!0)},p(C,E){if(C[0]!==void 0||C[1]!==void 0?b?b.p(C,E):(b=yr(C),b.c(),b.m(i,null)):b&&(b.d(1),b=null),E[0]&69888){$=D(C[8]);let P;for(P=0;P<$.length;P+=1){const v=ir(C,$,P);k[P]?k[P].p(v,E):(k[P]=Ur(v),k[P].c(),k[P].m(p,null))}for(;P<k.length;P+=1)k[P].d(1);k.length=$.length}},i:Pe,o:Pe,d(C){C&&T(t),b&&b.d(),he(k,C),_(),m=!1,Ue(w)}}}const Yr=1;function tn(e,t){let n=e;for(;n;){if(t.has(n))return!0;n=n.parent}return!1}function Pf(e){switch(e.data.name){case"agreement":return 0;case"negotiation":return 1;case"conflict":return 2;default:return 0}}function Nf(e,t,n){let r,i,a,o,l,u,h,p,_,m,w,b,$,k,C,E,P,v,O,F,Xe,Se,Ye,Me,H,ke,x,me,W,Le,B,$e,K,ge,Q,Te,V,Ae,J,ye,Z,te,ne,re,ie,ae,oe,le,U,Y,ze=14,se=4.5,Ce=1,j=[],s=null,X,c={top:20,right:100,bottom:20,left:100},L=[],Wt=[],We=[],ft=[],Qt=[],bn=[],$t=[],vn=[],et,kn,At,tt,I=mt(en,g=>g.children),de=mt({name:"__downward_root__",children:en.downward},g=>g.children),Ie=mt({name:"__ucdp_root__",children:en.ucdp},g=>g.children);const $n={0:.6,1:.6,2:.6,3:.6,4:.6,5:.6};function An(g,d){g.children&&g.children.forEach(y=>{const S=$n[y.depth]??Yr;y.y=g.y+S*d,An(y,d)})}function $i(g,d){return new Set(ka(g.slice()).slice(0,d))}function Ai(){n(75,r=U-c.right-c.left),n(12,Ce=1),n(8,Re=[]),s=null,n(15,Ct=new Set),Jt(".ind_line").style("opacity",.5)}let Ct=new Set;function Qe(g){if(!s){let d=g.node;if(!d){n(15,Ct=new Set);return}const y=new Set;for(;d.parent;){const S=`${d.parent.data.id}${d.data.id}`;y.add(S),d=d.parent}ft.forEach(S=>{if(!tn(S,X)){const ee=`${S.parent.data.id}${S.data.id}`;y.add(ee)}}),n(15,Ct=y)}}let Re=[];function Ge(g){var ee;Jt(".ind_line").style("opacity",0),s==null&&n(75,r=U/2-c.right),s=!0,n(8,Re=[]),n(12,Ce=r),j=g.node;let d=j,y=We[16],S=[];for(;d;)Re.push(d),d=d.parent;for(;y;)console.log(y),S.push(y),y=((ee=y.children)==null?void 0:ee[0])||null;n(8,Re=Re.concat(S))}let He=-1,G=-1,Cn;function Ci(){He<_?(n(54,He+=1),He===2&&n(9,G+=1)):n(9,G+=1)}const Pi=new Map([["Collect",{x:12}],["Translate",{x:20}],["Transcribe",{x:12}],["PA-X QC",{x:12}],["PA-X",{x:12}],["Research",{x:12}],["PA-X Code",{x:25}]]),Ni=new Map([["Tracker",{text:"Visualization",rotate:-45}],["PeaceFem",{text:"App",rotate:-45}],["Data Overview",{text:"Visualization",rotate:-45,maxLevel:15}],["PAA-X",{text:"Databases"}],["Python",{text:"Programming",rotate:-45,maxLevel:13}],["Network",{text:"Visualization",rotate:-45,maxLevel:14}]]),Ei=new Map([["paper",{text:"Publications",rotate:-45}],["Programming",{text:"Programming",rotate:-45}],["Quality Control",{text:"Quality Control"}],["Coding",{text:"Coding"}],["Infographics",{text:"Infographics",rotate:-45}]]),Xi=g=>{const d=Math.min(50,(a-g.y-(a-g.parent.y))*.3),y=d*.3;return`M${g.x},${a-g.y}
                            L${g.x},${a-g.parent.y+d}
                            C${g.x},${a-g.parent.y+y}
                             ${g.parent.x},${a-g.parent.y+y}
                             ${g.parent.x},${a-g.parent.y}`},Si=g=>{const d=Math.min(50,(a-g.y-(a-g.parent.y))*.3),y=g.data.name==="Tracker"||g.data.name==="Infographics"?20:0,S=d+y,ee=S*.3;return`M${g.x},${a-g.y}
            L${g.x},${a-g.parent.y+S}
            C${g.x},${a-g.parent.y+ee}
             ${g.parent.x},${a-g.parent.y+ee}
             ${g.parent.x},${a-g.parent.y}`},Mi=g=>Qe({node:g}),Li=()=>Qe({node:null}),Ti=g=>Ge({node:g}),Ii=(g,d)=>{(d.key==="Enter"||d.key===" ")&&Ge({node:g})},Ri=g=>{const d=Math.min(50,(a-g.y-(a-g.parent.y))*.3),y=d*.3;return`M${g.x},${a-g.y}
                            L${g.x},${a-g.parent.y+d}
                            C${g.x},${a-g.parent.y+y}
                             ${g.parent.x},${a-g.parent.y+y}
                             ${g.parent.x},${a-g.parent.y}`},Oi=g=>{const d=Math.min(50,(a-g.y-(a-g.parent.y))*.3),y=g.data.name==="Tracker"||g.data.name==="Infographics"?20:0,S=d+y,ee=S*.3;return`M${g.x},${a-g.y}
            L${g.x},${a-g.parent.y+S}
            C${g.x},${a-g.parent.y+ee}
             ${g.parent.x},${a-g.parent.y+ee}
             ${g.parent.x},${a-g.parent.y}`},Di=g=>Qe({node:g}),qi=()=>Qe({node:null}),Fi=g=>Ge({node:g}),zi=(g,d)=>{(d.key==="Enter"||d.key===" ")&&Ge({node:g})},Hi=g=>Qe({node:g}),Bi=()=>Qe({node:null}),Vi=g=>Ge({node:g}),Ui=(g,d)=>{(d.key==="Enter"||d.key===" ")&&Ge({node:g})};function Yi(){U=this.clientWidth,Y=this.clientHeight,n(0,U),n(1,Y)}return e.$$.update=()=>{if(e.$$.dirty[0]&1&&n(75,r=U-c.right-c.left),e.$$.dirty[0]&2&&n(80,i=Y-c.top-c.bottom),e.$$.dirty[2]&262144&&n(10,a=i*.85),e.$$.dirty[0]&1024&&n(77,o=a),e.$$.dirty[2]&294912&&n(76,l=i-o),e.$$.dirty[2]&40960&&n(79,u=nr().size([r,o])),e.$$.dirty[2]&24576&&n(78,h=nr().size([r,l])),e.$$.dirty[0]&148|e.$$.dirty[1]&7405568|e.$$.dirty[2]&253952){let ut=function(N,ue){N.y+=ue,N.children&&N.children.forEach(xe=>ut(xe,ue))};var g=ut;u(I),h(de),h(Ie),mf(I,"PA-X Local","VUE");const d=I.descendants().find(N=>N.data.name==="Collect");n(52,de.x=d.x,de),n(51,I.y=0,I),n(53,Ie.x=r/1.5,Ie),n(53,Ie.y-=20,Ie);const y=I.height+1;let S=0;for(let N=1;N<=y;N++)S+=$n[N]??Yr;const ee=o/S;An(I,ee);const Pn=I.descendants().find(N=>{var ue,xe;return N.data.name==="d3"&&((xe=(ue=N.parent)==null?void 0:ue.data)==null?void 0:xe.name)==="PAA-X"});if(Pn){const N=Pn.y;I.descendants().forEach(ue=>{var xe,Sn,Mn,Ln,Tn,In;if(ue.data.name==="Research"||ue.data.name==="d3"&&((Sn=(xe=ue.parent)==null?void 0:xe.data)==null?void 0:Sn.name)==="PA-X"||ue.data.name==="Tracker"&&((Ln=(Mn=ue.parent)==null?void 0:Mn.data)==null?void 0:Ln.name)==="PA-X"||ue.data.name==="Infographics"&&((In=(Tn=ue.parent)==null?void 0:Tn.data)==null?void 0:In.name)==="PA-X"){const Ki=N-ue.y;ut(ue,Ki)}})}n(49,At=I.descendants().find(N=>N.data.name==="Data Overview")),kn=I.descendants().find(N=>N.data.name==="PeaceFem"),n(48,et=I.descendants().find(N=>N.data.name==="Tracker"));let Nn=I.descendants().find(N=>N.data.name==="Infographics"),Pt=I.descendants().find(N=>N.data.name==="Scrollytelling"),Wi=I.descendants().find(N=>N.data.name==="PBi Youth");kn.y=Pt.y,Wi.y=Pt.y,n(48,et.y=Pt.y,et),Nn.y=Pt.y,Nn.x+=20;const Qi=l/(de.height+.8);ki(de,Qi);const En=de.descendants().filter(N=>N.data.name==="conflict"),Xn=En.length>0?En[0].y:null;Xn!==null&&Ie.descendants().forEach(N=>{N.parent&&(N.y=Xn)}),rr(de,r,{nodeSpacing:10,continentGap:80}),rr(Ie,r,{nodeSpacing:10,continentGap:80}),n(2,L=I.descendants()),n(3,Wt=L.slice(1)),n(4,We=de.descendants().slice(1)),n(5,ft=We.filter(N=>N.parent)),n(7,$t=Ie.descendants()),n(14,vn=$t.filter(N=>N.parent)),n(50,tt=$t.find(N=>N.data.name==="__ucdp_root__"));const Gt=de.descendants().slice(1),Gi=Gt.filter(N=>N.parent),xi=Gt.filter(N=>N.depth===1);n(47,X=$i(xi,20)),n(4,We=Gt.filter(N=>N.data.name==="conflict"?!0:!tn(N,X))),n(5,ft=Gi.filter(N=>N.data.name==="conflict"?!0:!tn(N,X)))}if(e.$$.dirty[0]&1024|e.$$.dirty[1]&2097152|e.$$.dirty[2]&16384&&n(36,p=(()=>{if(!de.children)return[];const d=xr(de.children,y=>y.data.continent??"Unknown");return Array.from(d,([y,S])=>{var ee;return{continent:y,count:((ee=S[0])==null?void 0:ee.data.number)??S.length,x:va(S,ut=>ut.x),y:a+l}})})()),e.$$.dirty[0]&258&&Re.length>1){const d=Re.length*4;n(16,Cn=(Y-d)/Re.length)}if(e.$$.dirty[1]&2097152&&de.descendants().forEach(d=>{d.revealLevel=Pf(d)}),e.$$.dirty[0]&16&&n(73,_=Math.max(...We.map(d=>d.revealLevel))),e.$$.dirty[0]&512&&n(74,m=G>=0?G:null),e.$$.dirty[0]&4|e.$$.dirty[2]&4096&&n(35,w=m!==null?L.filter(d=>d.data.step<=m):[]),e.$$.dirty[0]&8|e.$$.dirty[2]&4096&&n(34,b=m!==null?Wt.filter(d=>d.parent&&d.data.step<=m):[]),e.$$.dirty[0]&16|e.$$.dirty[1]&8388608|e.$$.dirty[2]&2048&&n(6,Qt=We.filter(d=>d.revealLevel>=_-He)),e.$$.dirty[0]&32|e.$$.dirty[1]&8388608|e.$$.dirty[2]&2048){const d=_-He;n(13,bn=ft.filter(y=>y.parent?y.revealLevel>=d&&y.parent.revealLevel>=d-1:!1))}if(e.$$.dirty[0]&512|e.$$.dirty[1]&8388608&&(G===-1&&He===0?(q("#step_description").style("visibility","visible").html(_e.workflow[0].description),q("#step_description").style("top","80%")):G===-1&&He===1?(q("#step_description").html(_e.workflow[1].description),q("#step_description").transition().style("top","75%")):G===0?(q("#step_description").html(_e.workflow[2].description),q("#step_description").transition().style("top","70%")):G===1?(q("#step_description").html(_e.workflow[3].description),q("#step_description").transition().style("top","65%")):G===2?(q("#step_description").html(_e.workflow[4].description),q("#step_description").transition().style("top","60%")):G===3?(q("#step_description").html(_e.workflow[5].description),q("#step_description").transition().style("top","55%")):G===4?(q("#step_description").html(_e.workflow[6].description),q("#step_description").transition().style("top","50%")):G===5?(q("#step_description").html(_e.workflow[7].description),q("#step_description").transition().style("top","45%")):G===6?(q("#step_description").html(_e.workflow[8].description),q("#step_description").transition().style("top","32%")):G===7?(q("#step_description").transition().style("top","28%"),q("#step_description").html(_e.workflow[9].description),q(".trackerCircle").remove()):G===8?(q("#step_description").transition().style("top","18%"),q("#step_description").html(_e.workflow[10].description)):G===9?(q("#step_description").remove(),q("#step_description").html(_e.workflow[11].description),q(".progPathFirst").remove()):G===10&&(q("#step_description").html(_e.workflow[12].description),Jt(".visPathFirst, .pbiCircle").remove())),e.$$.dirty[1]&1048576&&n(72,$=I.descendants().filter(d=>d.data.type==="prog"&&d.parent.data.name!=="PA-X")),e.$$.dirty[2]&1024&&$.sort((d,y)=>d.x-y.x),e.$$.dirty[1]&1048576|e.$$.dirty[2]&1024&&n(71,k=I.descendants().filter(d=>{var y;return!$.includes(d)&&((y=d.parent)==null?void 0:y.ancestors().some(S=>S.data.name==="PA-X"))})),e.$$.dirty[0]&1024|e.$$.dirty[2]&1536&&n(33,C=De(a,$,k,40)),e.$$.dirty[1]&1048576&&n(70,E=I.descendants().filter(d=>d.data.type==="prog")),e.$$.dirty[2]&256&&E.sort((d,y)=>d.x-y.x),e.$$.dirty[1]&1048576|e.$$.dirty[2]&256&&n(69,P=I.descendants().filter(d=>{var y;return!E.includes(d)&&((y=d.parent)==null?void 0:y.ancestors().some(S=>S.data.name==="PA-X"))})),e.$$.dirty[0]&1024|e.$$.dirty[2]&384&&n(32,v=De(a,E,P,40)),e.$$.dirty[1]&1048576&&n(68,O=I.descendants().filter(d=>{var ee;if(d.data.type!=="vis")return!1;const y=d.parent,S=(ee=d.parent)==null?void 0:ee.parent;return!(y&&y.data.name==="PA-X"||S&&S.data.name==="PA-X")})),e.$$.dirty[2]&64&&O.sort((d,y)=>d.x-y.x),e.$$.dirty[1]&1048576|e.$$.dirty[2]&64&&n(67,F=I.descendants().filter(d=>{var y;return!O.includes(d)&&((y=d.parent)==null?void 0:y.ancestors().some(S=>S.data.name==="PA-X"))})),e.$$.dirty[0]&1024|e.$$.dirty[2]&96&&n(31,Xe=De(a,O,F,40)),e.$$.dirty[1]&1048576&&n(66,Se=I.descendants().filter(d=>d.data.type==="vis"&&d.parent.data.name!=="PA-X").sort((d,y)=>d.x-y.x)),e.$$.dirty[2]&16&&Se.sort((d,y)=>d.x-y.x),e.$$.dirty[1]&1048576|e.$$.dirty[2]&16&&n(65,Ye=I.descendants().filter(d=>{var y;return!Se.includes(d)&&((y=d.parent)==null?void 0:y.ancestors().some(S=>S.data.name=="PA-X"))})),e.$$.dirty[0]&1024|e.$$.dirty[2]&24&&n(30,Me=De(a,Se,Ye,40)),e.$$.dirty[1]&1048576&&n(64,H=I.descendants().filter(d=>d.data.type==="vis").sort((d,y)=>d.x-y.x)),e.$$.dirty[2]&4&&H.sort((d,y)=>d.x-y.x),e.$$.dirty[1]&1048576|e.$$.dirty[2]&4&&n(63,ke=I.descendants().filter(d=>{var y;return!H.includes(d)&&((y=d.parent)==null?void 0:y.ancestors().some(S=>S.data.name=="PA-X"))})),e.$$.dirty[0]&1024|e.$$.dirty[2]&6&&n(29,x=De(a,H,ke,40)),e.$$.dirty[1]&1048576&&n(62,me=I.descendants().filter(d=>d.data.type==="db"&&d.data.name!=="PA-X")),e.$$.dirty[2]&1&&me.sort((d,y)=>d.x-y.x),e.$$.dirty[1]&1048576|e.$$.dirty[2]&1&&n(61,W=I.descendants().filter(d=>{var y;return!me.includes(d)&&((y=d.parent)==null?void 0:y.ancestors().some(S=>S.data.name==="PA-X"))})),e.$$.dirty[0]&1024|e.$$.dirty[1]&1073741824|e.$$.dirty[2]&1&&n(28,Le=De(a,me,W,40)),e.$$.dirty[1]&1048576&&n(60,B=I.descendants().filter(d=>d.data.type==="quality_control"&&d.data.name!=="PA-X QC")),e.$$.dirty[1]&536870912&&B.sort((d,y)=>d.x-y.x),e.$$.dirty[1]&537919488&&n(59,$e=I.descendants().filter(d=>{var y;return!B.includes(d)&&((y=d.parent)==null?void 0:y.ancestors().some(S=>S.data.name==="PA-X"))})),e.$$.dirty[0]&1024|e.$$.dirty[1]&805306368&&n(27,K=De(a,B,$e,40)),e.$$.dirty[1]&1048576&&n(58,ge=I.descendants().filter(d=>d.data.type==="code"&&d.data.name!=="PA-X Code")),e.$$.dirty[1]&134217728&&ge.sort((d,y)=>d.x-y.x),e.$$.dirty[1]&135266304&&n(57,Q=I.descendants().filter(d=>{var y;return!ge.includes(d)&&((y=d.parent)==null?void 0:y.ancestors().some(S=>S.data.name==="PA-X"))})),e.$$.dirty[0]&1024|e.$$.dirty[1]&201326592&&n(26,Te=De(a,ge,Q,40)),e.$$.dirty[1]&1048576&&n(56,V=I.descendants().filter(d=>d.data.type==="paper"&&d.data.name!=="PA-X")),e.$$.dirty[1]&33554432&&V.sort((d,y)=>d.x-y.x),e.$$.dirty[1]&34603008&&n(55,Ae=I.descendants().filter(d=>{var y;return!V.includes(d)&&((y=d.parent)==null?void 0:y.ancestors().some(S=>S.data.name==="PA-X"))})),e.$$.dirty[0]&1024|e.$$.dirty[1]&50331648&&n(25,J=De(a,V,Ae,40)),e.$$.dirty[0]&2112){ye.clear();for(const d of Qt)ye.has(d.revealLevel)||ye.set(d.revealLevel,d)}e.$$.dirty[1]&262144&&n(24,Z=At.x+4),e.$$.dirty[0]&1024|e.$$.dirty[1]&262144&&n(23,te=a-At.y),e.$$.dirty[1]&524288&&n(22,ne=tt.x),e.$$.dirty[0]&1024|e.$$.dirty[1]&524288&&n(21,re=a+tt.y),e.$$.dirty[1]&131072&&n(20,ie=et.x+4),e.$$.dirty[0]&1024|e.$$.dirty[1]&131072&&n(19,ae=a-et.y),e.$$.dirty[1]&524288&&n(18,oe=tt.x),e.$$.dirty[0]&1024|e.$$.dirty[1]&524288&&n(17,le=a+tt.y),e.$$.dirty[0]&512&&console.log(G)},n(11,ye=new Map),[U,Y,L,Wt,We,ft,Qt,$t,Re,G,a,ye,Ce,bn,vn,Ct,Cn,le,oe,ae,ie,re,ne,te,Z,J,Te,K,Le,x,Me,Xe,v,C,b,w,p,ze,se,c,Ai,Qe,Ge,Ci,Pi,Ni,Ei,X,et,At,tt,I,de,Ie,He,Ae,V,Q,ge,$e,B,W,me,ke,H,Ye,Se,F,O,P,E,k,$,_,m,r,l,o,h,u,i,Xi,Si,Mi,Li,Ti,Ii,Ri,Oi,Di,qi,Fi,zi,Hi,Bi,Vi,Ui,Yi]}class Ef extends da{constructor(t){super(),pa(this,t,Nf,Cf,ji,{},null,[-1,-1,-1,-1,-1])}}new Ef({target:document.getElementById("app")});
