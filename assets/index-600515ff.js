var ai=Object.defineProperty;var oi=(e,t,n)=>t in e?ai(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Et=(e,t,n)=>(oi(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function le(){}function Nr(e){return e()}function ln(){return Object.create(null)}function Se(e){e.forEach(Nr)}function Lr(e){return typeof e=="function"}function xe(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function li(e){return Object.keys(e).length===0}function z(e,t){e.appendChild(t)}function P(e,t,n){e.insertBefore(t,n||null)}function L(e){e.parentNode&&e.parentNode.removeChild(e)}function re(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function fe(e){return document.createElement(e)}function T(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function oe(e){return document.createTextNode(e)}function K(){return oe(" ")}function Ee(){return oe("")}function be(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function l(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function si(e){return Array.from(e.childNodes)}function Ae(e,t){t=""+t,e.data!==t&&(e.data=t)}function pe(e,t,n,r){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}let ot;function fi(){if(ot===void 0){ot=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{ot=!0}}return ot}function ui(e,t){getComputedStyle(e).position==="static"&&(e.style.position="relative");const r=fe("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const i=fi();let a;return i?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",a=be(window,"message",o=>{o.source===r.contentWindow&&t()})):(r.src="about:blank",r.onload=()=>{a=be(r.contentWindow,"resize",t),t()}),z(e,r),()=>{(i||a&&r.contentWindow)&&a(),L(r)}}let Vt;function Ye(e){Vt=e}const Xe=[],sn=[];let Te=[];const fn=[],Pr=Promise.resolve();let Ut=!1;function Mr(){Ut||(Ut=!0,Pr.then(Er))}function ci(){return Mr(),Pr}function _t(e){Te.push(e)}const Dt=new Set;let Re=0;function Er(){if(Re!==0)return;const e=Vt;do{try{for(;Re<Xe.length;){const t=Xe[Re];Re++,Ye(t),hi(t.$$)}}catch(t){throw Xe.length=0,Re=0,t}for(Ye(null),Xe.length=0,Re=0;sn.length;)sn.pop()();for(let t=0;t<Te.length;t+=1){const n=Te[t];Dt.has(n)||(Dt.add(n),n())}Te.length=0}while(Xe.length);for(;fn.length;)fn.pop()();Ut=!1,Dt.clear(),Ye(e)}function hi(e){if(e.fragment!==null){e.update(),Se(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(_t)}}function pi(e){const t=[],n=[];Te.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),Te=t}const ut=new Set;let Le;function di(){Le={r:0,c:[],p:Le}}function _i(){Le.r||Se(Le.c),Le=Le.p}function ke(e,t){e&&e.i&&(ut.delete(e),e.i(t))}function Ie(e,t,n,r){if(e&&e.o){if(ut.has(e))return;ut.add(e),Le.c.push(()=>{ut.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function G(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function ct(e){e&&e.c()}function Ve(e,t,n){const{fragment:r,after_update:i}=e.$$;r&&r.m(t,n),_t(()=>{const a=e.$$.on_mount.map(Nr).filter(Lr);e.$$.on_destroy?e.$$.on_destroy.push(...a):Se(a),e.$$.on_mount=[]}),i.forEach(_t)}function We(e,t){const n=e.$$;n.fragment!==null&&(pi(n.after_update),Se(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function mi(e,t){e.$$.dirty[0]===-1&&(Xe.push(e),Mr(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function je(e,t,n,r,i,a,o=null,f=[-1]){const u=Vt;Ye(e);const c=e.$$={fragment:null,ctx:[],props:a,update:le,not_equal:i,bound:ln(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:ln(),dirty:f,skip_bound:!1,root:t.target||u.$$.root};o&&o(c.root);let h=!1;if(c.ctx=n?n(e,t.props||{},(p,g,...w)=>{const C=w.length?w[0]:g;return c.ctx&&i(c.ctx[p],c.ctx[p]=C)&&(!c.skip_bound&&c.bound[p]&&c.bound[p](C),h&&mi(e,p)),g}):[],c.update(),h=!0,Se(c.before_update),c.fragment=r?r(c.ctx):!1,t.target){if(t.hydrate){const p=si(t.target);c.fragment&&c.fragment.l(p),p.forEach(L)}else c.fragment&&c.fragment.c();t.intro&&ke(e.$$.fragment),Ve(e,t.target,t.anchor),Er()}Ye(u)}class et{constructor(){Et(this,"$$");Et(this,"$$set")}$destroy(){We(this,1),this.$destroy=le}$on(t,n){if(!Lr(n))return le;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!li(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const gi="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(gi);class yi extends Map{constructor(t,n=bi){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(un(this,t))}has(t){return super.has(un(this,t))}set(t,n){return super.set(wi(this,t),n)}delete(t){return super.delete(vi(this,t))}}function un({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function wi({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function vi({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function bi(e){return e!==null&&typeof e=="object"?e.valueOf():e}function cn(e){return e}function Dr(e,...t){return ki(e,cn,cn,t)}function ki(e,t,n,r){return function i(a,o){if(o>=r.length)return n(a);const f=new yi,u=r[o++];let c=-1;for(const h of a){const p=u(h,++c,a),g=f.get(p);g?g.push(h):f.set(p,[h])}for(const[h,p]of f)f.set(h,i(p,o));return t(f)}(e,0)}function Ai(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}const Ci=$i(Math.random);function $i(e){return function(n,r=0,i=n.length){let a=i-(r=+r);for(;a;){const o=e()*a--|0,f=n[a+r];n[a+r]=n[o+r],n[o+r]=f}return n}}function Ni(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}var Li={value:()=>{}};function Sr(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ht(n)}function ht(e){this._=e}function Pi(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ht.prototype=Sr.prototype={constructor:ht,on:function(e,t){var n=this._,r=Pi(e+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(e=r[a]).type)&&(i=Mi(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(i=(e=r[a]).type)n[i]=hn(n[i],e.name,t);else if(t==null)for(i in n)n[i]=hn(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ht(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function Mi(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function hn(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Li,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ft="http://www.w3.org/1999/xhtml";const pn={svg:"http://www.w3.org/2000/svg",xhtml:Ft,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ct(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),pn.hasOwnProperty(t)?{space:pn[t],local:e}:e}function Ei(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ft&&t.documentElement.namespaceURI===Ft?t.createElement(e):t.createElementNS(n,e)}}function Di(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Rr(e){var t=Ct(e);return(t.local?Di:Ei)(t)}function Si(){}function Wt(e){return e==null?Si:function(){return this.querySelector(e)}}function Ri(e){typeof e!="function"&&(e=Wt(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,f=r[i]=new Array(o),u,c,h=0;h<o;++h)(u=a[h])&&(c=e.call(u,u.__data__,h,a))&&("__data__"in u&&(c.__data__=u.__data__),f[h]=c);return new ie(r,this._parents)}function Xr(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Xi(){return[]}function Tr(e){return e==null?Xi:function(){return this.querySelectorAll(e)}}function Ti(e){return function(){return Xr(e.apply(this,arguments))}}function Ii(e){typeof e=="function"?e=Ti(e):e=Tr(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o=t[a],f=o.length,u,c=0;c<f;++c)(u=o[c])&&(r.push(e.call(u,u.__data__,c,o)),i.push(u));return new ie(r,i)}function Ir(e){return function(){return this.matches(e)}}function Ur(e){return function(t){return t.matches(e)}}var Ui=Array.prototype.find;function Fi(e){return function(){return Ui.call(this.children,e)}}function qi(){return this.firstElementChild}function zi(e){return this.select(e==null?qi:Fi(typeof e=="function"?e:Ur(e)))}var Oi=Array.prototype.filter;function Hi(){return Array.from(this.children)}function Bi(e){return function(){return Oi.call(this.children,e)}}function Yi(e){return this.selectAll(e==null?Hi:Bi(typeof e=="function"?e:Ur(e)))}function Vi(e){typeof e!="function"&&(e=Ir(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,f=r[i]=[],u,c=0;c<o;++c)(u=a[c])&&e.call(u,u.__data__,c,a)&&f.push(u);return new ie(r,this._parents)}function Fr(e){return new Array(e.length)}function Wi(){return new ie(this._enter||this._groups.map(Fr),this._parents)}function mt(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}mt.prototype={constructor:mt,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Qi(e){return function(){return e}}function Gi(e,t,n,r,i,a){for(var o=0,f,u=t.length,c=a.length;o<c;++o)(f=t[o])?(f.__data__=a[o],r[o]=f):n[o]=new mt(e,a[o]);for(;o<u;++o)(f=t[o])&&(i[o]=f)}function Ki(e,t,n,r,i,a,o){var f,u,c=new Map,h=t.length,p=a.length,g=new Array(h),w;for(f=0;f<h;++f)(u=t[f])&&(g[f]=w=o.call(u,u.__data__,f,t)+"",c.has(w)?i[f]=u:c.set(w,u));for(f=0;f<p;++f)w=o.call(e,a[f],f,a)+"",(u=c.get(w))?(r[f]=u,u.__data__=a[f],c.delete(w)):n[f]=new mt(e,a[f]);for(f=0;f<h;++f)(u=t[f])&&c.get(g[f])===u&&(i[f]=u)}function Ji(e){return e.__data__}function Zi(e,t){if(!arguments.length)return Array.from(this,Ji);var n=t?Ki:Gi,r=this._parents,i=this._groups;typeof e!="function"&&(e=Qi(e));for(var a=i.length,o=new Array(a),f=new Array(a),u=new Array(a),c=0;c<a;++c){var h=r[c],p=i[c],g=p.length,w=xi(e.call(h,h&&h.__data__,c,r)),C=w.length,b=f[c]=new Array(C),v=o[c]=new Array(C),$=u[c]=new Array(g);n(h,p,b,v,$,w,t);for(var k=0,A=0,N,D;k<C;++k)if(N=b[k]){for(k>=A&&(A=k+1);!(D=v[A])&&++A<C;);N._next=D||null}}return o=new ie(o,r),o._enter=f,o._exit=u,o}function xi(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ji(){return new ie(this._exit||this._groups.map(Fr),this._parents)}function ea(e,t,n){var r=this.enter(),i=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function ta(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,o=Math.min(i,a),f=new Array(i),u=0;u<o;++u)for(var c=n[u],h=r[u],p=c.length,g=f[u]=new Array(p),w,C=0;C<p;++C)(w=c[C]||h[C])&&(g[C]=w);for(;u<i;++u)f[u]=n[u];return new ie(f,this._parents)}function na(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function ra(e){e||(e=ia);function t(p,g){return p&&g?e(p.__data__,g.__data__):!p-!g}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],f=o.length,u=i[a]=new Array(f),c,h=0;h<f;++h)(c=o[h])&&(u[h]=c);u.sort(t)}return new ie(i,this._parents).order()}function ia(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function aa(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function oa(){return Array.from(this)}function la(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function sa(){let e=0;for(const t of this)++e;return e}function fa(){return!this.node()}function ua(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,o=i.length,f;a<o;++a)(f=i[a])&&e.call(f,f.__data__,a,i);return this}function ca(e){return function(){this.removeAttribute(e)}}function ha(e){return function(){this.removeAttributeNS(e.space,e.local)}}function pa(e,t){return function(){this.setAttribute(e,t)}}function da(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function _a(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function ma(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function ga(e,t){var n=Ct(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?ha:ca:typeof t=="function"?n.local?ma:_a:n.local?da:pa)(n,t))}function qr(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ya(e){return function(){this.style.removeProperty(e)}}function wa(e,t,n){return function(){this.style.setProperty(e,t,n)}}function va(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function ba(e,t,n){return arguments.length>1?this.each((t==null?ya:typeof t=="function"?va:wa)(e,t,n??"")):Fe(this.node(),e)}function Fe(e,t){return e.style.getPropertyValue(t)||qr(e).getComputedStyle(e,null).getPropertyValue(t)}function ka(e){return function(){delete this[e]}}function Aa(e,t){return function(){this[e]=t}}function Ca(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function $a(e,t){return arguments.length>1?this.each((t==null?ka:typeof t=="function"?Ca:Aa)(e,t)):this.node()[e]}function zr(e){return e.trim().split(/^|\s+/)}function Qt(e){return e.classList||new Or(e)}function Or(e){this._node=e,this._names=zr(e.getAttribute("class")||"")}Or.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Hr(e,t){for(var n=Qt(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Br(e,t){for(var n=Qt(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Na(e){return function(){Hr(this,e)}}function La(e){return function(){Br(this,e)}}function Pa(e,t){return function(){(t.apply(this,arguments)?Hr:Br)(this,e)}}function Ma(e,t){var n=zr(e+"");if(arguments.length<2){for(var r=Qt(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Pa:t?Na:La)(n,t))}function Ea(){this.textContent=""}function Da(e){return function(){this.textContent=e}}function Sa(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Ra(e){return arguments.length?this.each(e==null?Ea:(typeof e=="function"?Sa:Da)(e)):this.node().textContent}function Xa(){this.innerHTML=""}function Ta(e){return function(){this.innerHTML=e}}function Ia(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Ua(e){return arguments.length?this.each(e==null?Xa:(typeof e=="function"?Ia:Ta)(e)):this.node().innerHTML}function Fa(){this.nextSibling&&this.parentNode.appendChild(this)}function qa(){return this.each(Fa)}function za(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Oa(){return this.each(za)}function Ha(e){var t=typeof e=="function"?e:Rr(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Ba(){return null}function Ya(e,t){var n=typeof e=="function"?e:Rr(e),r=t==null?Ba:typeof t=="function"?t:Wt(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Va(){var e=this.parentNode;e&&e.removeChild(this)}function Wa(){return this.each(Va)}function Qa(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ga(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ka(e){return this.select(e?Ga:Qa)}function Ja(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Za(e){return function(t){e.call(this,t,this.__data__)}}function xa(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function ja(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,a;n<i;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function eo(e,t,n){return function(){var r=this.__on,i,a=Za(t);if(r){for(var o=0,f=r.length;o<f;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=t;return}}this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(i):this.__on=[i]}}function to(e,t,n){var r=xa(e+""),i,a=r.length,o;if(arguments.length<2){var f=this.node().__on;if(f){for(var u=0,c=f.length,h;u<c;++u)for(i=0,h=f[u];i<a;++i)if((o=r[i]).type===h.type&&o.name===h.name)return h.value}return}for(f=t?eo:ja,i=0;i<a;++i)this.each(f(r[i],t,n));return this}function Yr(e,t,n){var r=qr(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function no(e,t){return function(){return Yr(this,e,t)}}function ro(e,t){return function(){return Yr(this,e,t.apply(this,arguments))}}function io(e,t){return this.each((typeof t=="function"?ro:no)(e,t))}function*ao(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var Gt=[null];function ie(e,t){this._groups=e,this._parents=t}function tt(){return new ie([[document.documentElement]],Gt)}function oo(){return this}ie.prototype=tt.prototype={constructor:ie,select:Ri,selectAll:Ii,selectChild:zi,selectChildren:Yi,filter:Vi,data:Zi,enter:Wi,exit:ji,join:ea,merge:ta,selection:oo,order:na,sort:ra,call:aa,nodes:oa,node:la,size:sa,empty:fa,each:ua,attr:ga,style:ba,property:$a,classed:Ma,text:Ra,html:Ua,raise:qa,lower:Oa,append:Ha,insert:Ya,remove:Wa,clone:Ka,datum:Ja,on:to,dispatch:io,[Symbol.iterator]:ao};function Z(e){return typeof e=="string"?new ie([[document.querySelector(e)]],[document.documentElement]):new ie([[e]],Gt)}function Ne(e){return typeof e=="string"?new ie([document.querySelectorAll(e)],[document.documentElement]):new ie([Xr(e)],Gt)}function Kt(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Vr(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function nt(){}var Ge=.7,gt=1/Ge,Ue="\\s*([+-]?\\d+)\\s*",Ke="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",de="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lo=/^#([0-9a-f]{3,8})$/,so=new RegExp(`^rgb\\(${Ue},${Ue},${Ue}\\)$`),fo=new RegExp(`^rgb\\(${de},${de},${de}\\)$`),uo=new RegExp(`^rgba\\(${Ue},${Ue},${Ue},${Ke}\\)$`),co=new RegExp(`^rgba\\(${de},${de},${de},${Ke}\\)$`),ho=new RegExp(`^hsl\\(${Ke},${de},${de}\\)$`),po=new RegExp(`^hsla\\(${Ke},${de},${de},${Ke}\\)$`),dn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Kt(nt,Je,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:_n,formatHex:_n,formatHex8:_o,formatHsl:mo,formatRgb:mn,toString:mn});function _n(){return this.rgb().formatHex()}function _o(){return this.rgb().formatHex8()}function mo(){return Wr(this).formatHsl()}function mn(){return this.rgb().formatRgb()}function Je(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=lo.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?gn(t):n===3?new ae(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?lt(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?lt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=so.exec(e))?new ae(t[1],t[2],t[3],1):(t=fo.exec(e))?new ae(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=uo.exec(e))?lt(t[1],t[2],t[3],t[4]):(t=co.exec(e))?lt(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ho.exec(e))?vn(t[1],t[2]/100,t[3]/100,1):(t=po.exec(e))?vn(t[1],t[2]/100,t[3]/100,t[4]):dn.hasOwnProperty(e)?gn(dn[e]):e==="transparent"?new ae(NaN,NaN,NaN,0):null}function gn(e){return new ae(e>>16&255,e>>8&255,e&255,1)}function lt(e,t,n,r){return r<=0&&(e=t=n=NaN),new ae(e,t,n,r)}function go(e){return e instanceof nt||(e=Je(e)),e?(e=e.rgb(),new ae(e.r,e.g,e.b,e.opacity)):new ae}function qt(e,t,n,r){return arguments.length===1?go(e):new ae(e,t,n,r??1)}function ae(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Kt(ae,qt,Vr(nt,{brighter(e){return e=e==null?gt:Math.pow(gt,e),new ae(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ge:Math.pow(Ge,e),new ae(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ae(Me(this.r),Me(this.g),Me(this.b),yt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yn,formatHex:yn,formatHex8:yo,formatRgb:wn,toString:wn}));function yn(){return`#${Pe(this.r)}${Pe(this.g)}${Pe(this.b)}`}function yo(){return`#${Pe(this.r)}${Pe(this.g)}${Pe(this.b)}${Pe((isNaN(this.opacity)?1:this.opacity)*255)}`}function wn(){const e=yt(this.opacity);return`${e===1?"rgb(":"rgba("}${Me(this.r)}, ${Me(this.g)}, ${Me(this.b)}${e===1?")":`, ${e})`}`}function yt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Me(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Pe(e){return e=Me(e),(e<16?"0":"")+e.toString(16)}function vn(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ue(e,t,n,r)}function Wr(e){if(e instanceof ue)return new ue(e.h,e.s,e.l,e.opacity);if(e instanceof nt||(e=Je(e)),!e)return new ue;if(e instanceof ue)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,f=a-i,u=(a+i)/2;return f?(t===a?o=(n-r)/f+(n<r)*6:n===a?o=(r-t)/f+2:o=(t-n)/f+4,f/=u<.5?a+i:2-a-i,o*=60):f=u>0&&u<1?0:o,new ue(o,f,u,e.opacity)}function wo(e,t,n,r){return arguments.length===1?Wr(e):new ue(e,t,n,r??1)}function ue(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Kt(ue,wo,Vr(nt,{brighter(e){return e=e==null?gt:Math.pow(gt,e),new ue(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ge:Math.pow(Ge,e),new ue(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ae(St(e>=240?e-240:e+120,i,r),St(e,i,r),St(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ue(bn(this.h),st(this.s),st(this.l),yt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=yt(this.opacity);return`${e===1?"hsl(":"hsla("}${bn(this.h)}, ${st(this.s)*100}%, ${st(this.l)*100}%${e===1?")":`, ${e})`}`}}));function bn(e){return e=(e||0)%360,e<0?e+360:e}function st(e){return Math.max(0,Math.min(1,e||0))}function St(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Qr=e=>()=>e;function vo(e,t){return function(n){return e+n*t}}function bo(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function ko(e){return(e=+e)==1?Gr:function(t,n){return n-t?bo(t,n,e):Qr(isNaN(t)?n:t)}}function Gr(e,t){var n=t-e;return n?vo(e,n):Qr(isNaN(e)?t:e)}const kn=function e(t){var n=ko(t);function r(i,a){var o=n((i=qt(i)).r,(a=qt(a)).r),f=n(i.g,a.g),u=n(i.b,a.b),c=Gr(i.opacity,a.opacity);return function(h){return i.r=o(h),i.g=f(h),i.b=u(h),i.opacity=c(h),i+""}}return r.gamma=e,r}(1);function ve(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var zt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rt=new RegExp(zt.source,"g");function Ao(e){return function(){return e}}function Co(e){return function(t){return e(t)+""}}function $o(e,t){var n=zt.lastIndex=Rt.lastIndex=0,r,i,a,o=-1,f=[],u=[];for(e=e+"",t=t+"";(r=zt.exec(e))&&(i=Rt.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),f[o]?f[o]+=a:f[++o]=a),(r=r[0])===(i=i[0])?f[o]?f[o]+=i:f[++o]=i:(f[++o]=null,u.push({i:o,x:ve(r,i)})),n=Rt.lastIndex;return n<t.length&&(a=t.slice(n),f[o]?f[o]+=a:f[++o]=a),f.length<2?u[0]?Co(u[0].x):Ao(t):(t=u.length,function(c){for(var h=0,p;h<t;++h)f[(p=u[h]).i]=p.x(c);return f.join("")})}var An=180/Math.PI,Ot={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Kr(e,t,n,r,i,a){var o,f,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(f=Math.sqrt(n*n+r*r))&&(n/=f,r/=f,u/=f),e*r<t*n&&(e=-e,t=-t,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*An,skewX:Math.atan(u)*An,scaleX:o,scaleY:f}}var ft;function No(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ot:Kr(t.a,t.b,t.c,t.d,t.e,t.f)}function Lo(e){return e==null||(ft||(ft=document.createElementNS("http://www.w3.org/2000/svg","g")),ft.setAttribute("transform",e),!(e=ft.transform.baseVal.consolidate()))?Ot:(e=e.matrix,Kr(e.a,e.b,e.c,e.d,e.e,e.f))}function Jr(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function a(c,h,p,g,w,C){if(c!==p||h!==g){var b=w.push("translate(",null,t,null,n);C.push({i:b-4,x:ve(c,p)},{i:b-2,x:ve(h,g)})}else(p||g)&&w.push("translate("+p+t+g+n)}function o(c,h,p,g){c!==h?(c-h>180?h+=360:h-c>180&&(c+=360),g.push({i:p.push(i(p)+"rotate(",null,r)-2,x:ve(c,h)})):h&&p.push(i(p)+"rotate("+h+r)}function f(c,h,p,g){c!==h?g.push({i:p.push(i(p)+"skewX(",null,r)-2,x:ve(c,h)}):h&&p.push(i(p)+"skewX("+h+r)}function u(c,h,p,g,w,C){if(c!==p||h!==g){var b=w.push(i(w)+"scale(",null,",",null,")");C.push({i:b-4,x:ve(c,p)},{i:b-2,x:ve(h,g)})}else(p!==1||g!==1)&&w.push(i(w)+"scale("+p+","+g+")")}return function(c,h){var p=[],g=[];return c=e(c),h=e(h),a(c.translateX,c.translateY,h.translateX,h.translateY,p,g),o(c.rotate,h.rotate,p,g),f(c.skewX,h.skewX,p,g),u(c.scaleX,c.scaleY,h.scaleX,h.scaleY,p,g),c=h=null,function(w){for(var C=-1,b=g.length,v;++C<b;)p[(v=g[C]).i]=v.x(w);return p.join("")}}}var Po=Jr(No,"px, ","px)","deg)"),Mo=Jr(Lo,", ",")",")"),qe=0,Oe=0,ze=0,Zr=1e3,wt,He,vt=0,De=0,$t=0,Ze=typeof performance=="object"&&performance.now?performance:Date,xr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Jt(){return De||(xr(Eo),De=Ze.now()+$t)}function Eo(){De=0}function bt(){this._call=this._time=this._next=null}bt.prototype=jr.prototype={constructor:bt,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Jt():+n)+(t==null?0:+t),!this._next&&He!==this&&(He?He._next=this:wt=this,He=this),this._call=e,this._time=n,Ht()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ht())}};function jr(e,t,n){var r=new bt;return r.restart(e,t,n),r}function Do(){Jt(),++qe;for(var e=wt,t;e;)(t=De-e._time)>=0&&e._call.call(void 0,t),e=e._next;--qe}function Cn(){De=(vt=Ze.now())+$t,qe=Oe=0;try{Do()}finally{qe=0,Ro(),De=0}}function So(){var e=Ze.now(),t=e-vt;t>Zr&&($t-=t,vt=e)}function Ro(){for(var e,t=wt,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:wt=n);He=e,Ht(r)}function Ht(e){if(!qe){Oe&&(Oe=clearTimeout(Oe));var t=e-De;t>24?(e<1/0&&(Oe=setTimeout(Cn,e-Ze.now()-$t)),ze&&(ze=clearInterval(ze))):(ze||(vt=Ze.now(),ze=setInterval(So,Zr)),qe=1,xr(Cn))}}function $n(e,t,n){var r=new bt;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Xo=Sr("start","end","cancel","interrupt"),To=[],ei=0,Nn=1,Bt=2,pt=3,Ln=4,Yt=5,dt=6;function Nt(e,t,n,r,i,a){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;Io(e,n,{name:t,index:r,group:i,on:Xo,tween:To,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:ei})}function Zt(e,t){var n=ce(e,t);if(n.state>ei)throw new Error("too late; already scheduled");return n}function _e(e,t){var n=ce(e,t);if(n.state>pt)throw new Error("too late; already running");return n}function ce(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Io(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=jr(a,0,n.time);function a(c){n.state=Nn,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var h,p,g,w;if(n.state!==Nn)return u();for(h in r)if(w=r[h],w.name===n.name){if(w.state===pt)return $n(o);w.state===Ln?(w.state=dt,w.timer.stop(),w.on.call("interrupt",e,e.__data__,w.index,w.group),delete r[h]):+h<t&&(w.state=dt,w.timer.stop(),w.on.call("cancel",e,e.__data__,w.index,w.group),delete r[h])}if($n(function(){n.state===pt&&(n.state=Ln,n.timer.restart(f,n.delay,n.time),f(c))}),n.state=Bt,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Bt){for(n.state=pt,i=new Array(g=n.tween.length),h=0,p=-1;h<g;++h)(w=n.tween[h].value.call(e,e.__data__,n.index,n.group))&&(i[++p]=w);i.length=p+1}}function f(c){for(var h=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(u),n.state=Yt,1),p=-1,g=i.length;++p<g;)i[p].call(e,h);n.state===Yt&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=dt,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function Uo(e,t){var n=e.__transition,r,i,a=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){a=!1;continue}i=r.state>Bt&&r.state<Yt,r.state=dt,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}a&&delete e.__transition}}function Fo(e){return this.each(function(){Uo(this,e)})}function qo(e,t){var n,r;return function(){var i=_e(this,e),a=i.tween;if(a!==n){r=n=a;for(var o=0,f=r.length;o<f;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function zo(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=_e(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var f={name:t,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===t){i[u]=f;break}u===c&&i.push(f)}a.tween=i}}function Oo(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=ce(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?qo:zo)(n,e,t))}function xt(e,t,n){var r=e._id;return e.each(function(){var i=_e(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return ce(i,r).value[t]}}function ti(e,t){var n;return(typeof t=="number"?ve:t instanceof Je?kn:(n=Je(t))?(t=n,kn):$o)(e,t)}function Ho(e){return function(){this.removeAttribute(e)}}function Bo(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Yo(e,t,n){var r,i=n+"",a;return function(){var o=this.getAttribute(e);return o===i?null:o===r?a:a=t(r=o,n)}}function Vo(e,t,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?a:a=t(r=o,n)}}function Wo(e,t,n){var r,i,a;return function(){var o,f=n(this),u;return f==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=f+"",o===u?null:o===r&&u===i?a:(i=u,a=t(r=o,f)))}}function Qo(e,t,n){var r,i,a;return function(){var o,f=n(this),u;return f==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=f+"",o===u?null:o===r&&u===i?a:(i=u,a=t(r=o,f)))}}function Go(e,t){var n=Ct(e),r=n==="transform"?Mo:ti;return this.attrTween(e,typeof t=="function"?(n.local?Qo:Wo)(n,r,xt(this,"attr."+e,t)):t==null?(n.local?Bo:Ho)(n):(n.local?Vo:Yo)(n,r,t))}function Ko(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Jo(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Zo(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&Jo(e,a)),n}return i._value=t,i}function xo(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&Ko(e,a)),n}return i._value=t,i}function jo(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Ct(e);return this.tween(n,(r.local?Zo:xo)(r,t))}function el(e,t){return function(){Zt(this,e).delay=+t.apply(this,arguments)}}function tl(e,t){return t=+t,function(){Zt(this,e).delay=t}}function nl(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?el:tl)(t,e)):ce(this.node(),t).delay}function rl(e,t){return function(){_e(this,e).duration=+t.apply(this,arguments)}}function il(e,t){return t=+t,function(){_e(this,e).duration=t}}function al(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?rl:il)(t,e)):ce(this.node(),t).duration}function ol(e,t){if(typeof t!="function")throw new Error;return function(){_e(this,e).ease=t}}function ll(e){var t=this._id;return arguments.length?this.each(ol(t,e)):ce(this.node(),t).ease}function sl(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;_e(this,e).ease=n}}function fl(e){if(typeof e!="function")throw new Error;return this.each(sl(this._id,e))}function ul(e){typeof e!="function"&&(e=Ir(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,f=r[i]=[],u,c=0;c<o;++c)(u=a[c])&&e.call(u,u.__data__,c,a)&&f.push(u);return new ye(r,this._parents,this._name,this._id)}function cl(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),f=0;f<a;++f)for(var u=t[f],c=n[f],h=u.length,p=o[f]=new Array(h),g,w=0;w<h;++w)(g=u[w]||c[w])&&(p[w]=g);for(;f<r;++f)o[f]=t[f];return new ye(o,this._parents,this._name,this._id)}function hl(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function pl(e,t,n){var r,i,a=hl(t)?Zt:_e;return function(){var o=a(this,e),f=o.on;f!==r&&(i=(r=f).copy()).on(t,n),o.on=i}}function dl(e,t){var n=this._id;return arguments.length<2?ce(this.node(),n).on.on(e):this.each(pl(n,e,t))}function _l(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function ml(){return this.on("end.remove",_l(this._id))}function gl(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Wt(e));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var f=r[o],u=f.length,c=a[o]=new Array(u),h,p,g=0;g<u;++g)(h=f[g])&&(p=e.call(h,h.__data__,g,f))&&("__data__"in h&&(p.__data__=h.__data__),c[g]=p,Nt(c[g],t,n,g,c,ce(h,n)));return new ye(a,this._parents,t,n)}function yl(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Tr(e));for(var r=this._groups,i=r.length,a=[],o=[],f=0;f<i;++f)for(var u=r[f],c=u.length,h,p=0;p<c;++p)if(h=u[p]){for(var g=e.call(h,h.__data__,p,u),w,C=ce(h,n),b=0,v=g.length;b<v;++b)(w=g[b])&&Nt(w,t,n,b,g,C);a.push(g),o.push(h)}return new ye(a,o,t,n)}var wl=tt.prototype.constructor;function vl(){return new wl(this._groups,this._parents)}function bl(e,t){var n,r,i;return function(){var a=Fe(this,e),o=(this.style.removeProperty(e),Fe(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}function ni(e){return function(){this.style.removeProperty(e)}}function kl(e,t,n){var r,i=n+"",a;return function(){var o=Fe(this,e);return o===i?null:o===r?a:a=t(r=o,n)}}function Al(e,t,n){var r,i,a;return function(){var o=Fe(this,e),f=n(this),u=f+"";return f==null&&(u=f=(this.style.removeProperty(e),Fe(this,e))),o===u?null:o===r&&u===i?a:(i=u,a=t(r=o,f))}}function Cl(e,t){var n,r,i,a="style."+t,o="end."+a,f;return function(){var u=_e(this,e),c=u.on,h=u.value[a]==null?f||(f=ni(t)):void 0;(c!==n||i!==h)&&(r=(n=c).copy()).on(o,i=h),u.on=r}}function $l(e,t,n){var r=(e+="")=="transform"?Po:ti;return t==null?this.styleTween(e,bl(e,r)).on("end.style."+e,ni(e)):typeof t=="function"?this.styleTween(e,Al(e,r,xt(this,"style."+e,t))).each(Cl(this._id,e)):this.styleTween(e,kl(e,r,t),n).on("end.style."+e,null)}function Nl(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Ll(e,t,n){var r,i;function a(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&Nl(e,o,n)),r}return a._value=t,a}function Pl(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Ll(e,t,n??""))}function Ml(e){return function(){this.textContent=e}}function El(e){return function(){var t=e(this);this.textContent=t??""}}function Dl(e){return this.tween("text",typeof e=="function"?El(xt(this,"text",e)):Ml(e==null?"":e+""))}function Sl(e){return function(t){this.textContent=e.call(this,t)}}function Rl(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Sl(i)),t}return r._value=e,r}function Xl(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Rl(e))}function Tl(){for(var e=this._name,t=this._id,n=ri(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],f=o.length,u,c=0;c<f;++c)if(u=o[c]){var h=ce(u,t);Nt(u,e,n,c,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new ye(r,this._parents,e,n)}function Il(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var f={value:o},u={value:function(){--i===0&&a()}};n.each(function(){var c=_e(this,r),h=c.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(f),t._.interrupt.push(f),t._.end.push(u)),c.on=t}),i===0&&a()})}var Ul=0;function ye(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function ri(){return++Ul}var me=tt.prototype;ye.prototype={constructor:ye,select:gl,selectAll:yl,selectChild:me.selectChild,selectChildren:me.selectChildren,filter:ul,merge:cl,selection:vl,transition:Tl,call:me.call,nodes:me.nodes,node:me.node,size:me.size,empty:me.empty,each:me.each,on:dl,attr:Go,attrTween:jo,style:$l,styleTween:Pl,text:Dl,textTween:Xl,remove:ml,tween:Oo,delay:nl,duration:al,ease:ll,easeVarying:fl,end:Il,[Symbol.iterator]:me[Symbol.iterator]};function Fl(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var ql={time:null,delay:0,duration:250,ease:Fl};function zl(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Ol(e){var t,n;e instanceof ye?(t=e._id,e=e._name):(t=ri(),(n=ql).time=Jt(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],f=o.length,u,c=0;c<f;++c)(u=o[c])&&Nt(u,e,t,c,o,n||zl(u,t));return new ye(r,this._parents,e,t)}tt.prototype.interrupt=Fo;tt.prototype.transition=Ol;function Hl(e,t){return e.parent===t.parent?1:2}function Bl(e){return e.reduce(Yl,0)/e.length}function Yl(e,t){return e+t.x}function Vl(e){return 1+e.reduce(Wl,0)}function Wl(e,t){return Math.max(e,t.y)}function Ql(e){for(var t;t=e.children;)e=t[0];return e}function Gl(e){for(var t;t=e.children;)e=t[t.length-1];return e}function Pn(){var e=Hl,t=1,n=1,r=!1;function i(a){var o,f=0;a.eachAfter(function(g){var w=g.children;w?(g.x=Bl(w),g.y=Vl(w)):(g.x=o?f+=e(g,o):0,g.y=0,o=g)});var u=Ql(a),c=Gl(a),h=u.x-e(u,c)/2,p=c.x+e(c,u)/2;return a.eachAfter(r?function(g){g.x=(g.x-a.x)*t,g.y=(a.y-g.y)*n}:function(g){g.x=(g.x-h)/(p-h)*t,g.y=(1-(a.y?g.y/a.y:1))*n})}return i.separation=function(a){return arguments.length?(e=a,i):e},i.size=function(a){return arguments.length?(r=!1,t=+a[0],n=+a[1],i):r?null:[t,n]},i.nodeSize=function(a){return arguments.length?(r=!0,t=+a[0],n=+a[1],i):r?[t,n]:null},i}function Kl(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function Jl(){return this.eachAfter(Kl)}function Zl(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function xl(e,t){for(var n=this,r=[n],i,a,o=-1;n=r.pop();)if(e.call(t,n,++o,this),i=n.children)for(a=i.length-1;a>=0;--a)r.push(i[a]);return this}function jl(e,t){for(var n=this,r=[n],i=[],a,o,f,u=-1;n=r.pop();)if(i.push(n),a=n.children)for(o=0,f=a.length;o<f;++o)r.push(a[o]);for(;n=i.pop();)e.call(t,n,++u,this);return this}function es(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function ts(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function ns(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function rs(e){for(var t=this,n=is(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function is(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function as(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function os(){return Array.from(this)}function ls(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function ss(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*fs(){var e=this,t,n=[e],r,i,a;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,a=r.length;i<a;++i)n.push(r[i]);while(n.length)}function Qe(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=hs)):t===void 0&&(t=cs);for(var n=new kt(e),r,i=[n],a,o,f,u;r=i.pop();)if((o=t(r.data))&&(u=(o=Array.from(o)).length))for(r.children=o,f=u-1;f>=0;--f)i.push(a=o[f]=new kt(o[f])),a.parent=r,a.depth=r.depth+1;return n.eachBefore(ds)}function us(){return Qe(this).eachBefore(ps)}function cs(e){return e.children}function hs(e){return Array.isArray(e)?e[1]:null}function ps(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function ds(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function kt(e){this.data=e,this.depth=this.height=0,this.parent=null}kt.prototype=Qe.prototype={constructor:kt,count:Jl,each:Zl,eachAfter:jl,eachBefore:xl,find:es,sum:ts,sort:ns,path:rs,ancestors:as,descendants:os,leaves:ls,links:ss,copy:us,[Symbol.iterator]:fs};function Be(e,t,n){this.k=e,this.x=t,this.y=n}Be.prototype={constructor:Be,scale:function(e){return e===1?this:new Be(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Be(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Be.prototype;let _s={name:"Collect",step:0,branch_type:"trunk",ppl:1,time:20,type:"pax_collect",children:[{name:"Translate",step:1,branch_type:"trunk",ppl:25,time:10,type:"pax_translate",children:[{name:"Transcribe",step:2,branch_type:"trunk",ppl:1,time:40,type:"pax_transcribe",children:[{name:"Code",step:3,branch_type:"trunk",ppl:40,time:100,type:"pax_code",link:"https://pax.peaceagreements.org/media/documents/PA_X_codebook_v8.pdf",children:[{name:"Quality Control",step:4,branch_type:"trunk",ppl:7,time:20,type:"pax_quality_control",children:[{name:"PA-X",step:5,branch_type:"trunk",ppl:3,time:100,type:"pax_db",link:"https://pax.peaceagreements.org/agreements/search/",children:[{name:"Research",step:9,branch_type:"uppest_trunk",ppl:50,time:100,type:"research",children:[{name:"paper",step:10,branch_type:"leaf",ppl:3,time:10,type:"data_report"},{name:"paper",step:10,branch_type:"leaf",ppl:1,time:10,type:"book"},{name:"paper",step:10,branch_type:"leaf",ppl:1,time:10,type:"journal"},{name:"paper",step:10,branch_type:"leaf",ppl:1,time:10,type:"blog"},{name:"paper",step:10,branch_type:"leaf",ppl:1,time:10,type:"conference"}]},{name:"Code",step:6,branch_type:"upper_trunk",ppl:13,time:50,type:"pax_gender_code",link:"https://pax.peaceagreements.org/media/documents/PA_X_codebook_wgg_v8.pdf",children:[{name:"Quality Control",step:7,branch_type:"upper_trunk",ppl:7,time:20,type:"pax_gender_quality_control",children:[{name:"PA-X Gender",step:8,branch_type:"upper_trunk",ppl:3,time:10,type:"pax_gender_db",link:"https://pax.peaceagreements.org/agreements/wggsearch/",children:[{name:"App Development",step:11,branch_type:"uppest_trunk",ppl:2,time:10,type:"prog",children:[{name:"PeaceFem",step:12,branch_type:"leaf",ppl:4,time:2,type:"app",link:"https://peacerep.org/digital-resources/peacefem/"}]},{name:"d3",step:11,branch_type:"uppest_trunk",ppl:1,time:3,type:"prog",link:"https://github.com/tvancisin/pax_gender",children:[{name:"Scrollytelling",step:12,branch_type:"leaf",ppl:4,time:"2",type:"vis",link:"https://tvancisin.github.io/pax_gender/"}]}]}]}]},{name:"Code",step:6,branch_type:"upper_trunk",ppl:2,time:100,type:"pax_children_code",children:[{name:"Quality Control",step:7,branch_type:"upper_trunk",ppl:7,time:20,type:"pax_children_quality_control",children:[{name:"Children & Youth",step:8,branch_type:"upper_trunk",ppl:3,time:10,type:"pax_children_db",children:[{name:"PBi Youth Development",step:11,branch_type:"uppest_trunk",ppl:1,time:10,type:"prog",children:[{name:"PBi Youth",step:12,branch_type:"leaf",ppl:1,time:1,type:"vis"}]}]}]}]},{name:"Code",step:6,branch_type:"upper_trunk",ppl:10,time:100,type:"pax_local_code",children:[{name:"Quality Control",step:7,branch_type:"upper_trunk",ppl:7,time:20,type:"pax_local_quality_control",children:[{name:"PA-X Local",step:8,branch_type:"upper_trunk",ppl:3,time:10,type:"pax_local_db",children:[{name:"d3 local",step:11,branch_type:"uppest_trunk",ppl:1,time:50,type:"prog",children:[{name:"Map",step:12,branch_type:"leaf",ppl:1,time:10,type:"vis",link:"https://www.peaceagreements.org/visualizations/local-agreements/"}]}]}]}]},{name:"Code",step:6,branch_type:"upper_trunk",ppl:2,time:100,type:"paax_code",children:[{name:"Quality Control",step:7,branch_type:"upper_trunk",ppl:2,time:20,type:"paax_quality_control",children:[{name:"PAA-X",step:8,branch_type:"upper_trunk",ppl:1,time:10,type:"paax_db",children:[{name:"VUE",step:11,branch_type:"uppest_trunk",ppl:1,time:50,type:"prog",children:[{name:"Actors-Network",step:12,branch_type:"leaf",ppl:1,time:10,type:"vis",link:"https://www.peaceagreements.org/visualizations/actor-networks/"}]},{name:"d3",step:11,branch_type:"uppest_trunk",ppl:1,time:50,type:"prog",children:[{name:"3rd Party Scroll",step:12,branch_type:"leaf",ppl:3,time:10,type:"vis",link:"https://www.peaceagreements.org/visualizations/third-party-scroll/"}]},{name:"Python",step:11,branch_type:"uppest_trunk",ppl:1,time:50,type:"prog",children:[{name:"Network",step:12,branch_type:"leaf",ppl:1,time:10,type:"vis"}]},{name:"Tracker Development",step:11,branch_type:"uppest_trunk",ppl:1,time:50,type:"prog",children:[{name:"Tracker",step:12,branch_type:"leaf",ppl:3,time:50,type:"vis",link:"https://www.peaceagreements.org/tracker/"}]}]}]}]},{name:"d3",step:13,branch_type:"uppest_trunk",ppl:3,time:50,type:"prog",children:[{name:"Messy Timeline",step:14,branch_type:"leaf",ppl:3,time:10,type:"vis",link:"https://www.peaceagreements.org/visualizations/messy-peace-processes/"}]},{name:"d3",step:13,branch_type:"uppest_trunk",ppl:5,time:50,type:"prog",children:[{name:"Time & Space",step:14,branch_type:"leaf",ppl:5,time:10,type:"vis",link:"http://peaceagreements.org/visualizations/agreements-process-map/"}]},{name:"d3",step:13,branch_type:"uppest_trunk",ppl:1,time:50,type:"prog",children:[{name:"Sequence Comparison",step:14,branch_type:"leaf",ppl:1,time:50,type:"vis",link:"https://www.peaceagreements.org/visualizations/compare-processes/"}]},{name:"d3",step:13,branch_type:"uppest_trunk",ppl:2,time:50,type:"prog_overview",children:[{name:"Data Overview",step:14,branch_type:"leaf",ppl:2,time:50,type:"vis",link:"https://www.peaceagreements.org/visualizations/data-overview-visualization/"}]},{name:"Infographics",step:15,branch_type:"leaf",ppl:3,time:10,type:"pdf",link:""}]}]}]}]}]}],downward:[...Array.from({length:20},()=>({name:"agreement",number:721,continent:"Africa",children:[{name:"negotiation",children:[{name:"conflict"}]}]})),...Array.from({length:12},()=>({name:"agreement",number:435,continent:"Europe_Eurasia",children:[{name:"negotiation",children:[{name:"conflict"}]}]})),...Array.from({length:12},()=>({name:"agreement",number:425,continent:"Asia",children:[{name:"negotiation",children:[{name:"conflict"}]}]})),...Array.from({length:8},()=>({name:"agreement",number:295,continent:"Middle_East",children:[{name:"negotiation",children:[{name:"conflict"}]}]})),...Array.from({length:7},()=>({name:"agreement",number:263,continent:"Americas",children:[{name:"negotiation",children:[{name:"conflict"}]}]})),{name:"agreement",number:38,continent:"Cross",children:[{name:"negotiation",children:[{name:"conflict"}]}]}],ucdp:[...Array.from({length:20},()=>({name:"conflict",number:721,continent:"Africa"})),...Array.from({length:12},()=>({name:"conflict",number:435,continent:"Europe_Eurasia"})),...Array.from({length:12},()=>({name:"conflict",number:425,continent:"Asia"})),...Array.from({length:8},()=>({name:"conflict",number:295,continent:"Middle_East"})),...Array.from({length:7},()=>({name:"conflict",number:263,continent:"Americas"})),{name:"conflict",number:38,continent:"Cross"}]},j={workflow:[{step_id:"1",type:"conflicts",description:`First real life events captured in some way by the PA-X Database are 
        armed conflicts. As you can see, there is a different number of conflicts 
        (and the subsequent peace processes) taking place in different parts of the world.`},{step_id:"2",type:"negotiations",description:`Peace negotiations are formal attempts to bring political and/or military 
        protagonists of conflict to a mutual agreement. However, not all conflicts 
        lead to negotiations, and not all negotiations lead to agreements.`},{step_id:"3",type:"peace_agreements",description:`If peace negotiations lead to a signed peace agreement, PA-X collects it if 
        it meets the following criteria: formal, signed, written, publicly available, 
        addressing conflicts with more than 25 conflict related deaths in a year.`},{step_id:"4",type:"translation",description:`Peace agreements are often written in local languages and in these cases, 
        the documents are translated into English by domain and language experts.`},{step_id:"5",type:"transcription",description:`The agreements come in various formats (PDF, Word, Images) and 
        the text therefore often needs to be transcribed into plain text.`},{step_id:"6",type:"pax_coding",description:`The plain text of the agreement then gets tagged into topics covered within. 
        These include categories like Socio-economic Development, Political or Military 
        Powersharing, Gender etc.`},{step_id:"7",type:"pax_quality_control",description:`The tagged text goes through quality control to ensure 
        the coding is consistent with defintions of the topics across versions.`},{step_id:"8",type:"pax_database",description:`Once the data is approved and quality checks are resolved, the data is published 
        in the database. On average, 50 new agreements are added annually.`},{step_id:"9",type:"research/further_coding/d3_programming/tracker_visualization/infographics",description:`Agreements that include references to gender, local conflict, children & youth, 
        or third parties, are further coded in more depth.`},{step_id:"10",type:"sub-database quality control",description:`To ensure coding consistency and 
      reliability, the sub-theme tagging undergoes further quality control.`},{step_id:"11",type:"sub_databases",description:`As in the case of the main PA-X database, once the data is approved, it is 
        published in PA-X Gender, PA-X Local, PA-X Children & Youth, 
        and PAA-X Third Parties databases.`},{step_id:"12",type:"research",description:`Information gathered in the core PA-X database and sub-databases, coupled
      by the ability to query this information in novel and very flexible ways, 
      subsequently inform peacebuilding research.`},{step_id:"13",type:"publications",description:`There are 5 types of publication outcomes that stem from this research: 
        <strong>academic papers, books, journal articles, blogs, and conference publications</strong>.`},{step_id:"14",type:"development",description:`The machine-processable form of the information gathered in the sub-databases
        also gives rise to the development of various visualizations and digital resources (PeaceTech).`},{step_id:"15",type:"visualizations + app",description:`Interactive web-based visualizations and mobile apps allow to study peace processes 
        in novel ways and to communicate research findings in more engaging and accessible formats.`},{step_id:"16",type:"pax vis development",description:`As in the case of the sub-databases, the core PA-X database with machine-processable 
        information and flexible querying capabilities enables the development of PeaceTech tools.`},{step_id:"17",type:"pax vis",description:`These include Messy Timeline or Data Overview visualizations that provide entirely 
        new perspectives on peace processes across the world.`},{step_id:"18",type:"infographics",description:`PA-X is also used for the development of static infographics that provide easy entry 
        points to the data and research findings and all these PeaceTech tools are then used 
        to inform research into peacemaking.`},{step_id:"19",type:"ucdp/acled",description:`What's important to emphasize is that the PA-X database is also used in conjunction 
        with UCDP and ACLED data to provide a more complete picture of conflict and peace processes.`}]},At=JSON.parse(JSON.stringify(_s)),ms=0;function jt(e){e.id=`node-${ms++}`,e.children&&e.children.forEach(jt)}jt(At);At.downward&&At.downward.forEach(jt);const Xt=At;function ge(e,t,n=[],r=20){if(!t.length)return"";const i=[...t].sort((f,u)=>f.x-u.x);let a=`M${i[0].x},${e-i[0].y}`;for(let f=0;f<i.length-1;f++){const u=i[f],c=i[f+1],h=1;if(n.filter(g=>g.x>u.x&&g.x<c.x&&Math.abs(g.y-u.y)<=h).length){const g=(u.x+c.x)/2,w=1,C=g-u.x,b=r*w;a+=` L${u.x+C},${e-(u.y+b)}`,a+=` L${c.x-C},${e-(c.y+b)}`}a+=` L${c.x},${e-c.y}`}const o=i[i.length-1];return a+=` L${o.x},${e-o.y}`,a}function Mn(e,t,{nodeSpacing:n=10,continentGap:r=80}={}){if(!e.children||e.children.length===0)return;const i=Array.from(Dr(e.children,u=>u.data.continent??"Unknown"),([u,c])=>({continent:u,nodes:c,width:c.length>1?(c.length-1)*n:0})),a=Ni(i,u=>u.width)+r*(i.length-1),o=a>0?t/a:1;let f=0;i.forEach(u=>{const c=(f+u.width/2)*o;u.nodes.forEach((h,p)=>{const g=(p*n-u.width/2)*o,C=c+g-h.x;h.each(b=>{b.x+=C})}),f+=u.width+r})}function gs(e,t,n,r=null){const i=e.descendants(),a=i.find(p=>p.data.name===t),o=i.find(p=>p.data.name===n);if(!a||!o)return;const f=o.x-a.x,u=o.x-f/2;let c=a,h=!1;for(;c&&(c.data.name==="PA-X"&&(h=!0),c.x=h?u-f/1.5:u,!(r&&c.data.name===r));)c=c.parent}function ii(e,t){e.children&&e.children.forEach(n=>{n.y=e.y+t,ii(n,t)})}function En(e,t,n){const r=e.slice();return r[29]=t[n],r}function Dn(e,t,n){const r=e.slice();return r[32]=t[n],r[34]=n,r}function Sn(e,t,n){const r=e.slice();return r[32]=t[n],r}function Rn(e,t,n){const r=e.slice();return r[32]=t[n],r}function Xn(e,t,n){const r=e.slice();return r[32]=t[n],r}function Tn(e,t,n){const r=e.slice();return r[32]=t[n],r}function In(e,t,n){const r=e.slice();return r[32]=t[n],r}function Un(e){let t,n;return{c(){t=T("path"),l(t,"fill","none"),l(t,"class","sub_db_research"),l(t,"stroke","gray"),l(t,"stroke-width","5"),l(t,"stroke-dasharray","10 5"),l(t,"d",n=e[22](e[21],e[19],e[20]))},m(r,i){P(r,t,i)},p(r,i){i[0]&3670016&&n!==(n=r[22](r[21],r[19],r[20]))&&l(t,"d",n)},d(r){r&&L(t)}}}function Fn(e){let t,n;return{c(){t=T("path"),l(t,"fill","none"),l(t,"stroke","gray"),l(t,"class","sub_vis_research"),l(t,"stroke-width","5"),l(t,"stroke-dasharray","10 5"),l(t,"d",n=e[23](e[21],e[17],e[18]))},m(r,i){P(r,t,i)},p(r,i){i[0]&2490368&&n!==(n=r[23](r[21],r[17],r[18]))&&l(t,"d",n)},d(r){r&&L(t)}}}function qn(e){let t,n;return{c(){t=T("path"),l(t,"d",n=`M${e[32].x},${e[5]+e[32].y} 
       C${e[32].x},${e[5]+e[32].parent.y+60} 
        ${e[32].parent.x},${e[5]+e[32].parent.y+70} 
        ${e[32].parent.x},${e[5]+e[32].parent.y}`),l(t,"fill","none"),l(t,"stroke","#404040"),l(t,"stroke-opacity","0.4"),l(t,"class","ucdp_link"),l(t,"stroke-width","1")},m(r,i){P(r,t,i)},p(r,i){i[0]&16416&&n!==(n=`M${r[32].x},${r[5]+r[32].y} 
       C${r[32].x},${r[5]+r[32].parent.y+60} 
        ${r[32].parent.x},${r[5]+r[32].parent.y+70} 
        ${r[32].parent.x},${r[5]+r[32].parent.y}`)&&l(t,"d",n)},d(r){r&&L(t)}}}function zn(e){let t,n=e[4]>=16&&On();return{c(){n&&n.c(),t=Ee()},m(r,i){n&&n.m(r,i),P(r,t,i)},p(r,i){r[4]>=16?n||(n=On(),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){r&&L(t),n&&n.d(r)}}}function On(e){let t,n;return{c(){t=T("text"),n=oe("UCDP/ACLED"),l(t,"x","10"),l(t,"y","0"),l(t,"font-size","10"),l(t,"fill","white"),l(t,"text-anchor","start")},m(r,i){P(r,t,i),z(t,n)},d(r){r&&L(t)}}}function Hn(e){let t,n,r,i,a,o=e[32].data.name=="__ucdp_root__"&&zn(e);return{c(){t=T("g"),n=T("circle"),o&&o.c(),l(n,"cx","0"),l(n,"cy","0"),l(n,"class","ucdp_link"),l(n,"r",r=e[32].data.name=="__ucdp_root__"?7:0),l(n,"fill",i=e[32].data.name=="__ucdp_root__"?"#001C23":"none"),l(n,"stroke","#404040"),l(n,"stroke-width","3"),l(t,"transform",a=`translate(${e[32].x}, ${e[5]+e[32].y})`)},m(f,u){P(f,t,u),z(t,n),o&&o.m(t,null)},p(f,u){u[0]&1&&r!==(r=f[32].data.name=="__ucdp_root__"?7:0)&&l(n,"r",r),u[0]&1&&i!==(i=f[32].data.name=="__ucdp_root__"?"#001C23":"none")&&l(n,"fill",i),f[32].data.name=="__ucdp_root__"?o?o.p(f,u):(o=zn(f),o.c(),o.m(t,null)):o&&(o.d(1),o=null),u[0]&33&&a!==(a=`translate(${f[32].x}, ${f[5]+f[32].y})`)&&l(t,"transform",a)},d(f){f&&L(t),o&&o.d()}}}function Bn(e){let t,n,r,i,a,o,f;function u(){return e[27](e[32])}function c(){return e[28](e[32])}return{c(){t=T("path"),l(t,"d",n=e[32].data.name==="Research"?u():e[32].data.name==="d3"&&e[32].parent.data.name==="PA-X"||e[32].data.name==="Tracker"||e[32].data.name==="Infographics"?c():`M${e[32].x},${e[5]-e[32].y}
                   C${e[32].x},${e[5]-e[32].parent.y-20}
                    ${e[32].parent.x},${e[5]-e[32].parent.y-50}
                    ${e[32].parent.x},${e[5]-e[32].parent.y}`),l(t,"fill","none"),l(t,"stroke-linecap",r=e[32].data.name==="Research"?"butt":"round"),l(t,"stroke",i=e[32].data.name==="Research"?"gray":"#005266"),l(t,"stroke-dasharray",a=e[32].data.name==="Research"?"10 5":null),l(t,"class",o=e[32].data.name==="Research"?"research_link":""),l(t,"stroke-width",f=e[32].data.branch_type==="trunk"||e[32].data.branch_type==="upper_trunk"?15:e[32].data.branch_type==="uppest_trunk"?5:2)},m(h,p){P(h,t,p)},p(h,p){e=h,p[0]&65568&&n!==(n=e[32].data.name==="Research"?u():e[32].data.name==="d3"&&e[32].parent.data.name==="PA-X"||e[32].data.name==="Tracker"||e[32].data.name==="Infographics"?c():`M${e[32].x},${e[5]-e[32].y}
                   C${e[32].x},${e[5]-e[32].parent.y-20}
                    ${e[32].parent.x},${e[5]-e[32].parent.y-50}
                    ${e[32].parent.x},${e[5]-e[32].parent.y}`)&&l(t,"d",n),p[0]&65536&&r!==(r=e[32].data.name==="Research"?"butt":"round")&&l(t,"stroke-linecap",r),p[0]&65536&&i!==(i=e[32].data.name==="Research"?"gray":"#005266")&&l(t,"stroke",i),p[0]&65536&&a!==(a=e[32].data.name==="Research"?"10 5":null)&&l(t,"stroke-dasharray",a),p[0]&65536&&o!==(o=e[32].data.name==="Research"?"research_link":"")&&l(t,"class",o),p[0]&65536&&f!==(f=e[32].data.branch_type==="trunk"||e[32].data.branch_type==="upper_trunk"?15:e[32].data.branch_type==="uppest_trunk"?5:2)&&l(t,"stroke-width",f)},d(h){h&&L(t)}}}function Yn(e){let t,n;return{c(){t=T("path"),l(t,"d",n=`M${e[32].x},${e[5]+e[32].y} 
       C${e[32].x},${e[5]+e[32].parent.y+20} 
        ${e[32].parent.x},${e[5]+e[32].parent.y+20} 
        ${e[32].parent.x},${e[5]+e[32].parent.y}`),l(t,"fill","none"),l(t,"stroke","#005266"),l(t,"stroke-width","2")},m(r,i){P(r,t,i)},p(r,i){i[0]&32800&&n!==(n=`M${r[32].x},${r[5]+r[32].y} 
       C${r[32].x},${r[5]+r[32].parent.y+20} 
        ${r[32].parent.x},${r[5]+r[32].parent.y+20} 
        ${r[32].parent.x},${r[5]+r[32].parent.y}`)&&l(t,"d",n)},d(r){r&&L(t)}}}function Vn(e){let t,n,r,i;return{c(){var a;t=T("g"),n=T("circle"),l(n,"cx","0"),l(n,"cy","0"),l(n,"r","8"),l(n,"fill",r=e[32].data.name==="PA-X"||e[32].data.branch_type==="leaf"||((a=e[32].data.type)==null?void 0:a.slice(-2))==="db"?"white":"#001C23"),l(n,"stroke","#005266"),l(n,"stroke-width","4"),l(t,"transform",i=`translate(${e[32].x}, ${e[5]-e[32].y})`)},m(a,o){P(a,t,o),z(t,n)},p(a,o){var f;o[0]&2&&r!==(r=a[32].data.name==="PA-X"||a[32].data.branch_type==="leaf"||((f=a[32].data.type)==null?void 0:f.slice(-2))==="db"?"white":"#001C23")&&l(n,"fill",r),o[0]&34&&i!==(i=`translate(${a[32].x}, ${a[5]-a[32].y})`)&&l(t,"transform",i)},d(a){a&&L(t)}}}function Wn(e){let t,n,r,i;return{c(){t=T("g"),n=T("circle"),l(n,"cx","0"),l(n,"cy","0"),l(n,"r","3"),l(n,"fill",r=e[32].data.name==="agreement"?"white":"#001C23"),l(n,"stroke","#005266"),l(n,"stroke-width","2"),l(t,"transform",i=`translate(${e[32].x}, ${e[5]+e[32].y})`)},m(a,o){P(a,t,o),z(t,n)},p(a,o){o[0]&4&&r!==(r=a[32].data.name==="agreement"?"white":"#001C23")&&l(n,"fill",r),o[0]&36&&i!==(i=`translate(${a[32].x}, ${a[5]+a[32].y})`)&&l(t,"transform",i)},d(a){a&&L(t)}}}function Qn(e){let t,n=e[29].continent.replace("_"," ")+` (${e[29].count})`,r,i,a;return{c(){t=T("text"),r=oe(n),l(t,"x",i=e[29].x),l(t,"y",a=e[29].y),l(t,"text-anchor","middle"),l(t,"font-size","12"),l(t,"fill","white"),l(t,"letter-spacing","0.5")},m(o,f){P(o,t,f),z(t,r)},p(o,f){f[0]&8&&n!==(n=o[29].continent.replace("_"," ")+` (${o[29].count})`)&&Ae(r,n),f[0]&8&&i!==(i=o[29].x)&&l(t,"x",i),f[0]&8&&a!==(a=o[29].y)&&l(t,"y",a)},d(o){o&&L(t)}}}function ys(e){let t,n,r,i,a,o,f,u,c,h,p,g,w,C,b,v=e[21]&&e[20]&&e[19]&&Un(e),$=e[21]&&e[17]&&e[18]&&Fn(e),k=G(e[14]),A=[];for(let s=0;s<k.length;s+=1)A[s]=qn(In(e,k,s));let N=G(e[0]),D=[];for(let s=0;s<N.length;s+=1)D[s]=Hn(Tn(e,N,s));let S=G(e[16]),M=[];for(let s=0;s<S.length;s+=1)M[s]=Bn(Xn(e,S,s));let F=G(e[15]),U=[];for(let s=0;s<F.length;s+=1)U[s]=Yn(Rn(e,F,s));let B=G(e[1]),E=[];for(let s=0;s<B.length;s+=1)E[s]=Vn(Sn(e,B,s));let q=G(e[2]),R=[];for(let s=0;s<q.length;s+=1)R[s]=Wn(Dn(e,q,s));let X=G(e[3]),_=[];for(let s=0;s<X.length;s+=1)_[s]=Qn(En(e,X,s));return{c(){v&&v.c(),t=K(),$&&$.c(),n=K(),r=T("path"),a=K(),o=T("path"),u=K();for(let s=0;s<A.length;s+=1)A[s].c();c=K();for(let s=0;s<D.length;s+=1)D[s].c();h=K();for(let s=0;s<M.length;s+=1)M[s].c();p=K();for(let s=0;s<U.length;s+=1)U[s].c();g=K();for(let s=0;s<E.length;s+=1)E[s].c();w=K();for(let s=0;s<R.length;s+=1)R[s].c();C=K();for(let s=0;s<_.length;s+=1)_[s].c();b=Ee(),l(r,"d",i=`
    M ${e[13]},${e[12]}
    L ${e[13]},${e[12]+(e[10]-e[12])/1.5-(e[10]-e[12])*.1}
    C ${e[13]},${e[12]+(e[10]-e[12])/1.5} 
      ${e[13]},${e[12]+(e[10]-e[12])/1.5} 
      ${e[13]+(e[11]-e[13])*.1},${e[12]+(e[10]-e[12])/1.5}
    L ${e[11]-(e[11]-e[13])*.1},${e[12]+(e[10]-e[12])/1.5}
    C ${e[11]},${e[12]+(e[10]-e[12])/1.5} 
      ${e[11]},${e[12]+(e[10]-e[12])/1.5} 
      ${e[11]},${e[12]+(e[10]-e[12])/1.5+(e[10]-e[12])*.1}
    L ${e[11]},${e[10]}
  `),l(r,"fill","none"),l(r,"stroke","#404040"),l(r,"stroke-width","4"),l(r,"class","ucdp_link"),l(r,"stroke-opacity","0.7"),l(o,"d",f=`
    M ${e[9]},${e[8]}
    L ${e[9]},${e[8]+(e[6]-e[8])/1.5-(e[6]-e[8])*.1}
    C ${e[9]},${e[8]+(e[6]-e[8])/1.5} 
      ${e[9]},${e[8]+(e[6]-e[8])/1.5} 
      ${e[9]+(e[7]-e[9])*.1},${e[8]+(e[6]-e[8])/1.5}
    L ${e[7]-(e[7]-e[9])*.1},${e[8]+(e[6]-e[8])/1.5}
    C ${e[7]},${e[8]+(e[6]-e[8])/1.5} 
      ${e[7]},${e[8]+(e[6]-e[8])/1.5} 
      ${e[7]},${e[8]+(e[6]-e[8])/1.5+(e[6]-e[8])*.1}
    L ${e[7]},${e[6]}
  `),l(o,"fill","none"),l(o,"stroke","#404040"),l(o,"stroke-width","4"),l(o,"class","ucdp_link"),l(o,"stroke-opacity","0.7")},m(s,m){v&&v.m(s,m),P(s,t,m),$&&$.m(s,m),P(s,n,m),P(s,r,m),P(s,a,m),P(s,o,m),P(s,u,m);for(let d=0;d<A.length;d+=1)A[d]&&A[d].m(s,m);P(s,c,m);for(let d=0;d<D.length;d+=1)D[d]&&D[d].m(s,m);P(s,h,m);for(let d=0;d<M.length;d+=1)M[d]&&M[d].m(s,m);P(s,p,m);for(let d=0;d<U.length;d+=1)U[d]&&U[d].m(s,m);P(s,g,m);for(let d=0;d<E.length;d+=1)E[d]&&E[d].m(s,m);P(s,w,m);for(let d=0;d<R.length;d+=1)R[d]&&R[d].m(s,m);P(s,C,m);for(let d=0;d<_.length;d+=1)_[d]&&_[d].m(s,m);P(s,b,m)},p(s,m){if(s[21]&&s[20]&&s[19]?v?v.p(s,m):(v=Un(s),v.c(),v.m(t.parentNode,t)):v&&(v.d(1),v=null),s[21]&&s[17]&&s[18]?$?$.p(s,m):($=Fn(s),$.c(),$.m(n.parentNode,n)):$&&($.d(1),$=null),m[0]&15360&&i!==(i=`
    M ${s[13]},${s[12]}
    L ${s[13]},${s[12]+(s[10]-s[12])/1.5-(s[10]-s[12])*.1}
    C ${s[13]},${s[12]+(s[10]-s[12])/1.5} 
      ${s[13]},${s[12]+(s[10]-s[12])/1.5} 
      ${s[13]+(s[11]-s[13])*.1},${s[12]+(s[10]-s[12])/1.5}
    L ${s[11]-(s[11]-s[13])*.1},${s[12]+(s[10]-s[12])/1.5}
    C ${s[11]},${s[12]+(s[10]-s[12])/1.5} 
      ${s[11]},${s[12]+(s[10]-s[12])/1.5} 
      ${s[11]},${s[12]+(s[10]-s[12])/1.5+(s[10]-s[12])*.1}
    L ${s[11]},${s[10]}
  `)&&l(r,"d",i),m[0]&960&&f!==(f=`
    M ${s[9]},${s[8]}
    L ${s[9]},${s[8]+(s[6]-s[8])/1.5-(s[6]-s[8])*.1}
    C ${s[9]},${s[8]+(s[6]-s[8])/1.5} 
      ${s[9]},${s[8]+(s[6]-s[8])/1.5} 
      ${s[9]+(s[7]-s[9])*.1},${s[8]+(s[6]-s[8])/1.5}
    L ${s[7]-(s[7]-s[9])*.1},${s[8]+(s[6]-s[8])/1.5}
    C ${s[7]},${s[8]+(s[6]-s[8])/1.5} 
      ${s[7]},${s[8]+(s[6]-s[8])/1.5} 
      ${s[7]},${s[8]+(s[6]-s[8])/1.5+(s[6]-s[8])*.1}
    L ${s[7]},${s[6]}
  `)&&l(o,"d",f),m[0]&16416){k=G(s[14]);let d;for(d=0;d<k.length;d+=1){const O=In(s,k,d);A[d]?A[d].p(O,m):(A[d]=qn(O),A[d].c(),A[d].m(c.parentNode,c))}for(;d<A.length;d+=1)A[d].d(1);A.length=k.length}if(m[0]&49){N=G(s[0]);let d;for(d=0;d<N.length;d+=1){const O=Tn(s,N,d);D[d]?D[d].p(O,m):(D[d]=Hn(O),D[d].c(),D[d].m(h.parentNode,h))}for(;d<D.length;d+=1)D[d].d(1);D.length=N.length}if(m[0]&65568){S=G(s[16]);let d;for(d=0;d<S.length;d+=1){const O=Xn(s,S,d);M[d]?M[d].p(O,m):(M[d]=Bn(O),M[d].c(),M[d].m(p.parentNode,p))}for(;d<M.length;d+=1)M[d].d(1);M.length=S.length}if(m[0]&32800){F=G(s[15]);let d;for(d=0;d<F.length;d+=1){const O=Rn(s,F,d);U[d]?U[d].p(O,m):(U[d]=Yn(O),U[d].c(),U[d].m(g.parentNode,g))}for(;d<U.length;d+=1)U[d].d(1);U.length=F.length}if(m[0]&34){B=G(s[1]);let d;for(d=0;d<B.length;d+=1){const O=Sn(s,B,d);E[d]?E[d].p(O,m):(E[d]=Vn(O),E[d].c(),E[d].m(w.parentNode,w))}for(;d<E.length;d+=1)E[d].d(1);E.length=B.length}if(m[0]&36){q=G(s[2]);let d;for(d=0;d<q.length;d+=1){const O=Dn(s,q,d);R[d]?R[d].p(O,m):(R[d]=Wn(O),R[d].c(),R[d].m(C.parentNode,C))}for(;d<R.length;d+=1)R[d].d(1);R.length=q.length}if(m[0]&8){X=G(s[3]);let d;for(d=0;d<X.length;d+=1){const O=En(s,X,d);_[d]?_[d].p(O,m):(_[d]=Qn(O),_[d].c(),_[d].m(b.parentNode,b))}for(;d<_.length;d+=1)_[d].d(1);_.length=X.length}},i:le,o:le,d(s){s&&(L(t),L(n),L(r),L(a),L(o),L(u),L(c),L(h),L(p),L(g),L(w),L(C),L(b)),v&&v.d(s),$&&$.d(s),re(A,s),re(D,s),re(M,s),re(U,s),re(E,s),re(R,s),re(_,s)}}}function ws(e,t,n){let r,i,a,o,f,u,c,h,p,g,w,C,b,v,$,k,A,N,D,{ucdpNodes:S=[]}=t,{nodesUp:M=[]}=t,{nodesDown:F=[]}=t,{regionLabels:U=[]}=t,{currentLevelUp:B}=t,{yCenter:E}=t;function q(s,m,d){const O=s.x,Y=E-s.y,V=m.x,te=E-m.y,he=d.x,W=E-d.y,Q=Math.min(0,(Y-te)*.6),J=Q*0;return`M${O},${Y}
          L${O},${te+Q}
          C${O},${te+J}
           ${V},${te+J}
           ${V},${te}
          L${he},${W}`}function R(s,m,d){const O=s.x,Y=E-s.y,V=m.x,te=E-m.y,he=d.x,W=E-d.y,Q=O+(V-O)*.8,J=O+(V-O)*.3;return`M${O},${Y}
          C${Q},${Y}
           ${J},${te}
           ${V},${te}
          L${he},${W}`}const X=s=>{const m=Math.min(50,(E-s.y-(E-s.parent.y))*.3),d=m*.3;return`M${s.x},${E-s.y}
                            L${s.x},${E-s.parent.y+m}
                            C${s.x},${E-s.parent.y+d}
                             ${s.parent.x},${E-s.parent.y+d}
                             ${s.parent.x},${E-s.parent.y}`},_=s=>{const m=Math.min(50,(E-s.y-(E-s.parent.y))*.3),d=s.data.name==="Tracker"||s.data.name==="Infographics"?20:0,O=m+d,Y=O*.3;return`M${s.x},${E-s.y}
            L${s.x},${E-s.parent.y+O}
            C${s.x},${E-s.parent.y+Y}
             ${s.parent.x},${E-s.parent.y+Y}
             ${s.parent.x},${E-s.parent.y}`};return e.$$set=s=>{"ucdpNodes"in s&&n(0,S=s.ucdpNodes),"nodesUp"in s&&n(1,M=s.nodesUp),"nodesDown"in s&&n(2,F=s.nodesDown),"regionLabels"in s&&n(3,U=s.regionLabels),"currentLevelUp"in s&&n(4,B=s.currentLevelUp),"yCenter"in s&&n(5,E=s.yCenter)},e.$$.update=()=>{e.$$.dirty[0]&2&&n(21,r=M.find(s=>s.data.name=="Research")),e.$$.dirty[0]&2&&n(20,i=M.find(s=>s.data.type=="paax_db")),e.$$.dirty[0]&2&&n(19,a=M.find(s=>s.data.type=="pax_gender_db")),e.$$.dirty[0]&2&&n(18,o=M.find(s=>s.data.name=="Infographics")),e.$$.dirty[0]&2&&n(17,f=M.find(s=>s.data.name=="PeaceFem")),e.$$.dirty[0]&2&&n(16,u=M.slice(1)),e.$$.dirty[0]&4&&n(15,c=F.filter(s=>s.parent)),e.$$.dirty[0]&1&&n(14,h=S.filter(s=>s.parent)),e.$$.dirty[0]&1&&n(24,p=S.find(s=>s.data.name==="__ucdp_root__")),e.$$.dirty[0]&2&&n(26,g=M.find(s=>s.data.name==="Data Overview")),e.$$.dirty[0]&2&&n(25,w=M.find(s=>s.data.name==="Tracker")),e.$$.dirty[0]&67108864&&n(13,C=g?g.x+4:0),e.$$.dirty[0]&67108896&&n(12,b=g?E-g.y:0),e.$$.dirty[0]&16777216&&n(11,v=p?p.x:0),e.$$.dirty[0]&16777248&&n(10,$=p?E+p.y:0),e.$$.dirty[0]&33554432&&n(9,k=w?w.x+4:0),e.$$.dirty[0]&33554464&&n(8,A=w?E-w.y:0),e.$$.dirty[0]&16777216&&n(7,N=p?p.x:0),e.$$.dirty[0]&16777248&&n(6,D=p?E+p.y:0)},[S,M,F,U,B,E,D,N,A,k,$,v,b,C,h,c,u,f,o,a,i,r,q,R,p,w,g,X,_]}class vs extends et{constructor(t){super(),je(this,t,ws,ys,xe,{ucdpNodes:0,nodesUp:1,nodesDown:2,regionLabels:3,currentLevelUp:4,yCenter:5},null,[-1,-1])}}function Gn(e,t,n){const r=e.slice();r[48]=t[n];const i=en(r[48].data.ppl);r[49]=i;const a=Ls(r[48].data.ppl);r[50]=a;const o=Ns(r[48].data.ppl);return r[51]=o,r}function Kn(e,t,n){const r=e.slice();return r[54]=t[n],r}function Tt(e){const t=e.slice(),n=t[20].get(t[48].data.name);return t[57]=n,t}function bs(e){const t=e.slice(),n=t[21].get(t[48].data.type);return t[58]=n,t}function Jn(e,t,n){const r=e.slice();return r[48]=t[n],r}function Zn(e,t,n){const r=e.slice();return r[48]=t[n],r[62]=n,r}function xn(e,t,n){const r=e.slice();return r[48]=t[n],r}function jn(e){let t,n,r;return{c(){t=T("path"),l(t,"d",n=`M${e[48].x},${e[2]+e[48].y} 
       C${e[48].x},${e[2]+e[48].parent.y+20} 
        ${e[48].parent.x},${e[2]+e[48].parent.y+20} 
        ${e[48].parent.x},${e[2]+e[48].parent.y}`),l(t,"fill","none"),l(t,"stroke",r=e[0].has(`${e[48].parent.data.id}${e[48].data.id}`)?"#cc8500":"#00ccff"),l(t,"stroke-width","1")},m(i,a){P(i,t,a)},p(i,a){a[0]&132&&n!==(n=`M${i[48].x},${i[2]+i[48].y} 
       C${i[48].x},${i[2]+i[48].parent.y+20} 
        ${i[48].parent.x},${i[2]+i[48].parent.y+20} 
        ${i[48].parent.x},${i[2]+i[48].parent.y}`)&&l(t,"d",n),a[0]&129&&r!==(r=i[0].has(`${i[48].parent.data.id}${i[48].data.id}`)?"#cc8500":"#00ccff")&&l(t,"stroke",r)},d(i){i&&L(t)}}}function er(e){let t,n=e[48].data.name.charAt(0).toUpperCase()+e[48].data.name.slice(1)+"",r;return{c(){t=T("text"),r=oe(n),l(t,"x",-10),l(t,"y",3),l(t,"font-size","12"),l(t,"fill","white"),l(t,"text-anchor","end")},m(i,a){P(i,t,a),z(t,r)},p(i,a){a[0]&64&&n!==(n=i[48].data.name.charAt(0).toUpperCase()+i[48].data.name.slice(1)+"")&&Ae(r,n)},d(i){i&&L(t)}}}function tr(e){let t,n=e[5].get(e[48].revealLevel)===e[48],r,i,a,o=n&&er(e);return{c(){t=T("g"),o&&o.c(),r=T("circle"),l(r,"cx","0"),l(r,"cy","0"),l(r,"r","3"),l(r,"fill",i=e[48].data.name==="agreement"?"white":"#001C23"),l(r,"stroke","#00ccff"),l(r,"stroke-width","2"),l(t,"transform",a=`translate(${e[48].x}, ${e[2]+e[48].y})`)},m(f,u){P(f,t,u),o&&o.m(t,null),z(t,r)},p(f,u){u[0]&96&&(n=f[5].get(f[48].revealLevel)===f[48]),n?o?o.p(f,u):(o=er(f),o.c(),o.m(t,r)):o&&(o.d(1),o=null),u[0]&64&&i!==(i=f[48].data.name==="agreement"?"white":"#001C23")&&l(r,"fill",i),u[0]&68&&a!==(a=`translate(${f[48].x}, ${f[2]+f[48].y})`)&&l(t,"transform",a)},d(f){f&&L(t),o&&o.d()}}}function nr(e){let t;return{c(){t=T("path"),l(t,"d",e[16]),l(t,"fill","none"),l(t,"stroke","white"),l(t,"stroke-width","30"),l(t,"stroke-opacity","0.2"),l(t,"stroke-linecap","round")},m(n,r){P(n,t,r)},p(n,r){r[0]&65536&&l(t,"d",n[16])},d(n){n&&L(t)}}}function rr(e){let t;return{c(){t=T("path"),l(t,"d",e[15]),l(t,"fill","none"),l(t,"stroke","white"),l(t,"stroke-width","30"),l(t,"stroke-opacity","0.2"),l(t,"stroke-linecap","round")},m(n,r){P(n,t,r)},p(n,r){r[0]&32768&&l(t,"d",n[15])},d(n){n&&L(t)}}}function ir(e){let t;return{c(){t=T("path"),l(t,"d",e[14]),l(t,"fill","none"),l(t,"stroke","white"),l(t,"stroke-width","30"),l(t,"stroke-opacity","0.2"),l(t,"stroke-linecap","round")},m(n,r){P(n,t,r)},p(n,r){r[0]&16384&&l(t,"d",n[14])},d(n){n&&L(t)}}}function ar(e){let t;return{c(){t=T("path"),l(t,"d",e[13]),l(t,"fill","none"),l(t,"stroke","white"),l(t,"stroke-width","30"),l(t,"stroke-opacity","0.2"),l(t,"stroke-linecap","round")},m(n,r){P(n,t,r)},p(n,r){r[0]&8192&&l(t,"d",n[13])},d(n){n&&L(t)}}}function or(e){let t;return{c(){t=T("path"),l(t,"d",e[12]),l(t,"fill","none"),l(t,"stroke","white"),l(t,"stroke-width","30"),l(t,"stroke-opacity","0.2"),l(t,"stroke-linecap","round")},m(n,r){P(n,t,r)},p(n,r){r[0]&4096&&l(t,"d",n[12])},d(n){n&&L(t)}}}function lr(e){let t;return{c(){t=T("path"),l(t,"d",e[10]),l(t,"fill","none"),l(t,"stroke","white"),l(t,"stroke-width","30"),l(t,"stroke-opacity","0.2"),l(t,"stroke-linecap","round")},m(n,r){P(n,t,r)},p(n,r){r[0]&1024&&l(t,"d",n[10])},d(n){n&&L(t)}}}function sr(e){let t;return{c(){t=T("path"),l(t,"d",e[11]),l(t,"fill","none"),l(t,"stroke","white"),l(t,"stroke-width","30"),l(t,"stroke-opacity","0.2"),l(t,"stroke-linecap","round")},m(n,r){P(n,t,r)},p(n,r){r[0]&2048&&l(t,"d",n[11])},d(n){n&&L(t)}}}function fr(e){let t;return{c(){t=T("path"),l(t,"d",e[9]),l(t,"fill","none"),l(t,"stroke","white"),l(t,"stroke-width","30"),l(t,"stroke-opacity","0.2"),l(t,"stroke-linecap","round")},m(n,r){P(n,t,r)},p(n,r){r[0]&512&&l(t,"d",n[9])},d(n){n&&L(t)}}}function ur(e){let t;return{c(){t=T("path"),l(t,"d",e[8]),l(t,"fill","none"),l(t,"stroke","white"),l(t,"stroke-width","30"),l(t,"stroke-opacity","0.2"),l(t,"stroke-linecap","round")},m(n,r){P(n,t,r)},p(n,r){r[0]&256&&l(t,"d",n[8])},d(n){n&&L(t)}}}function cr(e){let t,n,r,i;function a(){return e[42](e[48])}function o(){return e[43](e[48])}return{c(){t=T("path"),l(t,"d",n=e[48].data.name==="Research"?a():e[48].data.name==="d3"&&e[48].parent.data.name==="PA-X"||e[48].data.name==="Tracker"||e[48].data.name==="Infographics"?o():`M${e[48].x},${e[2]-e[48].y}
                   C${e[48].x},${e[2]-e[48].parent.y-20}
                    ${e[48].parent.x},${e[2]-e[48].parent.y-50}
                    ${e[48].parent.x},${e[2]-e[48].parent.y}`),l(t,"fill","none"),l(t,"stroke-linecap","round"),l(t,"stroke",r=e[0].has(`${e[48].parent.data.id}${e[48].data.id}`)?"#cc8500":e[48].data.name==="Research"?"":"#00CCFF"),l(t,"stroke-width",i=e[48].data.branch_type==="trunk"?17:e[48].data.branch_type==="upper_trunk"?13:e[48].data.branch_type==="uppest_trunk"?5:2)},m(f,u){P(f,t,u)},p(f,u){e=f,u[0]&131076&&n!==(n=e[48].data.name==="Research"?a():e[48].data.name==="d3"&&e[48].parent.data.name==="PA-X"||e[48].data.name==="Tracker"||e[48].data.name==="Infographics"?o():`M${e[48].x},${e[2]-e[48].y}
                   C${e[48].x},${e[2]-e[48].parent.y-20}
                    ${e[48].parent.x},${e[2]-e[48].parent.y-50}
                    ${e[48].parent.x},${e[2]-e[48].parent.y}`)&&l(t,"d",n),u[0]&131073&&r!==(r=e[0].has(`${e[48].parent.data.id}${e[48].data.id}`)?"#cc8500":e[48].data.name==="Research"?"":"#00CCFF")&&l(t,"stroke",r),u[0]&131072&&i!==(i=e[48].data.branch_type==="trunk"?17:e[48].data.branch_type==="upper_trunk"?13:e[48].data.branch_type==="uppest_trunk"?5:2)&&l(t,"stroke-width",i)},d(f){f&&L(t)}}}function hr(e){let t,n,r,i,a=e[48].data.name+"",o,f;return{c(){t=T("rect"),i=T("text"),o=oe(a),l(t,"x",n=e[19].get(e[48].data.type).x+8),l(t,"y",-10),l(t,"width",r=e[48].data.name.length*7),l(t,"height",16),l(t,"fill","#001C23"),l(t,"rx","3"),l(t,"opacity","0.8"),l(i,"x",f=e[19].get(e[48].data.type).x+10),l(i,"y",0),l(i,"font-size","12"),l(i,"fill","white")},m(u,c){P(u,t,c),P(u,i,c),z(i,o)},p(u,c){c[0]&262144&&n!==(n=u[19].get(u[48].data.type).x+8)&&l(t,"x",n),c[0]&262144&&r!==(r=u[48].data.name.length*7)&&l(t,"width",r),c[0]&262144&&a!==(a=u[48].data.name+"")&&Ae(o,a),c[0]&262144&&f!==(f=u[19].get(u[48].data.type).x+10)&&l(i,"x",f)},d(u){u&&(L(t),L(i))}}}function pr(e){let t,n,r,i,a=e[58].text+"",o,f;return{c(){t=T("rect"),i=T("text"),o=oe(a),l(t,"x",18),l(t,"y",-10),l(t,"width",n=e[58].text.length*7),l(t,"height",16),l(t,"fill","#001C23"),l(t,"rx","3"),l(t,"opacity","0.8"),l(t,"transform",r=e[58].rotate?`rotate(${e[58].rotate}, -5, 5)`:null),l(i,"x",20),l(i,"y",0),l(i,"font-size","12"),l(i,"fill","white"),l(i,"transform",f=e[58].rotate?`rotate(${e[58].rotate}, -5, 5)`:null)},m(u,c){P(u,t,c),P(u,i,c),z(i,o)},p(u,c){c[0]&262144&&n!==(n=u[58].text.length*7)&&l(t,"width",n),c[0]&262144&&r!==(r=u[58].rotate?`rotate(${u[58].rotate}, -5, 5)`:null)&&l(t,"transform",r),c[0]&262144&&a!==(a=u[58].text+"")&&Ae(o,a),c[0]&262144&&f!==(f=u[58].rotate?`rotate(${u[58].rotate}, -5, 5)`:null)&&l(i,"transform",f)},d(u){u&&(L(t),L(i))}}}function ks(e){let t=!e[20].get(e[48].data.name).maxLevel||e[1]<e[20].get(e[48].data.name).maxLevel,n,r=t&&dr(Tt(e));return{c(){r&&r.c(),n=Ee()},m(i,a){r&&r.m(i,a),P(i,n,a)},p(i,a){a[0]&262146&&(t=!i[20].get(i[48].data.name).maxLevel||i[1]<i[20].get(i[48].data.name).maxLevel),t?r?r.p(Tt(i),a):(r=dr(Tt(i)),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(i){i&&L(n),r&&r.d(i)}}}function dr(e){let t,n,r,i,a,o=e[57].text+"",f,u,c;return{c(){t=T("rect"),a=T("text"),f=oe(o),l(t,"x",18),l(t,"y",n=(e[57].y??0)-10),l(t,"width",r=e[57].text.length*7),l(t,"height",16),l(t,"fill","#001C23"),l(t,"rx","3"),l(t,"opacity","0.8"),l(t,"transform",i=e[57].rotate?`rotate(${e[57].rotate}, 20, ${e[57].y??5})`:null),l(a,"x",20),l(a,"y",u=e[57].y??0),l(a,"font-size","12"),l(a,"fill","white"),l(a,"transform",c=e[57].rotate?`rotate(${e[57].rotate}, 20, ${e[57].y??5})`:null)},m(h,p){P(h,t,p),P(h,a,p),z(a,f)},p(h,p){p[0]&262144&&n!==(n=(h[57].y??0)-10)&&l(t,"y",n),p[0]&262144&&r!==(r=h[57].text.length*7)&&l(t,"width",r),p[0]&262144&&i!==(i=h[57].rotate?`rotate(${h[57].rotate}, 20, ${h[57].y??5})`:null)&&l(t,"transform",i),p[0]&262144&&o!==(o=h[57].text+"")&&Ae(f,o),p[0]&262144&&u!==(u=h[57].y??0)&&l(a,"y",u),p[0]&262144&&c!==(c=h[57].rotate?`rotate(${h[57].rotate}, 20, ${h[57].y??5})`:null)&&l(a,"transform",c)},d(h){h&&(L(t),L(a))}}}function As(e){let t,n=e[21].get(e[48].data.type).text+"",r,i;return{c(){t=T("text"),r=oe(n),l(t,"x",20),l(t,"y",0),l(t,"font-size","12"),l(t,"fill","white"),l(t,"transform",i=e[21].get(e[48].data.type).rotate?`rotate(${e[21].get(e[48].data.type).rotate}, -5, 5)`:null)},m(a,o){P(a,t,o),z(t,r)},p(a,o){o[0]&262144&&n!==(n=a[21].get(a[48].data.type).text+"")&&Ae(r,n),o[0]&262144&&i!==(i=a[21].get(a[48].data.type).rotate?`rotate(${a[21].get(a[48].data.type).rotate}, -5, 5)`:null)&&l(t,"transform",i)},d(a){a&&L(t)}}}function Cs(e){let t=!e[20].get(e[48].data.name).maxLevel||e[1]<e[20].get(e[48].data.name).maxLevel,n,r=t&&_r(e);return{c(){r&&r.c(),n=Ee()},m(i,a){r&&r.m(i,a),P(i,n,a)},p(i,a){a[0]&262146&&(t=!i[20].get(i[48].data.name).maxLevel||i[1]<i[20].get(i[48].data.name).maxLevel),t?r?r.p(i,a):(r=_r(i),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(i){i&&L(n),r&&r.d(i)}}}function _r(e){let t,n=e[20].get(e[48].data.name).text+"",r,i,a;return{c(){t=T("text"),r=oe(n),l(t,"x",20),l(t,"y",i=e[20].get(e[48].data.name).y??0),l(t,"font-size","12"),l(t,"fill","white"),l(t,"transform",a=e[20].get(e[48].data.name).rotate?`rotate(${e[20].get(e[48].data.name).rotate}, 20, ${e[20].get(e[48].data.name).y??5})`:null)},m(o,f){P(o,t,f),z(t,r)},p(o,f){f[0]&262144&&n!==(n=o[20].get(o[48].data.name).text+"")&&Ae(r,n),f[0]&262144&&i!==(i=o[20].get(o[48].data.name).y??0)&&l(t,"y",i),f[0]&262144&&a!==(a=o[20].get(o[48].data.name).rotate?`rotate(${o[20].get(o[48].data.name).rotate}, 20, ${o[20].get(o[48].data.name).y??5})`:null)&&l(t,"transform",a)},d(o){o&&L(t)}}}function mr(e){let t,n,r;return{c(){t=T("circle"),l(t,"cx",n=e[54].cx),l(t,"cy",r=e[54].cy),l(t,"r","2"),l(t,"fill","black"),l(t,"opacity","0.85"),l(t,"pointer-events","none")},m(i,a){P(i,t,a)},p(i,a){a[0]&262144&&n!==(n=i[54].cx)&&l(t,"cx",n),a[0]&262144&&r!==(r=i[54].cy)&&l(t,"cy",r)},d(i){i&&L(t)}}}function gr(e){let t,n=e[19].has(e[48].data.type),r,i,a,o,f,u,c,h,p,g,w,C,b,v=n&&hr(e);function $(R,X){if(X[0]&262144&&(i=null),X[0]&262144&&(a=null),i==null&&(i=!!(R[48].data.name&&R[20].has(R[48].data.name))),i)return ks;if(a==null&&(a=!!(R[48].data.type&&R[21].has(R[48].data.type))),a)return pr}function k(R,X){return X===pr?bs(R):R}let A=$(e,[-1,-1,-1]),N=A&&A(k(e,A));function D(R,X){if(X[0]&262144&&(f=null),X[0]&262144&&(u=null),f==null&&(f=!!(R[48].data.name&&R[20].has(R[48].data.name))),f)return Cs;if(u==null&&(u=!!(R[48].data.type&&R[21].has(R[48].data.type))),u)return As}let S=D(e,[-1,-1,-1]),M=S&&S(e);function F(){return e[44](e[48])}function U(){return e[46](e[48])}function B(...R){return e[47](e[48],...R)}let E=G(e[51]),q=[];for(let R=0;R<E.length;R+=1)q[R]=mr(Kn(e,E,R));return{c(){var R;t=T("g"),v&&v.c(),r=Ee(),N&&N.c(),o=Ee(),M&&M.c(),c=T("circle");for(let X=0;X<q.length;X+=1)q[X].c();l(c,"cx","0"),l(c,"cy","0"),l(c,"r",h=e[49]),l(c,"fill",p=e[48].data.name==="PA-X"||e[48].data.branch_type==="leaf"||((R=e[48].data.type)==null?void 0:R.slice(-2))==="db"?"white":"#001C23"),l(c,"stroke","#00CCFF"),l(c,"stroke-width",g=e[50]),l(c,"tabindex","0"),l(c,"role","button"),l(c,"aria-label","Node details"),l(t,"transform",w=`translate(${e[48].x}, ${e[2]-e[48].y})`)},m(R,X){P(R,t,X),v&&v.m(t,null),z(t,r),N&&N.m(t,null),z(t,o),M&&M.m(t,null),z(t,c);for(let _=0;_<q.length;_+=1)q[_]&&q[_].m(t,null);C||(b=[be(c,"mouseenter",F),be(c,"mouseleave",e[45]),be(c,"click",U),be(c,"keydown",B)],C=!0)},p(R,X){var _;if(e=R,X[0]&262144&&(n=e[19].has(e[48].data.type)),n?v?v.p(e,X):(v=hr(e),v.c(),v.m(t,r)):v&&(v.d(1),v=null),A===(A=$(e,X))&&N?N.p(k(e,A),X):(N&&N.d(1),N=A&&A(k(e,A)),N&&(N.c(),N.m(t,o))),S===(S=D(e,X))&&M?M.p(e,X):(M&&M.d(1),M=S&&S(e),M&&(M.c(),M.m(t,c))),X[0]&262144&&h!==(h=e[49])&&l(c,"r",h),X[0]&262144&&p!==(p=e[48].data.name==="PA-X"||e[48].data.branch_type==="leaf"||((_=e[48].data.type)==null?void 0:_.slice(-2))==="db"?"white":"#001C23")&&l(c,"fill",p),X[0]&262144&&g!==(g=e[50])&&l(c,"stroke-width",g),X[0]&262144){E=G(e[51]);let s;for(s=0;s<E.length;s+=1){const m=Kn(e,E,s);q[s]?q[s].p(m,X):(q[s]=mr(m),q[s].c(),q[s].m(t,null))}for(;s<q.length;s+=1)q[s].d(1);q.length=E.length}X[0]&262148&&w!==(w=`translate(${e[48].x}, ${e[2]-e[48].y})`)&&l(t,"transform",w)},d(R){R&&L(t),v&&v.d(),N&&N.d(),M&&M.d(),re(q,R),C=!1,Se(b)}}}function $s(e){let t,n,r,i,a,o,f,u,c,h,p,g,w,C=G(e[7]),b=[];for(let _=0;_<C.length;_+=1)b[_]=jn(xn(e,C,_));let v=G(e[6]),$=[];for(let _=0;_<v.length;_+=1)$[_]=tr(Zn(e,v,_));let k=e[1]>=6&&nr(e),A=e[1]>=7&&rr(e),N=e[1]>=8&&ir(e),D=e[1]>=10&&ar(e),S=e[1]>=11&&e[1]<13&&or(e),M=e[1]>=12&&e[1]<14&&lr(e),F=e[1]>=13&&sr(e),U=e[1]>=14&&e[1]<15&&fr(e),B=e[1]>=15&&ur(e),E=G(e[17]),q=[];for(let _=0;_<E.length;_+=1)q[_]=cr(Jn(e,E,_));let R=G(e[18]),X=[];for(let _=0;_<R.length;_+=1)X[_]=gr(Gn(e,R,_));return{c(){for(let _=0;_<b.length;_+=1)b[_].c();t=K();for(let _=0;_<$.length;_+=1)$[_].c();n=K(),k&&k.c(),r=K(),A&&A.c(),i=K(),N&&N.c(),a=K(),D&&D.c(),o=K(),S&&S.c(),f=K(),M&&M.c(),u=K(),F&&F.c(),c=K(),U&&U.c(),h=K(),B&&B.c(),p=K();for(let _=0;_<q.length;_+=1)q[_].c();g=K();for(let _=0;_<X.length;_+=1)X[_].c();w=Ee()},m(_,s){for(let m=0;m<b.length;m+=1)b[m]&&b[m].m(_,s);P(_,t,s);for(let m=0;m<$.length;m+=1)$[m]&&$[m].m(_,s);P(_,n,s),k&&k.m(_,s),P(_,r,s),A&&A.m(_,s),P(_,i,s),N&&N.m(_,s),P(_,a,s),D&&D.m(_,s),P(_,o,s),S&&S.m(_,s),P(_,f,s),M&&M.m(_,s),P(_,u,s),F&&F.m(_,s),P(_,c,s),U&&U.m(_,s),P(_,h,s),B&&B.m(_,s),P(_,p,s);for(let m=0;m<q.length;m+=1)q[m]&&q[m].m(_,s);P(_,g,s);for(let m=0;m<X.length;m+=1)X[m]&&X[m].m(_,s);P(_,w,s)},p(_,s){if(s[0]&133){C=G(_[7]);let m;for(m=0;m<C.length;m+=1){const d=xn(_,C,m);b[m]?b[m].p(d,s):(b[m]=jn(d),b[m].c(),b[m].m(t.parentNode,t))}for(;m<b.length;m+=1)b[m].d(1);b.length=C.length}if(s[0]&100){v=G(_[6]);let m;for(m=0;m<v.length;m+=1){const d=Zn(_,v,m);$[m]?$[m].p(d,s):($[m]=tr(d),$[m].c(),$[m].m(n.parentNode,n))}for(;m<$.length;m+=1)$[m].d(1);$.length=v.length}if(_[1]>=6?k?k.p(_,s):(k=nr(_),k.c(),k.m(r.parentNode,r)):k&&(k.d(1),k=null),_[1]>=7?A?A.p(_,s):(A=rr(_),A.c(),A.m(i.parentNode,i)):A&&(A.d(1),A=null),_[1]>=8?N?N.p(_,s):(N=ir(_),N.c(),N.m(a.parentNode,a)):N&&(N.d(1),N=null),_[1]>=10?D?D.p(_,s):(D=ar(_),D.c(),D.m(o.parentNode,o)):D&&(D.d(1),D=null),_[1]>=11&&_[1]<13?S?S.p(_,s):(S=or(_),S.c(),S.m(f.parentNode,f)):S&&(S.d(1),S=null),_[1]>=12&&_[1]<14?M?M.p(_,s):(M=lr(_),M.c(),M.m(u.parentNode,u)):M&&(M.d(1),M=null),_[1]>=13?F?F.p(_,s):(F=sr(_),F.c(),F.m(c.parentNode,c)):F&&(F.d(1),F=null),_[1]>=14&&_[1]<15?U?U.p(_,s):(U=fr(_),U.c(),U.m(h.parentNode,h)):U&&(U.d(1),U=null),_[1]>=15?B?B.p(_,s):(B=ur(_),B.c(),B.m(p.parentNode,p)):B&&(B.d(1),B=null),s[0]&131077){E=G(_[17]);let m;for(m=0;m<E.length;m+=1){const d=Jn(_,E,m);q[m]?q[m].p(d,s):(q[m]=cr(d),q[m].c(),q[m].m(g.parentNode,g))}for(;m<q.length;m+=1)q[m].d(1);q.length=E.length}if(s[0]&3932190){R=G(_[18]);let m;for(m=0;m<R.length;m+=1){const d=Gn(_,R,m);X[m]?X[m].p(d,s):(X[m]=gr(d),X[m].c(),X[m].m(w.parentNode,w))}for(;m<X.length;m+=1)X[m].d(1);X.length=R.length}},i:le,o:le,d(_){_&&(L(t),L(n),L(r),L(i),L(a),L(o),L(f),L(u),L(c),L(h),L(p),L(g),L(w)),re(b,_),re($,_),k&&k.d(_),A&&A.d(_),N&&N.d(_),D&&D.d(_),S&&S.d(_),M&&M.d(_),F&&F.d(_),U&&U.d(_),B&&B.d(_),re(q,_),re(X,_)}}}function en(e){return 5+Math.sqrt(e)/Math.sqrt(50)*(28-5)}function Ns(e){const t=en(e),n=2,r=1,i=n*2+r,a=Math.max(1,Math.floor(2*Math.PI*t/i)),o=Math.ceil(e/a);return Array.from({length:e},(f,u)=>{const c=Math.floor(u/a),p=u%a*(2*Math.PI/a)-Math.PI/2,g=(c-(o-1)/2)*i,w=t+g;return{cx:w*Math.cos(p),cy:w*Math.sin(p)}})}function Ls(e){const t=en(e),n=2,r=1,i=n*2+r,a=Math.max(1,Math.floor(2*Math.PI*t/i)),o=Math.ceil(e/a);return Math.max(6,o*i+r*2)}function Ps(e,t,n){let r,i,a,o,f,u,c,h,p,g,w,C,b,v,$,k,A,N,D,S,M,F,U,B,E,q,R,{nodesUp:X=[]}=t,{linksUp:_=[]}=t,{nodesDown:s=[]}=t,{linksDown:m=[]}=t,{highlightedLinks:d}=t,{currentLevelUp:O}=t,{currentLevelDown:Y}=t,{yCenter:V}=t,{handleHoverEvent:te}=t,{handleClickEvents:he}=t,{rootUp:W}=t;const Q=new Map([["pax_collect",{x:12}],["pax_translate",{x:20}],["pax_transcribe",{x:12}],["pax_quality_control",{x:12}],["pax_db",{x:12}],["research",{x:25}],["pax_code",{x:25}]]),J=new Map([["Tracker",{text:"Visualization",y:-10,maxLevel:14,rotate:-45}],["PeaceFem",{text:"App",y:-10,rotate:-45}],["Data Overview",{text:"Visualization",y:-10,rotate:-45}],["PAA-X",{text:"Sub-Databases"}],["Tracker Development",{text:"Development",maxLevel:13,y:-10,rotate:-45}]]),x=new Map([["paax_code",{text:"Code"}],["paax_quality_control",{text:"Quality Control"}],["conference",{text:"Publications",rotate:-45}],["prog_overview",{text:"Development",y:-20,rotate:-45}],["pdf",{text:"Infographics",rotate:-45}]]);let se=[];const we=y=>{const I=Math.min(50,(V-y.y-(V-y.parent.y))*.3),ne=I*.3;return`M${y.x},${V-y.y}
                            L${y.x},${V-y.parent.y+I}
                            C${y.x},${V-y.parent.y+ne}
                             ${y.parent.x},${V-y.parent.y+ne}
                             ${y.parent.x},${V-y.parent.y}`},rt=y=>{const I=Math.min(50,(V-y.y-(V-y.parent.y))*.3),ne=y.data.name==="Tracker"||y.data.name==="Infographics"?20:0,Ce=I+ne,H=Ce*.3;return`M${y.x},${V-y.y}
            L${y.x},${V-y.parent.y+Ce}
            C${y.x},${V-y.parent.y+H}
             ${y.parent.x},${V-y.parent.y+H}
             ${y.parent.x},${V-y.parent.y}`},it=y=>te({node:y}),Lt=()=>te({node:null}),Pt=y=>he({node:y}),at=(y,I)=>{(I.key==="Enter"||I.key===" ")&&he({node:y})};return e.$$set=y=>{"nodesUp"in y&&n(22,X=y.nodesUp),"linksUp"in y&&n(23,_=y.linksUp),"nodesDown"in y&&n(24,s=y.nodesDown),"linksDown"in y&&n(25,m=y.linksDown),"highlightedLinks"in y&&n(0,d=y.highlightedLinks),"currentLevelUp"in y&&n(1,O=y.currentLevelUp),"currentLevelDown"in y&&n(26,Y=y.currentLevelDown),"yCenter"in y&&n(2,V=y.yCenter),"handleHoverEvent"in y&&n(3,te=y.handleHoverEvent),"handleClickEvents"in y&&n(4,he=y.handleClickEvents),"rootUp"in y&&n(27,W=y.rootUp)},e.$$.update=()=>{if(e.$$.dirty[0]&16777216&&n(40,r=s.length?Math.max(...s.map(y=>y.revealLevel)):-1),e.$$.dirty[0]&2&&n(41,i=O>=0?O:null),e.$$.dirty[0]&4194304|e.$$.dirty[1]&1024&&n(18,a=i!==null?X.filter(y=>y.data.step<=i):[]),e.$$.dirty[0]&8388608|e.$$.dirty[1]&1024&&n(17,o=i!==null?_.filter(y=>y.parent&&y.data.step<=i):[]),e.$$.dirty[0]&83886080|e.$$.dirty[1]&512&&n(6,f=s.filter(y=>y.revealLevel>=r-Y)),e.$$.dirty[0]&100663296|e.$$.dirty[1]&512){const y=r-Y;n(7,se=m.filter(I=>I.parent?I.revealLevel>=y&&I.parent.revealLevel>=y-1:!1))}if(e.$$.dirty[0]&96){u.clear();for(const y of f)u.has(y.revealLevel)||u.set(y.revealLevel,y)}e.$$.dirty[0]&134217728&&n(39,c=W.descendants().filter(y=>y.data.name==="Code"&&y.data.type!=="pax_code")),e.$$.dirty[1]&256&&c.sort((y,I)=>y.x-I.x),e.$$.dirty[0]&4|e.$$.dirty[1]&256&&n(16,h=ge(V,c,[],40)),e.$$.dirty[0]&134217728&&n(38,p=W.descendants().filter(y=>y.data.name==="Quality Control"&&y.data.type!=="pax_quality_control")),e.$$.dirty[1]&128&&p.sort((y,I)=>y.x-I.x),e.$$.dirty[0]&4|e.$$.dirty[1]&128&&n(15,g=ge(V,p,[],40)),e.$$.dirty[0]&134217728&&n(37,w=W.descendants().filter(y=>{const I=y.data.type;return(I==null?void 0:I.slice(-2))==="db"&&I!=="pax_db"})),e.$$.dirty[1]&64&&w.sort((y,I)=>y.x-I.x),e.$$.dirty[0]&4|e.$$.dirty[1]&64&&n(14,C=ge(V,w,[],40)),e.$$.dirty[0]&134217728&&n(36,b=W.descendants().filter(y=>y.data.name==="paper")),e.$$.dirty[1]&32&&b.sort((y,I)=>y.x-I.x),e.$$.dirty[0]&4|e.$$.dirty[1]&32&&n(13,v=ge(V,b,[],40)),e.$$.dirty[0]&134217728&&n(35,$=W.descendants().filter(y=>y.data.type==="prog"&&y.parent.data.name!=="PA-X")),e.$$.dirty[1]&16&&$.sort((y,I)=>y.x-I.x),e.$$.dirty[0]&4|e.$$.dirty[1]&16&&n(12,k=ge(V,$,[],40)),e.$$.dirty[0]&134217728&&n(34,A=W.descendants().filter(y=>y.data.type==="prog"||y.data.type==="prog_overview")),e.$$.dirty[1]&8&&A.sort((y,I)=>y.x-I.x),e.$$.dirty[0]&4|e.$$.dirty[1]&8&&n(11,N=ge(V,A,[],40)),e.$$.dirty[0]&134217728&&n(33,D=W.descendants().filter(y=>{var Ce;if(y.data.type!=="vis")return!1;const I=y.parent,ne=(Ce=y.parent)==null?void 0:Ce.parent;return!(I&&I.data.name==="PA-X"||ne&&ne.data.name==="PA-X")})),e.$$.dirty[1]&4&&D.sort((y,I)=>y.x-I.x),e.$$.dirty[0]&134217728|e.$$.dirty[1]&4&&n(32,S=W.descendants().filter(y=>{var I;return!D.includes(y)&&((I=y.parent)==null?void 0:I.ancestors().some(ne=>ne.data.name==="PA-X"))})),e.$$.dirty[0]&4|e.$$.dirty[1]&6&&n(10,M=ge(V,D,S,40)),e.$$.dirty[0]&134217728&&n(31,F=W.descendants().filter(y=>y.data.type==="vis"&&y.parent.data.name!=="PA-X").sort((y,I)=>y.x-I.x)),e.$$.dirty[1]&1&&F.sort((y,I)=>y.x-I.x),e.$$.dirty[0]&134217728|e.$$.dirty[1]&1&&n(30,U=W.descendants().filter(y=>{var I;return!F.includes(y)&&((I=y.parent)==null?void 0:I.ancestors().some(ne=>ne.data.name=="PA-X"))})),e.$$.dirty[0]&1073741828|e.$$.dirty[1]&1&&n(9,B=ge(V,F,U,40)),e.$$.dirty[0]&134217728&&n(29,E=W.descendants().filter(y=>y.data.type==="vis").sort((y,I)=>y.x-I.x)),e.$$.dirty[0]&536870912&&E.sort((y,I)=>y.x-I.x),e.$$.dirty[0]&671088640&&n(28,q=W.descendants().filter(y=>{var I;return!E.includes(y)&&((I=y.parent)==null?void 0:I.ancestors().some(ne=>ne.data.name=="PA-X"))})),e.$$.dirty[0]&805306372&&n(8,R=ge(V,E,q,40))},n(5,u=new Map),[d,O,V,te,he,u,f,se,R,B,M,N,k,v,C,g,h,o,a,Q,J,x,X,_,s,m,Y,W,q,E,U,F,S,D,A,$,b,w,p,c,r,i,we,rt,it,Lt,Pt,at]}class Ms extends et{constructor(t){super(),je(this,t,Ps,$s,xe,{nodesUp:22,linksUp:23,nodesDown:24,linksDown:25,highlightedLinks:0,currentLevelUp:1,currentLevelDown:26,yCenter:2,handleHoverEvent:3,handleClickEvents:4,rootUp:27},null,[-1,-1,-1])}}function yr(e,t,n){const r=e.slice();return r[1]=t[n],r[3]=n,r}function wr(e){let t;return{c(){t=T("circle"),l(t,"cx",10*Math.cos((-90+e[3]*30)*Math.PI/180)),l(t,"cy",10*Math.sin((-90+e[3]*30)*Math.PI/180)),l(t,"r","2"),l(t,"fill","black")},m(n,r){P(n,t,r)},p:le,d(n){n&&L(t)}}}function Es(e){let t,n,r,i,a,o,f,u,c,h,p,g,w,C,b,v,$,k=G(Array(5)),A=[];for(let N=0;N<k.length;N+=1)A[N]=wr(yr(e,k,N));return{c(){t=T("g"),n=T("g"),r=T("circle"),o=T("text"),f=oe(`Artifact\r
    `),u=T("g"),c=T("circle"),p=T("text"),g=oe(`Process\r
    `),w=T("g"),C=T("circle");for(let N=0;N<A.length;N+=1)A[N].c();v=T("text"),$=oe("People"),l(r,"cx","0"),l(r,"cy","0"),l(r,"r","10"),l(r,"fill",i=(e[0]>=0,"white")),l(r,"stroke",a=e[0]>=0?"#00CCFF":"#005266"),l(r,"stroke-width","8"),l(o,"x","20"),l(o,"y","0"),l(o,"font-size","12"),l(o,"fill","white"),l(o,"alignment-baseline","middle"),l(n,"transform","translate(0, 0)"),l(c,"cx","0"),l(c,"cy","0"),l(c,"r","10"),l(c,"fill","none"),l(c,"stroke",h=e[0]>=0?"#00CCFF":"#005266"),l(c,"stroke-width","8"),l(p,"x","20"),l(p,"y","0"),l(p,"font-size","12"),l(p,"fill","white"),l(p,"alignment-baseline","middle"),l(u,"transform","translate(0, 30)"),l(C,"cx","0"),l(C,"cy","0"),l(C,"r","10"),l(C,"fill","none"),l(C,"stroke",b=e[0]>=0?"#00CCFF":"#005266"),l(C,"stroke-width","8"),l(v,"x","20"),l(v,"y","0"),l(v,"font-size","12"),l(v,"fill","white"),l(v,"alignment-baseline","middle"),l(w,"transform","translate(0, 60)"),l(t,"transform","translate(20, 50)")},m(N,D){P(N,t,D),z(t,n),z(n,r),z(n,o),z(o,f),z(t,u),z(u,c),z(u,p),z(p,g),z(t,w),z(w,C);for(let S=0;S<A.length;S+=1)A[S]&&A[S].m(w,null);z(w,v),z(v,$)},p(N,[D]){if(D&1&&i!==(i=(N[0]>=0,"white"))&&l(r,"fill",i),D&1&&a!==(a=N[0]>=0?"#00CCFF":"#005266")&&l(r,"stroke",a),D&1&&h!==(h=N[0]>=0?"#00CCFF":"#005266")&&l(c,"stroke",h),D&1&&b!==(b=N[0]>=0?"#00CCFF":"#005266")&&l(C,"stroke",b),D&0){k=G(Array(5));let S;for(S=0;S<k.length;S+=1){const M=yr(N,k,S);A[S]?A[S].p(M,D):(A[S]=wr(M),A[S].c(),A[S].m(w,v))}for(;S<A.length;S+=1)A[S].d(1);A.length=k.length}},i:le,o:le,d(N){N&&L(t),re(A,N)}}}function Ds(e,t,n){let{currentLevelDown:r}=t;return e.$$set=i=>{"currentLevelDown"in i&&n(0,r=i.currentLevelDown)},[r]}class Ss extends et{constructor(t){super(),je(this,t,Ds,Es,xe,{currentLevelDown:0})}}function vr(e,t,n){const r=e.slice();return r[5]=t[n],r}function br(e,t,n){const r=e.slice();return r[8]=t[n],r[10]=n,r}function kr(e){let t;return{c(){t=T("circle"),l(t,"cx",5+e[10]*4.5),l(t,"cy",5),l(t,"r","2"),l(t,"fill","white")},m(n,r){P(n,t,r)},p:le,d(n){n&&L(t)}}}function Ar(e){let t,n,r,i,a,o,f=e[5].data.name+"",u,c,h,p,g,w,C=G(Array(e[5].data.ppl)),b=[];for(let v=0;v<C.length;v+=1)b[v]=kr(br(e,C,v));return{c(){t=fe("a"),n=fe("div"),r=fe("div"),i=T("svg"),a=T("g"),o=T("text"),u=oe(f);for(let v=0;v<b.length;v+=1)b[v].c();c=K(),h=fe("div"),g=K(),l(o,"x","100"),l(o,"y","50"),l(o,"font-size","12"),l(o,"fill","white"),l(a,"transform","translate(5, 5)"),l(i,"width","100%"),l(i,"height","100%"),l(i,"preserveAspectRatio","none"),l(r,"class","segment-left svelte-1bp51wa"),pe(r,"flex","1"),pe(r,"border-right","1px solid rgba(128, 128, 128, 0.333)"),l(h,"class","segment-right svelte-1bp51wa"),l(h,"style",p="flex: 1; background-image: url('"+e[5].data.url+"'); background-size: contain; <!-- background-repeat: no-repeat; --> background-position: center;"),l(n,"class","detail-segment svelte-1bp51wa"),pe(n,"height",e[1]+"px"),pe(n,"width",e[2]+"px"),pe(n,"display","flex"),l(t,"href",w=e[5].data.link),l(t,"target","_blank")},m(v,$){P(v,t,$),z(t,n),z(n,r),z(r,i),z(i,a),z(a,o),z(o,u);for(let k=0;k<b.length;k+=1)b[k]&&b[k].m(a,null);z(n,c),z(n,h),z(t,g)},p(v,$){if($&1&&f!==(f=v[5].data.name+"")&&Ae(u,f),$&1){C=G(Array(v[5].data.ppl));let k;for(k=0;k<C.length;k+=1){const A=br(v,C,k);b[k]?b[k].p(A,$):(b[k]=kr(A),b[k].c(),b[k].m(a,null))}for(;k<b.length;k+=1)b[k].d(1);b.length=C.length}$&1&&p!==(p="flex: 1; background-image: url('"+v[5].data.url+"'); background-size: contain; <!-- background-repeat: no-repeat; --> background-position: center;")&&l(h,"style",p),$&2&&pe(n,"height",v[1]+"px"),$&4&&pe(n,"width",v[2]+"px"),$&1&&w!==(w=v[5].data.link)&&l(t,"href",w)},d(v){v&&L(t),re(b,v)}}}function Rs(e){let t,n=G(e[0]),r=[];for(let i=0;i<n.length;i+=1)r[i]=Ar(vr(e,n,i));return{c(){t=fe("div");for(let i=0;i<r.length;i+=1)r[i].c();l(t,"id","details"),pe(t,"height",innerHeight+"px"),pe(t,"width",e[2]+"px"),l(t,"class","svelte-1bp51wa")},m(i,a){P(i,t,a);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(t,null)},p(i,[a]){if(a&7){n=G(i[0]);let o;for(o=0;o<n.length;o+=1){const f=vr(i,n,o);r[o]?r[o].p(f,a):(r[o]=Ar(f),r[o].c(),r[o].m(t,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}a&4&&pe(t,"width",i[2]+"px")},i:le,o:le,d(i){i&&L(t),re(r,i)}}}function Xs(e,t,n){let{fullChain:r=[]}=t,{segment_height:i}=t,{details_width:a=300}=t;async function o(){await ci();const f=document.getElementById("details"),u=f.getBoundingClientRect(),c=f.querySelectorAll(".detail-segment");[{from:"pax_collect",to:"pax_transcribe",id:"collect-transcribe"},{from:"pax_code",to:"pax_transcribe",id:"code-transcribe"}].flatMap(({from:p,to:g,id:w})=>{const C=r.findIndex(F=>F.data.type===p),b=r.findIndex(F=>F.data.type===g);if(C===-1||b===-1)return[];const v=c[C].getBoundingClientRect(),$=c[b].getBoundingClientRect(),k=v.left-u.left+10,A=v.top-u.top+11,N=$.left-u.left+10,D=$.top-u.top+11,S=60;return[{path:`M ${k} ${A} C ${k+S} ${A}, ${N+S} ${D}, ${N} ${D}`,id:w}]})}return e.$$set=f=>{"fullChain"in f&&n(0,r=f.fullChain),"segment_height"in f&&n(1,i=f.segment_height),"details_width"in f&&n(2,a=f.details_width)},e.$$.update=()=>{e.$$.dirty&1&&r.length>0&&o()},[r,i,a]}class Ts extends et{constructor(t){super(),je(this,t,Xs,Rs,xe,{fullChain:0,segment_height:1,details_width:2})}}function Cr(e){let t,n,r,i,a,o;return r=new vs({props:{currentLevelUp:e[7],ucdpNodes:e[12],nodesUp:e[2],nodesDown:e[3],regionLabels:e[15],yCenter:e[8]}}),i=new Ms({props:{nodesUp:e[2],linksUp:e[10],nodesDown:e[3],linksDown:e[11],highlightedLinks:e[13],currentLevelUp:e[7],currentLevelDown:e[6],yCenter:e[8],handleHoverEvent:e[18],handleClickEvents:e[19],rootUp:e[4]}}),a=new Ss({props:{currentLevelDown:e[6]}}),{c(){t=T("svg"),n=T("g"),ct(r.$$.fragment),ct(i.$$.fragment),ct(a.$$.fragment),l(n,"transform",`translate(${e[16].right}, ${e[16].top})`),l(t,"width",e[0]),l(t,"height",e[1])},m(f,u){P(f,t,u),z(t,n),Ve(r,n,null),Ve(i,n,null),Ve(a,t,null),o=!0},p(f,u){const c={};u[0]&128&&(c.currentLevelUp=f[7]),u[0]&4096&&(c.ucdpNodes=f[12]),u[0]&4&&(c.nodesUp=f[2]),u[0]&8&&(c.nodesDown=f[3]),u[0]&32768&&(c.regionLabels=f[15]),u[0]&256&&(c.yCenter=f[8]),r.$set(c);const h={};u[0]&4&&(h.nodesUp=f[2]),u[0]&1024&&(h.linksUp=f[10]),u[0]&8&&(h.nodesDown=f[3]),u[0]&2048&&(h.linksDown=f[11]),u[0]&8192&&(h.highlightedLinks=f[13]),u[0]&128&&(h.currentLevelUp=f[7]),u[0]&64&&(h.currentLevelDown=f[6]),u[0]&256&&(h.yCenter=f[8]),u[0]&16&&(h.rootUp=f[4]),i.$set(h);const p={};u[0]&64&&(p.currentLevelDown=f[6]),a.$set(p),(!o||u[0]&1)&&l(t,"width",f[0]),(!o||u[0]&2)&&l(t,"height",f[1])},i(f){o||(ke(r.$$.fragment,f),ke(i.$$.fragment,f),ke(a.$$.fragment,f),o=!0)},o(f){Ie(r.$$.fragment,f),Ie(i.$$.fragment,f),Ie(a.$$.fragment,f),o=!1},d(f){f&&L(t),We(r),We(i),We(a)}}}function Is(e){let t,n,r,i,a,o,f,u,c,h,p,g,w,C,b=(e[0]!==void 0||e[1]!==void 0)&&Cr(e);return h=new Ts({props:{fullChain:e[5],details_width:e[9],segment_height:e[14]}}),{c(){t=fe("div"),n=fe("div"),r=K(),i=fe("div"),a=fe("button"),a.textContent="reset",o=K(),f=fe("button"),f.textContent="next",u=K(),b&&b.c(),c=K(),ct(h.$$.fragment),l(n,"id","step_description"),l(n,"class","svelte-1hbfc8q"),l(a,"id","reset"),l(a,"class","svelte-1hbfc8q"),l(f,"id","next"),l(f,"class","svelte-1hbfc8q"),l(i,"class","tree svelte-1hbfc8q"),l(t,"id","wrapper"),l(t,"class","svelte-1hbfc8q"),_t(()=>e[30].call(t))},m(v,$){P(v,t,$),z(t,n),z(t,r),z(t,i),z(i,a),z(i,o),z(i,f),z(i,u),b&&b.m(i,null),z(t,c),Ve(h,t,null),p=ui(t,e[30].bind(t)),g=!0,w||(C=[be(a,"click",e[17]),be(f,"click",e[20])],w=!0)},p(v,$){v[0]!==void 0||v[1]!==void 0?b?(b.p(v,$),$[0]&3&&ke(b,1)):(b=Cr(v),b.c(),ke(b,1),b.m(i,null)):b&&(di(),Ie(b,1,1,()=>{b=null}),_i());const k={};$[0]&32&&(k.fullChain=v[5]),$[0]&512&&(k.details_width=v[9]),$[0]&16384&&(k.segment_height=v[14]),h.$set(k)},i(v){g||(ke(b),ke(h.$$.fragment,v),g=!0)},o(v){Ie(b),Ie(h.$$.fragment,v),g=!1},d(v){v&&L(t),b&&b.d(),We(h),p(),w=!1,Se(C)}}}const $r=1;function It(e,t){let n=e;for(;n;){if(t.has(n))return!0;n=n.parent}return!1}function Us(e){switch(e.data.name){case"agreement":return 0;case"negotiation":return 1;case"conflict":return 2;default:return 0}}function Fs(e,t,n){let r,i,a,o,f,u,c,h,p,g,w,C=1,b=[],v=null,$,k={top:20,right:100,bottom:20,left:100},A=[],N=[],D=[],S=[],M=[],F=Qe(Xt,W=>W.children),U=Qe({name:"__downward_root__",children:Xt.downward},W=>W.children),B=Qe({name:"__ucdp_root__",children:Xt.ucdp},W=>W.children);const E={0:.7,1:.7,2:.7,3:.7,4:.7,5:.7};function q(W,Q){W.children&&W.children.forEach(J=>{const x=E[J.depth]??$r;J.y=W.y+x*Q,q(J,Q)})}function R(W,Q){return new Set(Ci(W.slice()).slice(0,Q))}function X(){n(24,r=g-k.right-k.left),n(9,C=1),n(5,m=[]),v=null,n(13,_=new Set),Ne(".ind_line").style("opacity",.5),Z("#step_description").style("visibility","visible")}let _=new Set;function s(W){if(!v){let Q=W.node;if(!Q){n(13,_=new Set);return}const J=new Set;for(;Q.parent;){const x=`${Q.parent.data.id}${Q.data.id}`;J.add(x),Q=Q.parent}S.forEach(x=>{if(!It(x,$)){const se=`${x.parent.data.id}${x.data.id}`;J.add(se)}}),n(13,_=J)}}let m=[];function d(W){var se;Z("#step_description").style("visibility","hidden"),Ne(".ind_line").style("opacity",0),v==null&&n(24,r=g/2-k.right),v=!0,n(5,m=[]),n(9,C=r),b=W.node;let Q=b,J=D[16],x=[];for(;Q;)m.push(Q),Q=Q.parent;for(;J;)console.log(J),x.push(J),J=((se=J.children)==null?void 0:se[0])||null;n(5,m=m.concat(x))}let O=-1,Y=-1,V;function te(){O<p?(n(6,O+=1),O===2&&n(7,Y+=1)):n(7,Y+=1)}function he(){g=this.clientWidth,w=this.clientHeight,n(0,g),n(1,w)}return e.$$.update=()=>{if(e.$$.dirty[0]&1&&n(24,r=g-k.right-k.left),e.$$.dirty[0]&2&&n(29,i=w-k.top-k.bottom),e.$$.dirty[0]&536870912&&n(8,a=i*.85),e.$$.dirty[0]&256&&n(26,o=a),e.$$.dirty[0]&603979776&&n(25,f=i-o),e.$$.dirty[0]&83886080&&n(28,u=Pn().size([r,o])),e.$$.dirty[0]&50331648&&n(27,c=Pn().size([r,f])),e.$$.dirty[0]&534773788){let we=function(H,ee){H.y+=ee,H.children&&H.children.forEach($e=>we($e,ee))};var W=we;u(F),c(U),c(B),gs(F,"PA-X Local","VUE");const Q=F.descendants().find(H=>H.data.name==="Collect");n(22,U.x=Q.x,U),n(4,F.y=0,F),n(23,B.x=r/1.2,B),n(23,B.y-=20,B);const J=F.height+1;let x=0;for(let H=1;H<=J;H++)x+=E[H]??$r;const se=o/x;q(F,se);const rt=F.descendants().find(H=>{var ee,$e;return H.data.name==="d3"&&(($e=(ee=H.parent)==null?void 0:ee.data)==null?void 0:$e.name)==="PAA-X"});if(rt){const H=rt.y;F.descendants().forEach(ee=>{var $e,tn,nn,rn,an,on;if(ee.data.name==="d3"&&((tn=($e=ee.parent)==null?void 0:$e.data)==null?void 0:tn.name)==="PA-X"||ee.data.name==="Tracker"&&((rn=(nn=ee.parent)==null?void 0:nn.data)==null?void 0:rn.name)==="PA-X"||ee.data.name==="Infographics"&&((on=(an=ee.parent)==null?void 0:an.data)==null?void 0:on.name)==="PA-X"){const Mt=H-ee.y;we(ee,Mt)}else if(ee.data.name==="Research"){const Mt=H-ee.y;we(ee,Mt)}})}let it=F.descendants().find(H=>H.data.name==="Infographics"),Lt=F.descendants().find(H=>H.data.name==="Scrollytelling");F.descendants().find(H=>H.data.name==="PBi Youth"),it.y=Lt.y,it.x+=20;const Pt=f/(U.height+.8);ii(U,Pt);const at=U.descendants().filter(H=>H.data.name==="conflict"),y=at.length>0?at[0].y:null;y!==null&&B.descendants().forEach(H=>{H.parent&&(H.y=y)}),Mn(U,r,{nodeSpacing:10,continentGap:80}),Mn(B,r,{nodeSpacing:10,continentGap:80}),n(2,A=F.descendants()),n(10,N=A.slice(1)),n(3,D=U.descendants().slice(1)),n(11,S=D.filter(H=>H.parent)),n(12,M=B.descendants());const I=U.descendants().slice(1),ne=I.filter(H=>H.parent),Ce=I.filter(H=>H.depth===1);n(21,$=R(Ce,20)),n(3,D=I.filter(H=>H.data.name==="conflict"?!0:!It(H,$))),n(11,S=ne.filter(H=>H.data.name==="conflict"?!0:!It(H,$)))}if(e.$$.dirty[0]&37748992&&n(15,h=(()=>{if(!U.children)return[];const Q=Dr(U.children,J=>J.data.continent??"Unknown");return Array.from(Q,([J,x])=>{var se;return{continent:J,count:((se=x[0])==null?void 0:se.data.number)??x.length,x:Ai(x,we=>we.x),y:a+f}})})()),e.$$.dirty[0]&34&&m.length>1){const Q=m.length*4;n(14,V=(w-Q)/m.length)}e.$$.dirty[0]&4194304&&U.descendants().forEach(Q=>{Q.revealLevel=Us(Q)}),e.$$.dirty[0]&8&&(p=Math.max(...D.map(Q=>Q.revealLevel))),e.$$.dirty[0]&192&&(Y===-1&&O===0?Z("#step_description").style("visibility","visible").html(j.workflow[0].description):Y===-1&&O===1?Z("#step_description").html(j.workflow[1].description):Y===0?Z("#step_description").html(j.workflow[2].description):Y===1?Z("#step_description").html(j.workflow[3].description):Y===2?Z("#step_description").html(j.workflow[4].description):Y===3?Z("#step_description").html(j.workflow[5].description):Y===4?Z("#step_description").html(j.workflow[6].description):Y===5?Z("#step_description").html(j.workflow[7].description):Y===6?Z("#step_description").html(j.workflow[8].description):Y===7?(Z("#step_description").html(j.workflow[9].description),Z(".trackerCircle").remove()):Y===8?Z("#step_description").html(j.workflow[10].description):Y===9?(Ne(".sub_db_research, .research_link").style("stroke","#bfbfbf"),Z("#step_description").html(j.workflow[11].description),Z(".progPathFirst").remove()):Y===10?(Z("#step_description").html(j.workflow[12].description),Ne(".visPathFirst, .pbiCircle").remove()):Y===11?Z("#step_description").html(j.workflow[13].description):Y===12?Z("#step_description").html(j.workflow[14].description):Y===13?Z("#step_description").html(j.workflow[15].description):Y===14?(Z("#step_description").html(j.workflow[16].description),Ne(".vis_link").style("stroke","#bfbfbf")):Y===15?(Z("#step_description").html(j.workflow[17].description),Ne(".sub_vis_research").style("stroke","#bfbfbf")):Y===16&&(Ne(".ucdp_link").style("stroke","#bfbfbf"),Z("#step_description").html(j.workflow[18].description)))},[g,w,A,D,F,m,O,Y,a,C,N,S,M,_,V,h,k,X,s,d,te,$,U,B,r,f,o,c,u,i,he]}class qs extends et{constructor(t){super(),je(this,t,Fs,Is,xe,{},null,[-1,-1])}}new qs({target:document.getElementById("app")});
